(function(){!function(c,b,d,a){c.site=c.fn.site=function(j){var C,e,F=(new Date).getTime(),z=[],n=arguments[0],E="string"==typeof n,x=[].slice.call(arguments,1),k=c.isPlainObject(j)?c.extend(!0,{},c.site.settings,j):c.extend({},c.site.settings),w=k.namespace,t=k.error,i="module-"+w,D=c(d),q=D,B=this,A=q.data(i);return C={initialize:function(){C.instantiate()},instantiate:function(){C.verbose("Storing instance of site",C),A=C,q.data(i,C)},normalize:function(){C.fix.console(),C.fix.requestAnimationFrame()},fix:{console:function(){C.debug("Normalizing window.console"),(console===a||console.log===a)&&(C.verbose("Console not available, normalizing events"),C.disable.console()),("undefined"==typeof console.group||"undefined"==typeof console.groupEnd||"undefined"==typeof console.groupCollapsed)&&(C.verbose("Console group not available, normalizing events"),b.console.group=function(){},b.console.groupEnd=function(){},b.console.groupCollapsed=function(){}),"undefined"==typeof console.markTimeline&&(C.verbose("Mark timeline not available, normalizing events"),b.console.markTimeline=function(){})},consoleClear:function(){C.debug("Disabling programmatic console clearing"),b.console.clear=function(){}},requestAnimationFrame:function(){C.debug("Normalizing requestAnimationFrame"),b.requestAnimationFrame===a&&(C.debug("RequestAnimationFrame not available, normailizing event"),b.requestAnimationFrame=b.requestAnimationFrame||b.mozRequestAnimationFrame||b.webkitRequestAnimationFrame||b.msRequestAnimationFrame||function(f){setTimeout(f,0)})}},moduleExists:function(f){return c.fn[f]!==a&&c.fn[f].settings!==a},enabled:{modules:function(f){var g=[];return f=f||k.modules,c.each(f,function(l,h){C.moduleExists(h)&&g.push(h)}),g}},disabled:{modules:function(f){var g=[];return f=f||k.modules,c.each(f,function(l,h){C.moduleExists(h)||g.push(h)}),g}},change:{setting:function(f,l,h,g){h="string"==typeof h?"all"===h?k.modules:[h]:h||k.modules,g=g!==a?g:!0,c.each(h,function(m,r){var p,u=C.moduleExists(r)?c.fn[r].settings.namespace||!1:!0;C.moduleExists(r)&&(C.verbose("Changing default setting",f,l,r),c.fn[r].settings[f]=l,g&&u&&(p=c(":data(module-"+u+")"),p.length>0&&(C.verbose("Modifying existing settings",p),p[r]("setting",f,l))))})},settings:function(f,h,g){h="string"==typeof h?[h]:h||k.modules,g=g!==a?g:!0,c.each(h,function(o,l){var m;C.moduleExists(l)&&(C.verbose("Changing default setting",f,l),c.extend(!0,c.fn[l].settings,f),g&&w&&(m=c(":data(module-"+w+")"),m.length>0&&(C.verbose("Modifying existing settings",m),m[l]("setting",f))))})}},enable:{console:function(){C.console(!0)},debug:function(g,f){g=g||k.modules,C.debug("Enabling debug for modules",g),C.change.setting("debug",!0,g,f)},verbose:function(g,f){g=g||k.modules,C.debug("Enabling verbose debug for modules",g),C.change.setting("verbose",!0,g,f)}},disable:{console:function(){C.console(!1)},debug:function(g,f){g=g||k.modules,C.debug("Disabling debug for modules",g),C.change.setting("debug",!1,g,f)},verbose:function(g,f){g=g||k.modules,C.debug("Disabling verbose debug for modules",g),C.change.setting("verbose",!1,g,f)}},console:function(f){if(f){if(A.cache.console===a){return void C.error(t.console)}C.debug("Restoring console function"),b.console=A.cache.console}else{C.debug("Disabling console function"),A.cache.console=b.console,b.console={clear:function(){},error:function(){},group:function(){},groupCollapsed:function(){},groupEnd:function(){},info:function(){},log:function(){},markTimeline:function(){},warn:function(){}}}},destroy:function(){C.verbose("Destroying previous site for",q),q.removeData(i)},cache:{},setting:function(f,g){if(c.isPlainObject(f)){c.extend(!0,k,f)}else{if(g===a){return k[f]}k[f]=g}},internal:function(f,g){if(c.isPlainObject(f)){c.extend(!0,C,f)}else{if(g===a){return C[f]}C[f]=g}},debug:function(){k.debug&&(k.performance?C.performance.log(arguments):(C.debug=Function.prototype.bind.call(console.info,console,k.name+":"),C.debug.apply(console,arguments)))},verbose:function(){k.verbose&&k.debug&&(k.performance?C.performance.log(arguments):(C.verbose=Function.prototype.bind.call(console.info,console,k.name+":"),C.verbose.apply(console,arguments)))},error:function(){C.error=Function.prototype.bind.call(console.error,console,k.name+":"),C.error.apply(console,arguments)},performance:{log:function(h){var g,l,f;k.performance&&(g=(new Date).getTime(),f=F||g,l=g-f,F=g,z.push({Element:B,Name:h[0],Arguments:[].slice.call(h,1)||"","Execution Time":l})),clearTimeout(C.performance.timer),C.performance.timer=setTimeout(C.performance.display,500)},display:function(){var f=k.name+":",g=0;F=!1,clearTimeout(C.performance.timer),c.each(z,function(l,h){g+=h["Execution Time"]}),f+=" "+g+"ms",(console.group!==a||console.table!==a)&&z.length>0&&(console.groupCollapsed(f),console.table?console.table(z):c.each(z,function(l,h){console.log(h.Name+": "+h["Execution Time"]+"ms")}),console.groupEnd()),z=[]}},invoke:function(h,v,p){var m,r,f,g=A;return v=v||x,p=B||p,"string"==typeof h&&g!==a&&(h=h.split(/[\. ]/),m=h.length-1,c.each(h,function(u,s){var l=u!=m?s+h[u+1].charAt(0).toUpperCase()+h[u+1].slice(1):h;if(c.isPlainObject(g[l])&&u!=m){g=g[l]}else{if(g[l]!==a){return r=g[l],!1}if(!c.isPlainObject(g[s])||u==m){return g[s]!==a?(r=g[s],!1):(C.error(t.method,h),!1)}g=g[s]}})),c.isFunction(r)?f=r.apply(p,v):r!==a&&(f=r),c.isArray(e)?e.push(f):e!==a?e=[e,f]:f!==a&&(e=f),r}},E?(A===a&&C.initialize(),C.invoke(n)):(A!==a&&C.destroy(),C.initialize()),e!==a?e:this},c.site.settings={name:"Site",namespace:"site",error:{console:"Console cannot be restored, most likely it was overwritten outside of module",method:"The method you called is not defined."},debug:!1,verbose:!1,performance:!0,modules:["accordion","api","checkbox","dimmer","dropdown","embed","form","modal","nag","popup","rating","shape","sidebar","state","sticky","tab","transition","visit","visibility"],siteNamespace:"site",namespaceStub:{cache:{},config:{},sections:{},section:{},utilities:{}}},c.extend(c.expr[":"],{data:c.expr.createPseudo?c.expr.createPseudo(function(e){return function(f){return !!c.data(f,e)}}):function(f,g,e){return !!c.data(f,e[3])}})}(jQuery,window,document),function(c,b,d,a){c.fn.form=function(p){var f,k=c(this),e=k.selector||"",q=(new Date).getTime(),j=[],h=arguments[0],n=arguments[1],i="string"==typeof h,g=[].slice.call(arguments,1);return k.each(function(){var X,W,Q,H,V,Y,u,B,L,G,U,m,l,N,r,o,J,I,K=c(this),s=this,M=[],t=!1;I={initialize:function(){I.get.settings(),i?(J===a&&I.instantiate(),I.invoke(h)):(I.verbose("Initializing form validation",K,B),I.bindEvents(),I.set.defaults(),I.instantiate())},instantiate:function(){I.verbose("Storing instance of module",I),J=I,K.data(r,I)},destroy:function(){I.verbose("Destroying previous module",J),I.removeEvents(),K.removeData(r)},refresh:function(){I.verbose("Refreshing selector cache"),X=K.find(U.field),W=K.find(U.group),Q=K.find(U.message),H=K.find(U.prompt),V=K.find(U.submit),Y=K.find(U.clear),u=K.find(U.reset)},submit:function(){I.verbose("Submitting form",K),K.submit()},attachEvents:function(v,w){w=w||"submit",c(v).on("click"+o,function(x){I[w](),x.preventDefault()})},bindEvents:function(){I.verbose("Attaching form events"),K.on("submit"+o,I.validate.form).on("blur"+o,U.field,I.event.field.blur).on("click"+o,U.submit,I.submit).on("click"+o,U.reset,I.reset).on("click"+o,U.clear,I.clear),B.keyboardShortcuts&&K.on("keydown"+o,U.field,I.event.field.keydown),X.each(function(){var w=c(this),x=w.prop("type"),v=I.get.changeEvent(x,w);c(this).on(v+o,I.event.field.change)})},clear:function(){X.each(function(){var x=c(this),D=x.parent(),w=x.closest(W),A=w.find(U.prompt),v=x.data(G.defaultValue)||"",z=D.is(U.uiCheckbox),y=D.is(U.uiDropdown),C=w.hasClass(m.error);C&&(I.verbose("Resetting error on field",w),w.removeClass(m.error),A.remove()),y?(I.verbose("Resetting dropdown value",D,v),D.dropdown("clear")):z?x.prop("checked",!1):(I.verbose("Resetting field value",x,v),x.val(""))})},reset:function(){X.each(function(){var x=c(this),D=x.parent(),A=x.closest(W),w=A.find(U.prompt),z=x.data(G.defaultValue),y=D.is(U.uiCheckbox),C=D.is(U.uiDropdown),v=A.hasClass(m.error);z===a&&(z=""),v&&(I.verbose("Resetting error on field",A),A.removeClass(m.error),w.remove()),C?(I.verbose("Resetting dropdown value",D,z),D.dropdown("restore defaults")):y?(I.verbose("Resetting checkbox value",D,z),x.prop("checked",z)):(I.verbose("Resetting field value",x,z),x.val(z))})},is:{valid:function(){var v=!0;return I.verbose("Checking if form is valid"),c.each(L,function(w,x){I.validate.field(x)||(v=!1)}),v}},removeEvents:function(){K.off(o),X.off(o),V.off(o),X.off(o)},event:{field:{keydown:function(w){var y=c(this),v=w.which,x={enter:13,escape:27};v==x.escape&&(I.verbose("Escape key pressed blurring field"),y.blur()),!w.ctrlKey&&v==x.enter&&y.is(U.input)&&y.not(U.checkbox).length>0&&(t||(y.one("keyup"+o,I.event.field.keyup),I.submit(),I.debug("Enter pressed on input submitting form")),t=!0)},keyup:function(){t=!1},blur:function(){var w=c(this),x=w.closest(W),v=I.get.validation(w);x.hasClass(m.error)?(I.debug("Revalidating field",w,v),I.validate.field(v)):("blur"==B.on||"change"==B.on)&&I.validate.field(v)},change:function(){var v=c(this),w=v.closest(W);("change"==B.on||w.hasClass(m.error)&&B.revalidate)&&(clearTimeout(I.timer),I.timer=setTimeout(function(){I.debug("Revalidating field",v,I.get.validation(v)),I.validate.field(I.get.validation(v))},B.delay))}}},get:{changeEvent:function(w,v){return"checkbox"==w||"radio"==w||"hidden"==w||v.is("select")?"change":I.get.inputEvent()},inputEvent:function(){return d.createElement("input").oninput!==a?"input":d.createElement("input").onpropertychange!==a?"propertychange":"keyup"},settings:function(){if(c.isPlainObject(p)){var w=Object.keys(p),v=w.length>0?p[w[0]].identifier!==a:!1;v?(B=c.extend(!0,{},c.fn.form.settings,n),L=c.extend({},c.fn.form.settings.defaults,p),I.error(B.error.oldSyntax,s),I.verbose("Extending settings from legacy parameters",L,B)):(B=c.extend(!0,{},c.fn.form.settings,p),L=c.extend({},c.fn.form.settings.defaults,B.fields),I.verbose("Extending settings",L,B))}else{B=c.fn.form.settings,L=c.fn.form.settings.defaults,I.verbose("Using default form validation",L,B)}N=B.namespace,G=B.metadata,U=B.selector,m=B.className,l=B.error,r="module-"+N,o="."+N,J=K.data(r),I.refresh()},field:function(v){return I.verbose("Finding field with identifier",v),X.filter("#"+v).length>0?X.filter("#"+v):X.filter('[name="'+v+'"]').length>0?X.filter('[name="'+v+'"]'):X.filter('[name="'+v+'[]"]').length>0?X.filter('[name="'+v+'[]"]'):X.filter("[data-"+G.validate+'="'+v+'"]').length>0?X.filter("[data-"+G.validate+'="'+v+'"]'):c("<input/>")},fields:function(v){var w=c();return c.each(v,function(y,x){w=w.add(I.get.field(x))}),w},validation:function(v){var w;return L?(c.each(L,function(y,x){I.get.field(x.identifier)[0]==v[0]&&(w=x)}),w||!1):!1},value:function(w){var v,x=[];return x.push(w),v=I.get.values.call(s,x),v[w]},values:function(w){var x=c.isArray(w)?I.get.fields(w):X,v={};return x.each(function(O,A){var z=c(A),E=(z.prop("type"),z.prop("name")),y=z.val(),P=z.is(U.checkbox),D=z.is(U.radio),C=-1!==E.indexOf("[]"),F=P?z.is(":checked"):!1;if(E){if(C){if(E=E.replace("[]",""),v[E]||(v[E]=[]),P){if(!F){return I.debug("Omitted unchecked checkbox",z),!0}v[E].push(y)}else{v[E].push(y)}}else{if(D){F&&(v[E]=y)}else{if(P){if(!F){return I.debug("Omitted unchecked checkbox",z),!0}v[E]=!0}else{v[E]=y}}}}}),v}},has:{field:function(v){return I.verbose("Checking for existence of a field with identifier",v),X.filter("#"+v).length>0?!0:X.filter('[name="'+v+'"]').length>0?!0:X.filter("[data-"+G.validate+'="'+v+'"]').length>0?!0:!1}},add:{prompt:function(w,A){var z=I.get.field(w),v=z.closest(W),y=v.children(U.prompt),x=0!==y.length;A="string"==typeof A?[A]:A,I.verbose("Adding field error state",w),v.addClass(m.error),B.inline&&(x||(y=B.templates.prompt(A),y.appendTo(v)),y.html(A[0]),x?I.verbose("Inline errors are disabled, no inline error added",w):B.transition&&c.fn.transition!==a&&K.transition("is supported")?(I.verbose("Displaying error with css transition",B.transition),y.transition(B.transition+" in",B.duration)):(I.verbose("Displaying error with fallback javascript animation"),y.fadeIn(B.duration)))},errors:function(v){I.debug("Adding form error messages",v),Q.html(B.templates.error(v))}},remove:{prompt:function(w){var y=I.get.field(w.identifier),x=y.closest(W),v=x.children(U.prompt);x.removeClass(m.error),B.inline&&v.is(":visible")&&(I.verbose("Removing prompt for field",w),B.transition&&c.fn.transition!==a&&K.transition("is supported")?v.transition(B.transition+" out",B.duration,function(){v.remove()}):v.fadeOut(B.duration,function(){v.remove()}))}},set:{success:function(){K.removeClass(m.error).addClass(m.success)},defaults:function(){X.each(function(){var w=c(this),x=w.filter(U.checkbox).length>0,v=x?w.is(":checked"):w.val();w.data(G.defaultValue,v)})},error:function(){K.removeClass(m.success).addClass(m.error)},value:function(w,v){var x={};return x[w]=v,I.set.values.call(s,x)},values:function(v){c.isEmptyObject(v)||c.each(v,function(F,y){var A,x=I.get.field(F),D=x.parent(),w=c.isArray(y),O=D.is(U.uiCheckbox),C=D.is(U.uiDropdown),z=x.is(U.radio)&&O,E=x.length>0;E&&(w&&O?(I.verbose("Selecting multiple",y,x),D.checkbox("uncheck"),c.each(y,function(R,P){A=x.filter('[value="'+P+'"]'),D=A.parent(),A.length>0&&D.checkbox("check")})):z?(I.verbose("Selecting radio value",y,x),x.filter('[value="'+y+'"]').parent(U.uiCheckbox).checkbox("check")):O?(I.verbose("Setting checkbox value",y,D),D.checkbox(y===!0?"check":"uncheck")):C?(I.verbose("Setting dropdown value",y,D),D.dropdown("set selected",y)):(I.verbose("Setting field value",y,x),x.val(y)))})}},validate:{form:function(v){return t?!1:(M=[],I.is.valid()?(I.debug("Form has no validation errors, submitting"),I.set.success(),B.onSuccess.call(s,v)):(I.debug("Form has errors"),I.set.error(),B.inline||I.add.errors(M),K.data("moduleApi")!==a&&v.stopImmediatePropagation(),B.onFailure.call(s,M)))},field:function(w){var y=I.get.field(w.identifier),x=!0,v=[];return y.prop("disabled")?(I.debug("Field is disabled. Skipping",w.identifier),x=!0):w.optional&&""===c.trim(y.val())?(I.debug("Field is optional and empty. Skipping",w.identifier),x=!0):w.rules!==a&&c.each(w.rules,function(z,A){I.has.field(w.identifier)&&!I.validate.rule(w,A)&&(I.debug("Field is invalid",w.identifier,A.type),v.push(A.prompt),x=!1)}),x?(I.remove.prompt(w,v),B.onValid.call(y),!0):(M=M.concat(v),I.add.prompt(w.identifier,v),B.onInvalid.call(y,v),!1)},rule:function(E,x){var z,w,C,v=I.get.field(E.identifier),F=x.type,A=v.val(),y=F.match(B.regExp.bracket),D=!0;if(A=c.trim(v.val()+""),y){if(w=""+y[1],C=F.replace(y[0],""),z=B.rules[C],!c.isFunction(z)){return void I.error(l.noRule,C)}D=z.call(v,A,w)}else{if(z=B.rules[F],!c.isFunction(z)){return void I.error(l.noRule,F)}D=z.call(v,A)}return D}},setting:function(v,w){if(c.isPlainObject(v)){c.extend(!0,B,v)}else{if(w===a){return B[v]}B[v]=w}},internal:function(v,w){if(c.isPlainObject(v)){c.extend(!0,I,v)}else{if(w===a){return I[v]}I[v]=w}},debug:function(){B.debug&&(B.performance?I.performance.log(arguments):(I.debug=Function.prototype.bind.call(console.info,console,B.name+":"),I.debug.apply(console,arguments)))},verbose:function(){B.verbose&&B.debug&&(B.performance?I.performance.log(arguments):(I.verbose=Function.prototype.bind.call(console.info,console,B.name+":"),I.verbose.apply(console,arguments)))},error:function(){I.error=Function.prototype.bind.call(console.error,console,B.name+":"),I.error.apply(console,arguments)},performance:{log:function(x){var w,y,v;B.performance&&(w=(new Date).getTime(),v=q||w,y=w-v,q=w,j.push({Name:x[0],Arguments:[].slice.call(x,1)||"",Element:s,"Execution Time":y})),clearTimeout(I.performance.timer),I.performance.timer=setTimeout(I.performance.display,500)},display:function(){var v=B.name+":",w=0;q=!1,clearTimeout(I.performance.timer),c.each(j,function(y,x){w+=x["Execution Time"]}),v+=" "+w+"ms",e&&(v+=" '"+e+"'"),k.length>1&&(v+=" ("+k.length+")"),(console.group!==a||console.table!==a)&&j.length>0&&(console.groupCollapsed(v),console.table?console.table(j):c.each(j,function(y,x){console.log(x.Name+": "+x["Execution Time"]+"ms")}),console.groupEnd()),j=[]}},invoke:function(x,C,w){var z,y,A,v=J;return C=C||g,w=s||w,"string"==typeof x&&v!==a&&(x=x.split(/[\. ]/),z=x.length-1,c.each(x,function(F,E){var D=F!=z?E+x[F+1].charAt(0).toUpperCase()+x[F+1].slice(1):x;if(c.isPlainObject(v[D])&&F!=z){v=v[D]}else{if(v[D]!==a){return y=v[D],!1}if(!c.isPlainObject(v[E])||F==z){return v[E]!==a?(y=v[E],!1):!1}v=v[E]}})),c.isFunction(y)?A=y.apply(w,C):y!==a&&(A=y),c.isArray(f)?f.push(A):f!==a?f=[f,A]:A!==a&&(f=A),y}},I.initialize()}),f!==a?f:this},c.fn.form.settings={name:"Form",namespace:"form",debug:!1,verbose:!1,performance:!0,fields:!1,keyboardShortcuts:!0,on:"submit",inline:!1,delay:200,revalidate:!0,transition:"scale",duration:200,onValid:function(){},onInvalid:function(){},onSuccess:function(){return !0},onFailure:function(){return !1},metadata:{defaultValue:"default",validate:"validate"},regExp:{bracket:/\[(.*)\]/i,escape:/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,email:"[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?",integer:/^\-?\d+$/,flags:/^\/(.*)\/(.*)?/,url:/(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/i},selector:{checkbox:'input[type="checkbox"], input[type="radio"]',clear:".clear",field:"input, textarea, select",group:".field",input:"input",message:".error.message",prompt:".prompt.label",radio:'input[type="radio"]',reset:'.reset:not([type="reset"])',submit:'.submit:not([type="submit"])',uiCheckbox:".ui.checkbox",uiDropdown:".ui.dropdown"},className:{error:"error",label:"ui prompt label",pressed:"down",success:"success"},error:{oldSyntax:"Starting in 2.0 forms now only take a single settings object. Validation settings converted to new syntax automatically.",noRule:"There is no rule matching the one you specified",method:"The method you called is not defined."},templates:{error:function(e){var f='<ul class="list">';return c.each(e,function(h,g){f+="<li>"+g+"</li>"}),f+="</ul>",c(f)},prompt:function(e){return c("<div/>").addClass("ui red pointing prompt label").html(e[0])}},rules:{checked:function(){return c(this).filter(":checked").length>0},contains:function(e,f){return f=f.replace(c.fn.form.settings.regExp.escape,"\\$&"),-1!==e.search(new RegExp(f,"i"))},containsExactly:function(e,f){return f=f.replace(c.fn.form.settings.regExp.escape,"\\$&"),-1!==e.search(new RegExp(f))},email:function(e){var f=new RegExp(c.fn.form.settings.regExp.email,"i");return f.test(e)},empty:function(e){return !(e===a||""===e||c.isArray(e)&&0===e.length)},integer:function(f,j){var i,e,h,g=c.fn.form.settings.regExp.integer;return j===a||""===j||".."===j||(-1==j.indexOf("..")?g.test(j)&&(i=e=j-0):(h=j.split("..",2),g.test(h[0])&&(i=h[0]-0),g.test(h[1])&&(e=h[1]-0))),g.test(f)&&(i===a||f>=i)&&(e===a||e>=f)},is:function(g,f){return f="string"==typeof f?f.toLowerCase():f,g="string"==typeof g?g.toLowerCase():g,g==f},isExactly:function(g,f){return g==f},length:function(g,f){return g!==a?g.length>=f:!1},different:function(e,g){var f;c(this);return c('[data-validate="'+g+'"]').length>0?f=c('[data-validate="'+g+'"]').val():c("#"+g).length>0?f=c("#"+g).val():c('[name="'+g+'"]').length>0?f=c('[name="'+g+'"]').val():c('[name="'+g+'[]"]').length>0&&(f=c('[name="'+g+'[]"]')),f!==a?e.toString()!==f.toString():!1},match:function(e,g){var f;c(this);return c('[data-validate="'+g+'"]').length>0?f=c('[data-validate="'+g+'"]').val():c("#"+g).length>0?f=c("#"+g).val():c('[name="'+g+'"]').length>0?f=c('[name="'+g+'"]').val():c('[name="'+g+'[]"]').length>0&&(f=c('[name="'+g+'[]"]')),f!==a?e.toString()==f.toString():!1},maxCount:function(e,f){return e=e.split(","),c.isArray(e)&&e.length<=f},exactCount:function(e,f){return e=e.split(","),c.isArray(e)&&e.length==f},minCount:function(e,f){return e=e.split(","),c.isArray(e)&&e.length>=f},regExp:function(f,h){var e,g=h.match(c.fn.form.settings.regExp.flags);return g&&(h=g.length>=2?g[1]:h,e=g.length>=3?g[2]:""),f.match(new RegExp(h,e))},maxLength:function(g,f){return g!==a?g.length<=f:!1},not:function(g,f){return g="string"==typeof g?g.toLowerCase():g,f="string"==typeof f?f.toLowerCase():f,g!=f},notExactly:function(g,f){return g!=f},url:function(e){return c.fn.form.settings.regExp.url.match(e)}}}}(jQuery,window,document),function(c,b,d,a){c.fn.accordion=function(m){var j,f=c(this),i=(new Date).getTime(),h=[],k=arguments[0],e="string"==typeof k,g=[].slice.call(arguments,1);b.requestAnimationFrame||b.mozRequestAnimationFrame||b.webkitRequestAnimationFrame||b.msRequestAnimationFrame||function(l){setTimeout(l,0)};return f.each(function(){var A,o,z=c.isPlainObject(m)?c.extend(!0,{},c.fn.accordion.settings,m):c.extend({},c.fn.accordion.settings),u=z.className,n=z.namespace,G=z.selector,t=z.error,D="."+n,B="module-"+n,E=f.selector||"",l=c(this),F=l.find(G.title),r=l.find(G.content),s=this,q=l.data(B);o={initialize:function(){o.debug("Initializing",l),o.bind.events(),o.observeChanges(),o.instantiate()},instantiate:function(){q=o,l.data(B,o)},destroy:function(){o.debug("Destroying previous instance",l),l.off(D).removeData(B)},refresh:function(){F=l.find(G.title),r=l.find(G.content)},observeChanges:function(){"MutationObserver" in b&&(A=new MutationObserver(function(p){o.debug("DOM tree modified, updating selector cache"),o.refresh()}),A.observe(s,{childList:!0,subtree:!0}),o.debug("Setting up mutation observer",A))},bind:{events:function(){o.debug("Binding delegated events"),l.on(z.on+D,G.trigger,o.event.click)}},event:{click:function(){o.toggle.call(this)}},toggle:function(v){var H=v!==a?"number"==typeof v?F.eq(v):c(v).closest(G.title):c(this).closest(G.title),y=H.next(r),p=y.hasClass(u.animating),x=y.hasClass(u.active),w=x&&!p,C=!x&&p;o.debug("Toggling visibility of content",H),w||C?z.collapsible?o.close.call(H):o.debug("Cannot close accordion content collapsing is disabled"):o.open.call(H)},open:function(v){var C=v!==a?"number"==typeof v?F.eq(v):c(v).closest(G.title):c(this).closest(G.title),y=C.next(r),p=y.hasClass(u.animating),x=y.hasClass(u.active),w=x||p;return w?void o.debug("Accordion already open, skipping",y):(o.debug("Opening accordion content",C),z.onOpening.call(y),z.exclusive&&o.closeOthers.call(C),C.addClass(u.active),y.stop(!0,!0).addClass(u.animating),z.animateChildren&&(c.fn.transition!==a&&l.transition("is supported")?y.children().transition({animation:"fade in",queue:!1,useFailSafe:!0,debug:z.debug,verbose:z.verbose,duration:z.duration}):y.children().stop(!0,!0).animate({opacity:1},z.duration,o.resetOpacity)),void y.slideDown(z.duration,z.easing,function(){y.removeClass(u.animating).addClass(u.active),o.reset.display.call(this),z.onOpen.call(this),z.onChange.call(this)}))},close:function(v){var H=v!==a?"number"==typeof v?F.eq(v):c(v).closest(G.title):c(this).closest(G.title),y=H.next(r),p=y.hasClass(u.animating),x=y.hasClass(u.active),w=!x&&p,C=x&&p;!x&&!w||C||(o.debug("Closing accordion content",y),z.onClosing.call(y),H.removeClass(u.active),y.stop(!0,!0).addClass(u.animating),z.animateChildren&&(c.fn.transition!==a&&l.transition("is supported")?y.children().transition({animation:"fade out",queue:!1,useFailSafe:!0,debug:z.debug,verbose:z.verbose,duration:z.duration}):y.children().stop(!0,!0).animate({opacity:0},z.duration,o.resetOpacity)),y.slideUp(z.duration,z.easing,function(){y.removeClass(u.animating).removeClass(u.active),o.reset.display.call(this),z.onClose.call(this),z.onChange.call(this)}))},closeOthers:function(I){var w,v,C,p=I!==a?F.eq(I):c(this).closest(G.title),J=p.parents(G.content).prev(G.title),y=p.closest(G.accordion),x=G.title+"."+u.active+":visible",H=G.content+"."+u.active+":visible";z.closeNested?(w=y.find(x).not(J),C=w.next(r)):(w=y.find(x).not(J),v=y.find(H).find(x).not(J),w=w.not(v),C=w.next(r)),w.length>0&&(o.debug("Exclusive enabled, closing other content",w),w.removeClass(u.active),C.removeClass(u.animating).stop(!0,!0),z.animateChildren&&(c.fn.transition!==a&&l.transition("is supported")?C.children().transition({animation:"fade out",useFailSafe:!0,debug:z.debug,verbose:z.verbose,duration:z.duration}):C.children().stop(!0,!0).animate({opacity:0},z.duration,o.resetOpacity)),C.slideUp(z.duration,z.easing,function(){c(this).removeClass(u.active),o.reset.display.call(this)}))},reset:{display:function(){o.verbose("Removing inline display from element",this),c(this).css("display",""),""===c(this).attr("style")&&c(this).attr("style","").removeAttr("style")},opacity:function(){o.verbose("Removing inline opacity from element",this),c(this).css("opacity",""),""===c(this).attr("style")&&c(this).attr("style","").removeAttr("style")}},setting:function(p,v){if(o.debug("Changing setting",p,v),c.isPlainObject(p)){c.extend(!0,z,p)}else{if(v===a){return z[p]}z[p]=v}},internal:function(p,v){return o.debug("Changing internal",p,v),v===a?o[p]:void (c.isPlainObject(p)?c.extend(!0,o,p):o[p]=v)},debug:function(){z.debug&&(z.performance?o.performance.log(arguments):(o.debug=Function.prototype.bind.call(console.info,console,z.name+":"),o.debug.apply(console,arguments)))},verbose:function(){z.verbose&&z.debug&&(z.performance?o.performance.log(arguments):(o.verbose=Function.prototype.bind.call(console.info,console,z.name+":"),o.verbose.apply(console,arguments)))},error:function(){o.error=Function.prototype.bind.call(console.error,console,z.name+":"),o.error.apply(console,arguments)},performance:{log:function(w){var v,x,p;z.performance&&(v=(new Date).getTime(),p=i||v,x=v-p,i=v,h.push({Name:w[0],Arguments:[].slice.call(w,1)||"",Element:s,"Execution Time":x})),clearTimeout(o.performance.timer),o.performance.timer=setTimeout(o.performance.display,500)},display:function(){var p=z.name+":",v=0;i=!1,clearTimeout(o.performance.timer),c.each(h,function(x,w){v+=w["Execution Time"]}),p+=" "+v+"ms",E&&(p+=" '"+E+"'"),(console.group!==a||console.table!==a)&&h.length>0&&(console.groupCollapsed(p),console.table?console.table(h):c.each(h,function(x,w){console.log(w.Name+": "+w["Execution Time"]+"ms")}),console.groupEnd()),h=[]}},invoke:function(w,H,v){var y,x,C,p=q;return H=H||g,v=s||v,"string"==typeof w&&p!==a&&(w=w.split(/[\. ]/),y=w.length-1,c.each(w,function(K,J){var I=K!=y?J+w[K+1].charAt(0).toUpperCase()+w[K+1].slice(1):w;if(c.isPlainObject(p[I])&&K!=y){p=p[I]}else{if(p[I]!==a){return x=p[I],!1}if(!c.isPlainObject(p[J])||K==y){return p[J]!==a?(x=p[J],!1):(o.error(t.method,w),!1)}p=p[J]}})),c.isFunction(x)?C=x.apply(v,H):x!==a&&(C=x),c.isArray(j)?j.push(C):j!==a?j=[j,C]:C!==a&&(j=C),x}},e?(q===a&&o.initialize(),o.invoke(k)):(q!==a&&q.invoke("destroy"),o.initialize())}),j!==a?j:this},c.fn.accordion.settings={name:"Accordion",namespace:"accordion",debug:!1,verbose:!1,performance:!0,on:"click",exclusive:!0,collapsible:!0,closeNested:!1,animateChildren:!0,duration:350,easing:"easeOutQuad",onOpening:function(){},onOpen:function(){},onClosing:function(){},onClose:function(){},onChange:function(){},error:{method:"The method you called is not defined"},className:{active:"active",animating:"animating"},selector:{accordion:".accordion",title:".title",trigger:".title",content:".content"}},c.extend(c.easing,{easeOutQuad:function(h,g,k,f,j){return -f*(g/=j)*(g-2)+k}})}(jQuery,window,document),function(c,b,d,a){c.fn.checkbox=function(g){var f,k=c(this),e=k.selector||"",p=(new Date).getTime(),j=[],h=arguments[0],m="string"==typeof h,i=[].slice.call(arguments,1);return k.each(function(){var D,o,u=c.extend(!0,{},c.fn.checkbox.settings,g),t=u.className,n=u.namespace,F=u.selector,s=u.error,A="."+n,z="module-"+n,B=c(this),l=c(this).find(F.label),E=c(this).find(F.input),q=B.data(z),r=this;o={initialize:function(){o.verbose("Initializing checkbox",u),o.create.label(),o.add.events(),o.set.tabbable(),o.setup(),o.observeChanges(),o.instantiate()},instantiate:function(){o.verbose("Storing instance of module",o),q=o,B.data(z,o)},destroy:function(){o.verbose("Destroying module"),o.remove.events(),B.removeData(z)},setup:function(){o.is.checked()?(o.debug("Setting initial value to checked"),o.set.checked(),u.fireOnInit&&u.onChecked.call(E[0])):(o.debug("Setting initial value to unchecked"),o.remove.checked(),u.fireOnInit&&u.onUnchecked.call(E[0]))},refresh:function(){l=B.find(F.label),E=B.find(F.input)},observeChanges:function(){"MutationObserver" in b&&(D=new MutationObserver(function(v){o.debug("DOM tree modified, updating selector cache"),o.refresh()}),D.observe(r,{childList:!0,subtree:!0}),o.debug("Setting up mutation observer",D))},attachEvents:function(w,x){var v=c(w);x=c.isFunction(o[x])?o[x]:o.toggle,v.length>0?(o.debug("Attaching checkbox events to element",w,x),v.on("click"+A,x)):o.error(s.notFound)},event:{keydown:function(w){var v=w.which,x={enter:13,space:32,escape:27};v==x.escape&&(o.verbose("Escape key pressed blurring field"),E.blur(),w.preventDefault()),w.ctrlKey||v!=x.enter&&v!=x.space||(o.verbose("Enter key pressed, toggling checkbox"),o.toggle(),w.preventDefault())}},get:{radios:function(){return c('input[name="'+o.get.name()+'"]').closest(F.checkbox)},name:function(){return E.attr("name")}},is:{radio:function(){return E.hasClass(t.radio)||"radio"==E.attr("type")},checked:function(){return E.prop("checked")!==a&&E.prop("checked")},unchecked:function(){return !o.is.checked()}},can:{change:function(){return !(B.hasClass(t.disabled)||B.hasClass(t.readOnly)||E.prop("disabled"))},uncheck:function(){return"boolean"==typeof u.uncheckable?u.uncheckable:!o.is.radio()}},set:{checked:function(){var v;o.is.radio()&&(v=o.get.radios(),o.debug("Unchecking other radios",v),v.removeClass(t.checked)),B.addClass(t.checked)},tabbable:function(){E.attr("tabindex")===a&&E.attr("tabindex",0)}},create:{label:function(){E.prevAll(F.label).length>0?(E.prev(F.label).detach().insertAfter(E),o.debug("Moving existing label",l)):o.has.label()||(l=c("<label>").insertAfter(E),o.debug("Creating label",l))}},has:{label:function(){return l.length>0}},add:{events:function(){o.verbose("Attaching checkbox events"),B.on("click"+A,o.toggle).on("keydown"+A,F.input,o.event.keydown)}},remove:{checked:function(){B.removeClass(t.checked)},events:function(){o.debug("Removing events"),B.off(A).removeData(z),l.off(A)}},enable:function(){o.debug("Enabling checkbox functionality"),B.removeClass(t.disabled),E.prop("disabled",!1),u.onEnabled.call(E[0])},disable:function(){o.debug("Disabling checkbox functionality"),B.addClass(t.disabled),E.prop("disabled","disabled"),u.onDisabled.call(E[0])},check:function(){o.debug("Enabling checkbox",E),E.prop("checked",!0).trigger("change"),o.set.checked(),u.onChange.call(E[0]),u.onChecked.call(E[0])},uncheck:function(){o.debug("Disabling checkbox"),E.prop("checked",!1).trigger("change"),o.remove.checked(),u.onChange.call(E[0]),u.onUnchecked.call(E[0])},toggle:function(){return o.can.change()?(o.verbose("Determining new checkbox state"),void (o.is.unchecked()?o.check():o.is.checked()&&o.can.uncheck()&&o.uncheck())):void (o.is.radio()||o.debug("Checkbox is read-only or disabled, ignoring toggle"))},setting:function(v,w){if(o.debug("Changing setting",v,w),c.isPlainObject(v)){c.extend(!0,u,v)}else{if(w===a){return u[v]}u[v]=w}},internal:function(v,w){if(c.isPlainObject(v)){c.extend(!0,o,v)}else{if(w===a){return o[v]}o[v]=w}},debug:function(){u.debug&&(u.performance?o.performance.log(arguments):(o.debug=Function.prototype.bind.call(console.info,console,u.name+":"),o.debug.apply(console,arguments)))},verbose:function(){u.verbose&&u.debug&&(u.performance?o.performance.log(arguments):(o.verbose=Function.prototype.bind.call(console.info,console,u.name+":"),o.verbose.apply(console,arguments)))},error:function(){o.error=Function.prototype.bind.call(console.error,console,u.name+":"),o.error.apply(console,arguments)},performance:{log:function(x){var w,y,v;u.performance&&(w=(new Date).getTime(),v=p||w,y=w-v,p=w,j.push({Name:x[0],Arguments:[].slice.call(x,1)||"",Element:r,"Execution Time":y})),clearTimeout(o.performance.timer),o.performance.timer=setTimeout(o.performance.display,500)},display:function(){var v=u.name+":",w=0;p=!1,clearTimeout(o.performance.timer),c.each(j,function(y,x){w+=x["Execution Time"]}),v+=" "+w+"ms",e&&(v+=" '"+e+"'"),(console.group!==a||console.table!==a)&&j.length>0&&(console.groupCollapsed(v),console.table?console.table(j):c.each(j,function(y,x){console.log(x.Name+": "+x["Execution Time"]+"ms")}),console.groupEnd()),j=[]}},invoke:function(x,H,w){var C,y,G,v=q;return H=H||i,w=r||w,"string"==typeof x&&v!==a&&(x=x.split(/[\. ]/),C=x.length-1,c.each(x,function(K,J){var I=K!=C?J+x[K+1].charAt(0).toUpperCase()+x[K+1].slice(1):x;if(c.isPlainObject(v[I])&&K!=C){v=v[I]}else{if(v[I]!==a){return y=v[I],!1}if(!c.isPlainObject(v[J])||K==C){return v[J]!==a?(y=v[J],!1):(o.error(s.method,x),!1)}v=v[J]}})),c.isFunction(y)?G=y.apply(w,H):y!==a&&(G=y),c.isArray(f)?f.push(G):f!==a?f=[f,G]:G!==a&&(f=G),y}},m?(q===a&&o.initialize(),o.invoke(h)):(q!==a&&q.invoke("destroy"),o.initialize())}),f!==a?f:this},c.fn.checkbox.settings={name:"Checkbox",namespace:"checkbox",debug:!1,verbose:!0,performance:!0,uncheckable:"auto",fireOnInit:!0,onChange:function(){},onChecked:function(){},onUnchecked:function(){},onEnabled:function(){},onDisabled:function(){},className:{checked:"checked",disabled:"disabled",radio:"radio",readOnly:"read-only"},error:{method:"The method you called is not defined"},selector:{checkbox:".ui.checkbox",input:'> input[type="checkbox"], > input[type="radio"]',label:"> label"}}}(jQuery,window,document),function(c,b,d,a){c.fn.dimmer=function(h){var k,f=c(this),j=(new Date).getTime(),i=[],m=arguments[0],e="string"==typeof m,g=[].slice.call(arguments,1);return f.each(function(){var A,o,z,u=c.isPlainObject(h)?c.extend(!0,{},c.fn.dimmer.settings,h):c.extend({},c.fn.dimmer.settings),n=u.selector,G=u.namespace,t=u.className,D=u.error,B="."+G,E="module-"+G,l=f.selector||"",F="ontouchstart" in d.documentElement?"touchstart":"click",r=c(this),s=this,q=r.data(E);z={preinitialize:function(){z.is.dimmer()?(o=r.parent(),A=r):(o=r,A=z.has.dimmer()?u.dimmerName?o.find(n.dimmer).filter("."+u.dimmerName):o.find(n.dimmer):z.create())},initialize:function(){z.debug("Initializing dimmer",u),"hover"==u.on?o.on("mouseenter"+B,z.show).on("mouseleave"+B,z.hide):"click"==u.on&&o.on(F+B,z.toggle),z.is.page()&&(z.debug("Setting as a page dimmer",o),z.set.pageDimmer()),z.is.closable()&&(z.verbose("Adding dimmer close event",A),o.on(F+B,n.dimmer,z.event.click)),z.set.dimmable(),z.instantiate()},instantiate:function(){z.verbose("Storing instance of module",z),q=z,r.data(E,q)},destroy:function(){z.verbose("Destroying previous module",A),r.removeData(E),o.off(B)},event:{click:function(p){z.verbose("Determining if event occured on dimmer",p),(0===A.find(p.target).length||c(p.target).is(n.content))&&(z.hide(),p.stopImmediatePropagation())}},addContent:function(p){var v=c(p);z.debug("Add content to dimmer",v),v.parent()[0]!==A[0]&&v.detach().appendTo(A)},create:function(){var p=c(u.template.dimmer());return u.variation&&(z.debug("Creating dimmer with variation",u.variation),p.addClass(u.variation)),u.dimmerName&&(z.debug("Creating named dimmer",u.dimmerName),p.addClass(u.dimmerName)),p.appendTo(o),p},show:function(p){p=c.isFunction(p)?p:function(){},z.debug("Showing dimmer",A,u),z.is.dimmed()&&!z.is.animating()||!z.is.enabled()?z.debug("Dimmer is already shown or disabled"):(z.animate.show(p),u.onShow.call(s),u.onChange.call(s))},hide:function(p){p=c.isFunction(p)?p:function(){},z.is.dimmed()||z.is.animating()?(z.debug("Hiding dimmer",A),z.animate.hide(p),u.onHide.call(s),u.onChange.call(s)):z.debug("Dimmer is not visible")},toggle:function(){z.verbose("Toggling dimmer visibility",A),z.is.dimmed()?z.hide():z.show()},animate:{show:function(p){p=c.isFunction(p)?p:function(){},u.useCSS&&c.fn.transition!==a&&A.transition("is supported")?("auto"!==u.opacity&&z.set.opacity(),A.transition({animation:u.transition+" in",queue:!1,duration:z.get.duration(),useFailSafe:!0,onStart:function(){z.set.dimmed()},onComplete:function(){z.set.active(),p()}})):(z.verbose("Showing dimmer animation with javascript"),z.set.dimmed(),"auto"==u.opacity&&(u.opacity=0.8),A.stop().css({opacity:0,width:"100%",height:"100%"}).fadeTo(z.get.duration(),u.opacity,function(){A.removeAttr("style"),z.set.active(),p()}))},hide:function(p){p=c.isFunction(p)?p:function(){},u.useCSS&&c.fn.transition!==a&&A.transition("is supported")?(z.verbose("Hiding dimmer with css"),A.transition({animation:u.transition+" out",queue:!1,duration:z.get.duration(),useFailSafe:!0,onStart:function(){z.remove.dimmed()},onComplete:function(){z.remove.active(),p()}})):(z.verbose("Hiding dimmer with javascript"),z.remove.dimmed(),A.stop().fadeOut(z.get.duration(),function(){z.remove.active(),A.removeAttr("style"),p()}))}},get:{dimmer:function(){return A},duration:function(){return"object"==typeof u.duration?z.is.active()?u.duration.hide:u.duration.show:u.duration}},has:{dimmer:function(){return u.dimmerName?r.find(n.dimmer).filter("."+u.dimmerName).length>0:r.find(n.dimmer).length>0}},is:{active:function(){return A.hasClass(t.active)},animating:function(){return A.is(":animated")||A.hasClass(t.animating)},closable:function(){return"auto"==u.closable?"hover"==u.on?!1:!0:u.closable},dimmer:function(){return r.hasClass(t.dimmer)},dimmable:function(){return r.hasClass(t.dimmable)},dimmed:function(){return o.hasClass(t.dimmed)},disabled:function(){return o.hasClass(t.disabled)},enabled:function(){return !z.is.disabled()},page:function(){return o.is("body")},pageDimmer:function(){return A.hasClass(t.pageDimmer)}},can:{show:function(){return !A.hasClass(t.disabled)}},set:{opacity:function(w){var w=u.opacity||w,v=A.css("background-color"),x=v.split(","),p=x&&4==x.length;p?(x[3]=w+")",v=x.join(",")):v="rgba(0, 0, 0, "+w+")",z.debug("Setting opacity to",w),A.css("background-color",v)},active:function(){A.addClass(t.active)},dimmable:function(){o.addClass(t.dimmable)},dimmed:function(){o.addClass(t.dimmed)},pageDimmer:function(){A.addClass(t.pageDimmer)},disabled:function(){A.addClass(t.disabled)}},remove:{active:function(){A.removeClass(t.active)},dimmed:function(){o.removeClass(t.dimmed)},disabled:function(){A.removeClass(t.disabled)}},setting:function(p,v){if(z.debug("Changing setting",p,v),c.isPlainObject(p)){c.extend(!0,u,p)}else{if(v===a){return u[p]}u[p]=v}},internal:function(p,v){if(c.isPlainObject(p)){c.extend(!0,z,p)}else{if(v===a){return z[p]}z[p]=v}},debug:function(){u.debug&&(u.performance?z.performance.log(arguments):(z.debug=Function.prototype.bind.call(console.info,console,u.name+":"),z.debug.apply(console,arguments)))},verbose:function(){u.verbose&&u.debug&&(u.performance?z.performance.log(arguments):(z.verbose=Function.prototype.bind.call(console.info,console,u.name+":"),z.verbose.apply(console,arguments)))},error:function(){z.error=Function.prototype.bind.call(console.error,console,u.name+":"),z.error.apply(console,arguments)},performance:{log:function(w){var v,x,p;u.performance&&(v=(new Date).getTime(),p=j||v,x=v-p,j=v,i.push({Name:w[0],Arguments:[].slice.call(w,1)||"",Element:s,"Execution Time":x})),clearTimeout(z.performance.timer),z.performance.timer=setTimeout(z.performance.display,500)},display:function(){var p=u.name+":",v=0;j=!1,clearTimeout(z.performance.timer),c.each(i,function(x,w){v+=w["Execution Time"]}),p+=" "+v+"ms",l&&(p+=" '"+l+"'"),f.length>1&&(p+=" ("+f.length+")"),(console.group!==a||console.table!==a)&&i.length>0&&(console.groupCollapsed(p),console.table?console.table(i):c.each(i,function(x,w){console.log(w.Name+": "+w["Execution Time"]+"ms")}),console.groupEnd()),i=[]}},invoke:function(w,H,v){var y,x,C,p=q;return H=H||g,v=s||v,"string"==typeof w&&p!==a&&(w=w.split(/[\. ]/),y=w.length-1,c.each(w,function(K,J){var I=K!=y?J+w[K+1].charAt(0).toUpperCase()+w[K+1].slice(1):w;if(c.isPlainObject(p[I])&&K!=y){p=p[I]}else{if(p[I]!==a){return x=p[I],!1}if(!c.isPlainObject(p[J])||K==y){return p[J]!==a?(x=p[J],!1):(z.error(D.method,w),!1)}p=p[J]}})),c.isFunction(x)?C=x.apply(v,H):x!==a&&(C=x),c.isArray(k)?k.push(C):k!==a?k=[k,C]:C!==a&&(k=C),x}},z.preinitialize(),e?(q===a&&z.initialize(),z.invoke(m)):(q!==a&&q.invoke("destroy"),z.initialize())}),k!==a?k:this},c.fn.dimmer.settings={name:"Dimmer",namespace:"dimmer",debug:!1,verbose:!1,performance:!0,dimmerName:!1,variation:!1,closable:"auto",useCSS:!0,transition:"fade",on:!1,opacity:"auto",duration:{show:500,hide:500},onChange:function(){},onShow:function(){},onHide:function(){},error:{method:"The method you called is not defined."},className:{active:"active",animating:"animating",dimmable:"dimmable",dimmed:"dimmed",dimmer:"dimmer",disabled:"disabled",hide:"hide",pageDimmer:"page",show:"show"},selector:{dimmer:"> .ui.dimmer",content:".ui.dimmer > .content, .ui.dimmer > .content > .center"},template:{dimmer:function(){return c("<div />").attr("class","ui dimmer")}}}}(jQuery,window,document),function(c,b,d,a){c.fn.dropdown=function(i){var w,e=c(this),y=c(d),v=c(b),k=e.selector||"",x="ontouchstart" in d.documentElement,t=(new Date).getTime(),j=[],q=arguments[0],n="string"==typeof q,h=[].slice.call(arguments,1);return e.each(function(){var ad,an,ao,Y,aa,ah,ac,al=c.isPlainObject(i)?c.extend(!0,{},c.fn.dropdown.settings,i):c.extend({},c.fn.dropdown.settings),o=al.className,m=al.message,ak=al.metadata,s=al.namespace,p=al.regExp,af=al.selector,ae=al.error,ag=al.templates,u="."+s,aj="module-"+s,X=c(this),am=X.find(af.text),Z=X.find(af.search),K=X.find(af.input),G=X.find(af.icon),g=X.prev().find(af.text).length>0?X.prev().find(af.text):X.prev(),ab=X.children(af.menu),J=ab.find(af.item),l=!1,f=!1,ai=this,r=X.data(aj);ac={initialize:function(){ac.debug("Initializing dropdown",al),ac.is.alreadySetup()?ac.setup.reference():(ac.setup.layout(),ac.refreshData(),ac.save.defaults(),ac.restore.selected(),ac.create.id(),x&&ac.bind.touchEvents(),ac.bind.mouseEvents(),ac.bind.keyboardEvents(),ac.observeChanges(),ac.instantiate())},instantiate:function(){ac.verbose("Storing instance of dropdown",ac),r=ac,X.data(aj,ac)},destroy:function(){ac.verbose("Destroying previous dropdown for",X),ac.remove.tabbable(),X.off(u).removeData(aj),ab.off(u),y.off(ao),aa&&aa.disconnect(),ah&&ah.disconnect()},observeChanges:function(){"MutationObserver" in b&&(aa=new MutationObserver(function(z){ac.debug("<select> modified, recreating menu"),ac.setup.select()}),ah=new MutationObserver(function(z){ac.debug("Menu modified, updating selector cache"),ac.refresh()}),ac.has.input()&&aa.observe(K[0],{childList:!0,subtree:!0}),ac.has.menu()&&ah.observe(ab[0],{childList:!0,subtree:!0}),ac.debug("Setting up mutation observer",aa,ah))},create:{id:function(){Y=(Math.random().toString(16)+"000000000").substr(2,8),ao="."+Y,ac.verbose("Creating unique id for element",Y)},userChoice:function(A){var C,B,z;return(A=A||ac.get.userValues())?(A=c.isArray(A)?A:[A],c.each(A,function(D,E){ac.get.item(E)===!1&&(z=al.templates.addition(E),B=c("<div />").html(z).data(ak.value,E).addClass(o.addition).addClass(o.item),C=C===a?B:C.add(B),ac.verbose("Creating user choices for value",E,B))}),C):!1},userLabels:function(z){var A=ac.get.userValues();A&&(ac.debug("Adding user labels",A),c.each(A,function(C,B){ac.verbose("Adding custom user value"),ac.add.label(B,B)}))}},search:function(z){z=z!==a?z:ac.get.query(),ac.verbose("Searching for query",z),ac.filter(z)},select:{firstUnfiltered:function(){ac.verbose("Selecting first non-filtered element"),ac.remove.selectedItem(),J.not(af.unselectable).eq(0).addClass(o.selected)},nextAvailable:function(B){B=B.eq(0);var A=B.nextAll(af.item).not(af.unselectable).eq(0),C=B.prevAll(af.item).not(af.unselectable).eq(0),z=A.length>0;z?(ac.verbose("Moving selection to",A),A.addClass(o.selected)):(ac.verbose("Moving selection to",C),C.addClass(o.selected))}},setup:{api:function(){var z={debug:al.debug,on:!1};ac.verbose("First request, initializing API"),X.api(z)},layout:function(){X.is("select")&&ac.setup.select(),ac.is.search()&&!ac.has.search()&&(ac.verbose("Adding search input"),Z=c("<input />").addClass(o.search).insertBefore(am)),al.allowTab&&ac.set.tabbable(),0===ab.length&&(ab=c("<div />").addClass(o.menu).appendTo(X))},select:function(){var z=ac.get.selectValues();ac.debug("Dropdown initialized on a select",z),X.is("select")&&(K=X),K.parent(af.dropdown).length>0?(ac.debug("UI dropdown already exists. Creating dropdown menu only"),X=K.closest(af.dropdown),ab=X.children(af.menu),ac.setup.menu(z)):(ac.debug("Creating entire dropdown from select"),X=c("<div />").attr("class",K.attr("class")).addClass(o.selection).addClass(o.dropdown).html(ag.dropdown(z)).insertBefore(K),K.removeAttr("class").detach().prependTo(X)),K.is("[multiple]")&&ac.set.multiple(),ac.refresh()},menu:function(z){ab.html(ag.menu(z)),J=ab.find(af.item)},reference:function(){var A,z,B=e.index(X);ac.debug("Dropdown behavior was called on select, replacing with closest dropdown"),X=X.parent(af.dropdown),ac.refresh(),A=e.slice(0,B),z=e.slice(B+1),e=A.add(X).add(z),n&&(r=ac,ac.invoke(q))}},refresh:function(){ac.refreshSelectors(),ac.refreshData()},refreshSelectors:function(){ac.verbose("Refreshing selector cache"),am=X.find(af.text),Z=X.find(af.search),K=X.find(af.input),G=X.find(af.icon),g=X.prev().find(af.text).length>0?X.prev().find(af.text):X.prev(),ab=X.children(af.menu),J=ab.find(af.item)},refreshData:function(){ac.verbose("Refreshing cached metadata"),J.removeData(ak.text).removeData(ak.value),X.removeData(ak.defaultText).removeData(ak.defaultValue).removeData(ak.placeholderText)},toggle:function(){ac.verbose("Toggling menu visibility"),ac.is.active()?ac.hide():ac.show()},show:function(z){if(z=c.isFunction(z)?z:function(){},ac.can.show()&&!ac.is.active()){if(ac.debug("Showing dropdown"),ac.is.multiple()&&!ac.has.search()&&ac.is.allFiltered()){return !0}ac.animate.show(function(){ac.can.click()&&ac.bind.intent(),ac.set.visible(),z.call(ai)}),al.onShow.call(ai)}},hide:function(z){z=c.isFunction(z)?z:function(){},ac.is.active()&&(ac.debug("Hiding dropdown"),ac.animate.hide(function(){ac.remove.visible(),z.call(ai)}),al.onHide.call(ai))},hideOthers:function(){ac.verbose("Finding other dropdowns to hide"),e.not(X).has(af.menu+"."+o.visible).dropdown("hide")},hideMenu:function(){ac.verbose("Hiding menu  instantaneously"),ac.remove.active(),ac.remove.visible(),ab.transition("hide")},hideSubMenus:function(){var z=ab.children(af.item).find(af.menu);ac.verbose("Hiding sub menus",z),z.transition("hide")},bind:{keyboardEvents:function(){ac.debug("Binding keyboard events"),X.on("keydown"+u,ac.event.keydown),ac.has.search()&&X.on(ac.get.inputEvent()+u,af.search,ac.event.input),ac.is.multiple()&&y.on("keydown"+ao,ac.event.document.keydown)},touchEvents:function(){ac.debug("Touch device detected binding additional touch events"),ac.is.searchSelection()||X.on("touchstart"+u,ac.event.test.toggle),ab.on("touchstart"+u,af.item,ac.event.item.mouseenter)},mouseEvents:function(){ac.debug("Mouse detected binding mouse events"),ac.is.multiple()&&X.on("click"+u,af.label,ac.event.label.click).on("click"+u,af.remove,ac.event.remove.click),ac.is.searchSelection()?(X.on("mousedown"+u,af.menu,ac.event.menu.mousedown).on("mouseup"+u,af.menu,ac.event.menu.mouseup).on("click"+u,af.search,ac.show).on("focus"+u,af.search,ac.event.search.focus).on("blur"+u,af.search,ac.event.search.blur).on("click"+u,af.text,ac.event.text.focus),ac.is.multiple()&&X.on("click"+u,ac.event.click)):("click"==al.on?X.on("click"+u,ac.event.test.toggle):"hover"==al.on?X.on("mouseenter"+u,ac.delay.show).on("mouseleave"+u,ac.delay.hide):X.on(al.on+u,ac.toggle),X.on("mousedown"+u,ac.event.mousedown).on("mouseup"+u,ac.event.mouseup).on("focus"+u,ac.event.focus).on("blur"+u,ac.event.blur)),ab.on("mouseenter"+u,af.item,ac.event.item.mouseenter).on("mouseleave"+u,af.item,ac.event.item.mouseleave).on("click"+u,af.item,ac.event.item.click)},intent:function(){ac.verbose("Binding hide intent event to document"),x&&y.on("touchstart"+ao,ac.event.test.touch).on("touchmove"+ao,ac.event.test.touch),y.on("click"+ao,ac.event.test.hide)}},unbind:{intent:function(){ac.verbose("Removing hide intent event from document"),x&&y.off("touchstart"+ao).off("touchmove"+ao),y.off("click"+ao)}},filter:function(A){var z=A!==a?A:ac.get.query(),B=function(){ac.is.multiple()&&ac.filterActive(),ac.select.firstUnfiltered(),ac.has.allResultsFiltered()?al.onNoResults.call(ai,z)?al.allowAdditions||(ac.verbose("All items filtered, showing message",z),ac.add.message(m.noResults)):(ac.verbose("All items filtered, hiding dropdown",z),ac.hideMenu()):ac.remove.message(),al.allowAdditions&&ac.add.userSuggestion(A),ac.is.searchSelection()&&ac.can.show()&&ac.is.focusedOnSearch()&&ac.show()};ac.has.maxSelections()||(al.apiSettings?ac.can.useAPI()?ac.queryRemote(z,function(){B()}):ac.error(ae.noAPI):(ac.filterItems(z),B()))},queryRemote:function(A,B){var z={errorDuration:!1,throttle:al.throttle,cache:"local",urlData:{query:A},onError:function(){ac.add.message(m.serverError),B()},onFailure:function(){ac.add.message(m.serverError),B()},onSuccess:function(C){ac.remove.message(),ac.setup.menu({values:C.results}),B()}};X.api("get request")||ac.setup.api(),z=c.extend(!0,{},z,al.apiSettings),X.api("setting",z).api("query")},filterItems:function(A){var D=A!==a?A:ac.get.query(),C=c(),z=ac.escape.regExp(D),B=new RegExp("^"+z,"igm");""===D?C=J:(ac.verbose("Searching for matching values",D),J.each(function(){var H,F,E=c(this);if("both"==al.match||"text"==al.match){if(H=String(ac.get.choiceText(E,!1)),-1!==H.search(B)){return C=C.add(E),!0}if(al.fullTextSearch&&ac.fuzzySearch(D,H)){return C=C.add(E),!0}}if("both"==al.match||"value"==al.match){if(F=String(ac.get.choiceValue(E,H)),-1!==F.search(B)){return C=C.add(E),!0}if(al.fullTextSearch&&ac.fuzzySearch(D,F)){return C=C.add(E),!0}}})),ac.debug("Showing only matched items",D),ac.remove.filteredItem(),J.not(C).addClass(o.filtered)},fuzzySearch:function(D,B){var F=B.length,A=D.length;if(D=D.toLowerCase(),B=B.toLowerCase(),A>F){return !1}if(A===F){return D===B}D:for(var E=0,z=0;A>E;E++){for(var C=D.charCodeAt(E);F>z;){if(B.charCodeAt(z++)===C){continue D}}return !1}return !0},filterActive:function(){al.useLabels&&J.filter("."+o.active).addClass(o.filtered)},focusSearch:function(){ac.is.search()&&!ac.is.focusedOnSearch()&&Z[0].focus()},forceSelection:function(){var B=J.not(o.filtered).filter("."+o.selected).eq(0),A=J.not(o.filtered).filter("."+o.active).eq(0),C=B.length>0?B:A,z=C.size()>0;z?(ac.debug("Forcing partial selection to selected item",C),ac.event.item.click.call(C)):ac.hide()},event:{focus:function(){al.showOnFocus&&!l&&ac.is.hidden()&&!an&&ac.show()},click:function(z){var A=c(z.target);!A.is(X)&&!A.is(G)||ac.is.focusedOnSearch()||ac.focusSearch()},blur:function(z){an=d.activeElement===this,l||an||(ac.remove.activeLabel(),ac.hide())},mousedown:function(){l=!0},mouseup:function(){l=!1},search:{focus:function(){l=!0,ac.is.multiple()&&ac.remove.activeLabel(),al.showOnFocus&&ac.show()},blur:function(z){an=d.activeElement===this,f||an||(ac.is.multiple()?(ac.remove.activeLabel(),ac.hide()):al.forceSelection?ac.forceSelection():ac.hide())}},text:{focus:function(z){l=!0,ac.focusSearch()}},input:function(z){(ac.is.multiple()||ac.is.searchSelection())&&ac.set.filtered(),clearTimeout(ac.timer),ac.timer=setTimeout(ac.search,al.delay.search)},label:{click:function(B){var F=c(this),A=X.find(af.label),E=A.filter("."+o.active),z=F.nextAll("."+o.active),D=F.prevAll("."+o.active),C=z.length>0?F.nextUntil(z).add(E).add(F):F.prevUntil(D).add(E).add(F);B.shiftKey?(E.removeClass(o.active),C.addClass(o.active)):B.ctrlKey?F.toggleClass(o.active):(E.removeClass(o.active),F.addClass(o.active)),al.onLabelSelect.apply(this,A.filter("."+o.active))}},remove:{click:function(){var z=c(this).parent();z.hasClass(o.active)?ac.remove.activeLabels():ac.remove.activeLabels(z)}},test:{toggle:function(A){var z=ac.is.multiple()?ac.show:ac.toggle;ac.determine.eventOnElement(A,z)&&A.preventDefault()},touch:function(z){ac.determine.eventOnElement(z,function(){"touchstart"==z.type?ac.timer=setTimeout(ac.hide,al.delay.touch):"touchmove"==z.type&&clearTimeout(ac.timer)}),z.stopPropagation()},hide:function(z){ac.determine.eventInModule(z,ac.hide)}},menu:{mousedown:function(){f=!0},mouseup:function(){f=!1}},item:{mouseenter:function(A){var B=c(this).children(af.menu),z=c(this).siblings(af.item).children(af.menu);B.length>0&&(clearTimeout(ac.itemTimer),ac.itemTimer=setTimeout(function(){ac.verbose("Showing sub-menu",B),c.each(z,function(){ac.animate.hide(!1,c(this))}),ac.animate.show(!1,B)},al.delay.show),A.preventDefault())},mouseleave:function(z){var A=c(this).children(af.menu);A.length>0&&(clearTimeout(ac.itemTimer),ac.itemTimer=setTimeout(function(){ac.verbose("Hiding sub-menu",A),ac.animate.hide(!1,A)},al.delay.hide))},click:function(B){var H=c(this),A=c(B?B.target:""),E=H.find(af.menu),z=ac.get.choiceText(H),D=ac.get.choiceValue(H,z),C=E.length>0,F=E.find(A).length>0;F||C&&!al.allowCategorySelection||(al.useLabels||ac.remove.searchTerm(),ac.determine.selectAction.call(this,z,D))}},document:{keydown:function(L){var Q=L.which,C=ac.get.shortcutKeys(),F=ac.is.inObject(Q,C);if(F){var B=X.find(af.label),O=B.filter("."+o.active),z=(O.data("value"),B.index(O)),R=B.length,N=O.length>0,E=O.length>1,P=0===z,M=z+1==R,D=ac.is.searchSelection(),I=ac.is.focusedOnSearch(),H=ac.is.focused(),A=I&&0===ac.get.caretPosition();if(D&&!N&&!I){return}Q==C.leftArrow?!H&&!A||N?N&&(L.shiftKey?ac.verbose("Adding previous label to selection"):(ac.verbose("Selecting previous label"),B.removeClass(o.active)),P&&!E?O.addClass(o.active):O.prev(af.siblingLabel).addClass(o.active).end(),L.preventDefault()):(ac.verbose("Selecting previous label"),B.last().addClass(o.active)):Q==C.rightArrow?(H&&!N&&B.first().addClass(o.active),N&&(L.shiftKey?ac.verbose("Adding next label to selection"):(ac.verbose("Selecting next label"),B.removeClass(o.active)),M?D?I?B.removeClass(o.active):ac.focusSearch():E?O.next(af.siblingLabel).addClass(o.active):O.addClass(o.active):O.next(af.siblingLabel).addClass(o.active),L.preventDefault())):Q==C.deleteKey||Q==C.backspace?N?(ac.verbose("Removing active labels"),M&&D&&!I&&ac.focusSearch(),O.last().next(af.siblingLabel).addClass(o.active),ac.remove.activeLabels(O),L.preventDefault()):A&&!N&&Q==C.backspace&&(ac.verbose("Removing last label on input backspace"),O=B.last().addClass(o.active),ac.remove.activeLabels(O)):O.removeClass(o.active)}}},keydown:function(L){var Q=L.which,C=ac.get.shortcutKeys(),F=ac.is.inObject(Q,C);if(F){var B,O,z=J.not(af.unselectable).filter("."+o.selected).eq(0),R=ab.children("."+o.active).eq(0),N=z.length>0?z:R,E=N.length>0?N.siblings(":not(."+o.filtered+")").andSelf():ab.children(":not(."+o.filtered+")"),P=N.children(af.menu),M=N.closest(af.menu),D=M.hasClass(o.visible)||M.hasClass(o.animating)||M.parent(af.menu).length>0,I=P.length>0,H=N.length>0,A=N.not(af.unselectable).length>0;if(ac.is.visible()){if((Q==C.enter||Q==C.delimiter)&&(Q==C.enter&&H&&I&&!al.allowCategorySelection?(ac.verbose("Pressed enter on unselectable category, opening sub menu"),Q=C.rightArrow):A&&(ac.verbose("Selecting item from keyboard shortcut",N),ac.event.item.click.call(N,L),al.useLabels&&ac.is.searchSelection()?ac.hideAndClear():ac.remove.searchTerm()),L.preventDefault()),Q==C.leftArrow&&(O=M[0]!==ab[0],O&&(ac.verbose("Left key pressed, closing sub-menu"),ac.animate.hide(!1,M),N.removeClass(o.selected),M.closest(af.item).addClass(o.selected),L.preventDefault())),Q==C.rightArrow&&I&&(ac.verbose("Right key pressed, opening sub-menu"),ac.animate.show(!1,P),N.removeClass(o.selected),P.find(af.item).eq(0).addClass(o.selected),L.preventDefault()),Q==C.upArrow){if(B=H&&D?N.prevAll(af.item+":not("+af.unselectable+")").eq(0):J.eq(0),E.index(B)<0){return ac.verbose("Up key pressed but reached top of current menu"),void L.preventDefault()}ac.verbose("Up key pressed, changing active item"),N.removeClass(o.selected),B.addClass(o.selected),ac.set.scrollPosition(B),L.preventDefault()}if(Q==C.downArrow){if(B=H&&D?B=N.nextAll(af.item+":not("+af.unselectable+")").eq(0):J.eq(0),0===B.length){return ac.verbose("Down key pressed but reached bottom of current menu"),void L.preventDefault()}ac.verbose("Down key pressed, changing active item"),J.removeClass(o.selected),B.addClass(o.selected),ac.set.scrollPosition(B),L.preventDefault()}Q==C.pageUp&&(ac.scrollPage("up"),L.preventDefault()),Q==C.pageDown&&(ac.scrollPage("down"),L.preventDefault()),Q==C.escape&&(ac.verbose("Escape key pressed, closing dropdown"),ac.hide())}else{Q==C.delimiter&&L.preventDefault(),Q==C.downArrow&&(ac.verbose("Down key pressed, showing dropdown"),ac.show(),L.preventDefault())}}else{ac.is.selection()&&!ac.is.search()&&ac.set.selectedLetter(String.fromCharCode(Q))}}},determine:{selectAction:function(z,A){ac.verbose("Determining action",al.action),c.isFunction(ac.action[al.action])?(ac.verbose("Triggering preset action",al.action,z,A),ac.action[al.action].call(this,z,A)):c.isFunction(al.action)?(ac.verbose("Triggering user action",al.action,z,A),al.action.call(this,z,A)):ac.error(ae.action,al.action)},eventInModule:function(z,A){return A=c.isFunction(A)?A:function(){},0===c(z.target).closest(X).length?(ac.verbose("Triggering event",A),A(),!0):(ac.verbose("Event occurred in dropdown, canceling callback"),!1)},eventOnElement:function(A,B){var z=c(A.target);return B=c.isFunction(B)?B:function(){},0===z.closest(ab).length?(ac.verbose("Triggering event",B),B(),!0):(ac.verbose("Event occurred in dropdown menu, canceling callback"),!1)}},action:{nothing:function(){},activate:function(z,A){A=A!==a?A:z,ac.set.selected(A,c(this)),(!ac.is.multiple()||ac.is.allFiltered())&&ac.hideAndClear()},select:function(A,z){ac.action.activate.call(this)},combo:function(z,A){A=A!==a?A:z,ac.set.selected(A,c(this)),ac.hideAndClear()},hide:function(){ac.hideAndClear()}},get:{id:function(){return Y},text:function(){return am.text()},query:function(){return c.trim(Z.val())},searchWidth:function(z){return z*al.glyphWidth+"em"},selectionCount:function(){var z=ac.get.values();return ac.is.multiple()?c.isArray(z)?z.length:0:""!==ac.get.value()?1:0},transition:function(z){return"auto"==al.transition?ac.is.upward(z)?"slide up":"slide down":al.transition},userValues:function(){var z=ac.get.values();return z?(z=c.isArray(z)?z:[z],c.grep(z,function(A){return ac.get.item(A)===!1})):!1},uniqueArray:function(z){return c.grep(z,function(B,A){return c.inArray(B,z)===A})},caretPosition:function(){var B,A,z=Z.get(0);return"selectionStart" in z?z.selectionStart:d.selection?(z.focus(),B=d.selection.createRange(),A=B.text.length,B.moveStart("character",-z.value.length),B.text.length-A):void 0},shortcutKeys:function(){return{backspace:8,delimiter:188,deleteKey:46,enter:13,escape:27,pageUp:33,pageDown:34,leftArrow:37,upArrow:38,rightArrow:39,downArrow:40}},value:function(){return K.length>0?K.val():X.data(ak.value)},values:function(){var z=ac.get.value();return""===z?"":!K.is("select")&&ac.is.multiple()?"string"==typeof z?z.split(al.delimiter):"":z},remoteValues:function(){var z=ac.get.values(),A=!1;return z&&("string"==typeof z&&(z=[z]),A={},c.each(z,function(D,C){var B=ac.read.remoteData(C);ac.verbose("Restoring value from session data",B,C),A[C]=B?B:C})),A},choiceText:function(A,z){return z=z!==a?z:al.preserveHTML,A?(A.find(af.menu).length>0&&(ac.verbose("Retreiving text of element with sub-menu"),A=A.clone(),A.find(af.menu).remove(),A.find(af.menuIcon).remove()),A.data(ak.text)!==a?A.data(ak.text):z?A.html().trim():A.text().trim()):void 0},choiceValue:function(A,z){return z=z||ac.get.choiceText(A),A?A.data(ak.value)!==a?A.data(ak.value):"string"==typeof z?z.toLowerCase().trim():z:!1},inputEvent:function(){var z=Z[0];return z?z.oninput!==a?"input":z.onpropertychange!==a?"propertychange":"keyup":!1},selectValues:function(){var z={};return z.values=[],X.find("option").each(function(){var D=c(this),C=D.html(),A=D.attr("disabled"),B=D.attr("value")!==a?D.attr("value"):C;"auto"===al.placeholder&&""===B?z.placeholder=C:z.values.push({name:C,value:B,disabled:A})}),al.placeholder&&"auto"!==al.placeholder&&(ac.debug("Setting placeholder value to",al.placeholder),z.placeholder=al.placeholder),al.sortSelect?(z.values.sort(function(B,A){return B.name>A.name?1:-1}),ac.debug("Retrieved and sorted values from select",z)):ac.debug("Retreived values from select",z),z},activeItem:function(){return J.filter("."+o.active)},selectedItem:function(){var z=J.not(af.unselectable).filter("."+o.selected);return z.length>0?z:J.eq(0)},itemWithAdditions:function(B){var A=ac.get.item(B),C=ac.create.userChoice(B),z=C&&C.length>0;return console.log(z,B,X),z&&(A=A.length>0?A.add(C):C),A},item:function(A,D){var C,z,B=!1;return A=A!==a?A:ac.get.values()!==a?ac.get.values():ac.get.text(),C=z?A.length>0:A!==a&&""!==A&&null!==A,z=ac.is.multiple()&&c.isArray(A),D=""===A||0===A?!0:D||!1,C&&J.each(function(){var F=c(this),E=ac.get.choiceText(F),H=ac.get.choiceValue(F,E);if(null!==H&&H!==a){if(z){(-1!==c.inArray(H.toString(),A)||-1!==c.inArray(E,A))&&(B=B?B.add(F):F)}else{if(D){if(ac.verbose("Ambiguous dropdown value using strict type check",F,A),H===A||E===A){return B=F,!0}}else{if(H.toString()==A.toString()||E==A){return ac.verbose("Found select item by value",H,A),B=F,!0}}}}}),B}},check:{maxSelections:function(z){return al.maxSelections?(z=z!==a?z:ac.get.selectionCount(),z>=al.maxSelections?(ac.debug("Maximum selection count reached"),J.addClass(o.filtered),ac.add.message(m.maxSelections),!0):(ac.verbose("No longer at maximum selection count"),ac.remove.message(),ac.remove.filteredItem(),ac.is.searchSelection()&&ac.filterItems(),!1)):!0}},restore:{defaults:function(){ac.restore.defaultText(),ac.restore.defaultValue()},defaultText:function(){var z=X.data(ak.defaultText);ac.debug("Restoring default text",z),ac.set.text(z),am.addClass(o.placeholder)},defaultValue:function(){var z=X.data(ak.defaultValue);z!==a&&(ac.debug("Restoring default value",z),""!==z?(ac.set.value(z),ac.set.selected()):(ac.remove.activeItem(),ac.remove.selectedItem()))},labels:function(){al.allowAdditions&&(al.useLabels||(ac.error(ae.labels),al.useLabels=!0),ac.debug("Restoring selected values"),ac.create.userLabels()),ac.check.maxSelections()},selected:function(){ac.restore.values(),ac.is.multiple()?(ac.debug("Restoring previously selected values and labels"),ac.restore.labels()):ac.debug("Restoring previously selected values")},values:function(){ac.set.initialLoad(),al.apiSettings?al.saveRemoteData?ac.restore.remoteValues():ac.clearValue():ac.set.selected(),ac.remove.initialLoad()},remoteValues:function(){var z=ac.get.remoteValues();ac.debug("Recreating selected from session data",z),z&&(ac.is.single()?c.each(z,function(B,A){ac.set.text(A)}):c.each(z,function(B,A){ac.add.label(B,A)}))}},read:{remoteData:function(z){var A;return b.Storage===a?void ac.error(ae.noStorage):(A=sessionStorage.getItem(z),A!==a?A:!1)}},save:{defaults:function(){ac.save.defaultText(),ac.save.placeholderText(),ac.save.defaultValue()},defaultValue:function(){X.data(ak.defaultValue,ac.get.value())},defaultText:function(){X.data(ak.defaultText,am.text())},placeholderText:function(){am.hasClass(o.placeholder)&&X.data(ak.placeholderText,am.text())},remoteData:function(z,A){return b.Storage===a?void ac.error(ae.noStorage):void sessionStorage.setItem(A,z)}},clear:function(){ac.is.multiple()?ac.remove.labels():(ac.remove.activeItem(),ac.remove.selectedItem()),ac.set.placeholderText(),ac.clearValue()},clearValue:function(){ac.set.value("")},scrollPage:function(E,M){var B,D,A,M=M||ac.get.selectedItem(),I=M.closest(af.menu),z=I.outerHeight(),N=I.scrollTop(),H=J.eq(0).outerHeight(),C=Math.floor(z/H),L=(I.prop("scrollHeight"),"up"==E?N-H*C:N+H*C),F=J.not(af.unselectable);A="up"==E?F.index(M)-C:F.index(M)+C,B="up"==E?A>=0:A<F.length,D=B?F.eq(A):"up"==E?F.first():F.last(),D.length>0&&(ac.debug("Scrolling page",E,D),M.removeClass(o.selected),D.addClass(o.selected),I.scrollTop(L))},set:{filtered:function(){var D=ac.is.multiple(),B=ac.is.searchSelection(),F=D&&B,A=B?ac.get.query():"",E="string"==typeof A&&A.length>0,z=ac.get.searchWidth(A.length),C=""!==A;D&&E&&(ac.verbose("Adjusting input width",z,al.glyphWidth),Z.css("width",z)),E||F&&C?(ac.verbose("Hiding placeholder text"),am.addClass(o.filtered)):(!D||F&&!C)&&(ac.verbose("Showing placeholder text"),am.removeClass(o.filtered))},loading:function(){X.addClass(o.loading)},placeholderText:function(z){ac.debug("Restoring placeholder text"),z=z||X.data(ak.placeholderText),ac.set.text(z),am.addClass(o.placeholder)},tabbable:function(){ac.has.search()?(ac.debug("Added tabindex to searchable dropdown"),Z.val("").attr("tabindex",0),ab.attr("tabindex",-1)):(ac.debug("Added tabindex to dropdown"),X.attr("tabindex")||(X.attr("tabindex",0),ab.attr("tabindex",-1)))},initialLoad:function(){ac.verbose("Setting initial load"),ad=!0},scrollPosition:function(E,M){var B,A,I,z,N,H,D,L,F,C=5;E=E||ac.get.selectedItem(),B=E.closest(af.menu),A=E&&E.length>0,M=M!==a?M:!1,E&&B.length>0&&A&&(z=E.position().top,B.addClass(o.loading),H=B.scrollTop(),N=B.offset().top,z=E.offset().top,I=H-N+z,M||(D=B.height(),F=I+C>H+D,L=H>I-C),ac.debug("Scrolling to active item",I),(M||L||F)&&B.scrollTop(I),B.removeClass(o.loading))},text:function(z){"select"!==al.action&&("combo"==al.action?(ac.debug("Changing combo button text",z,g),al.preserveHTML?g.html(z):g.text(z)):(ac.debug("Changing text",z,am),am.removeClass(o.filtered).removeClass(o.placeholder),al.preserveHTML?am.html(z):am.text(z)))},selectedLetter:function(A){var B=J.filter("."+o.selected),z=!1;J.each(function(){var F=c(this),E=ac.get.choiceText(F,!1),C=String(E).charAt(0).toLowerCase(),D=A.toLowerCase();return C==D?(z=F,!1):void 0}),z&&(ac.verbose("Scrolling to next value with letter",A),ac.set.scrollPosition(z),B.removeClass(o.selected),z.addClass(o.selected))},direction:function(z){"auto"==al.direction?ac.is.onScreen(z)?ac.remove.upward(z):ac.set.upward(z):"upward"==al.direction&&ac.set.upward(z)},upward:function(A){var z=A||X;z.addClass(o.upward)},value:function(B,A,D){var z=K.length>0,C=(!ac.has.value(B),ac.get.values());if(z){if(B==C&&(ac.verbose("Skipping value update already same value",B,C),!ac.is.initialLoad())){return}ac.debug("Updating input value",B,C),K.val(B).trigger("change")}else{ac.verbose("Storing value in metadata",B,K),B!==C&&X.data(ak.value,B)}al.fireOnInit===!1&&ac.is.initialLoad()?ac.verbose("No callback on initial load",al.onChange):al.onChange.call(ai,B,A,D)},active:function(){X.addClass(o.active)},multiple:function(){X.addClass(o.multiple)},visible:function(){X.addClass(o.visible)},selected:function(A,B){var z=ac.is.multiple();return(B=al.allowAdditions?B||ac.get.itemWithAdditions(A):B||ac.get.item(A))?(ac.debug("Setting selected menu item to",B),ac.is.single()?(ac.remove.activeItem(),ac.remove.selectedItem()):al.useLabels&&ac.remove.selectedItem(),void B.each(function(){var E=c(this),I=ac.get.choiceText(E),D=ac.get.choiceValue(E,I),H=E.hasClass(o.filtered),F=E.hasClass(o.active),L=E.hasClass(o.addition),C=z&&1==B.length;z?!F||L?(al.apiSettings&&al.saveRemoteData&&ac.save.remoteData(I,D),al.useLabels?(ac.add.value(D,I,E),console.log(D),ac.add.label(D,I,C),E.addClass(o.active),ac.filterActive(),ac.select.nextAvailable(B)):(ac.add.value(D,I,E),ac.set.text(ac.add.variables(m.count)),E.addClass(o.active))):H||(ac.debug("Selected active value, removing label"),ac.remove.selected(D)):(al.apiSettings&&al.saveRemoteData&&ac.save.remoteData(I,D),ac.set.value(D,I,E),ac.set.text(I),E.addClass(o.active).addClass(o.selected))})):!1}},add:{label:function(B,D,A){var C,z=ac.is.searchSelection()?Z:am;return C=c("<a />").addClass(o.label).attr("data-value",B).html(ag.label(B,D)),C=al.onLabelCreate.call(C,B,D),ac.has.label(B)?void ac.debug("Label already exists, skipping",B):(al.label.variation&&C.addClass(al.label.variation),void (A===!0?(ac.debug("Animating in label",C),C.addClass(o.hidden).insertBefore(z).transition(al.label.transition,al.label.duration)):(ac.debug("Adding selection label",C),C.insertBefore(z))))},message:function(A){var B=ab.children(af.message),z=al.templates.message(ac.add.variables(A));B.length>0?B.html(z):B=c("<div/>").html(z).addClass(o.message).appendTo(ab)},optionValue:function(A){var B=K.find('option[value="'+A+'"]'),z=B.length>0;z||(aa&&(aa.disconnect(),ac.verbose("Temporarily disconnecting mutation observer",A)),c("<option/>").prop("value",A).html(A).appendTo(K),ac.verbose("Adding user addition as an <option>",A),aa&&aa.observe(K[0],{childList:!0,subtree:!0}))},userSuggestion:function(B){var A,D=ab.children(af.addition),z=ac.get.item(B),C=D.length>0;if(!ac.has.maxSelections()){if(""===B||z){return void D.remove()}J.removeClass(o.selected),C?(A=al.templates.addition(B),D.html(A).data(ak.value,B).removeClass(o.filtered).addClass(o.selected),ac.verbose("Replacing user suggestion with new value",D)):(D=ac.create.userChoice(B),D.prependTo(ab).addClass(o.selected),ac.verbose("Adding item choice to menu corresponding with user choice addition",D))}},variables:function(C){var B,E,A=-1!==C.search("{count}"),D=-1!==C.search("{maxCount}"),z=-1!==C.search("{term}");return ac.verbose("Adding templated variables to message",C),A&&(B=ac.get.selectionCount(),C=C.replace("{count}",B)),D&&(B=ac.get.selectionCount(),C=C.replace("{maxCount}",al.maxSelections)),z&&(E=ac.get.query(),C=C.replace("{term}",E)),C},value:function(B,D,A){var C,z=ac.get.values();return""===B?void ac.debug("Cannot select blank values from multiselect"):(c.isArray(z)?(C=z.concat([B]),C=ac.get.uniqueArray(C)):C=[B],K.is("select")?al.allowAdditions&&(ac.add.optionValue(B),ac.debug("Adding value to select",B,C,K)):(C=C.join(al.delimiter),ac.debug("Setting hidden input to delimited value",C,K)),al.fireOnInit===!1&&ac.is.initialLoad()?ac.verbose("No callback on initial load",al.onAdd):al.onAdd.call(ai,B,D,A),ac.set.value(C,B,D,A),void ac.check.maxSelections())}},remove:{active:function(){X.removeClass(o.active)},activeLabel:function(){X.find(af.label).removeClass(o.active)},loading:function(){X.removeClass(o.loading)},initialLoad:function(){ad=!1},upward:function(A){var z=A||X;z.removeClass(o.upward)},visible:function(){X.removeClass(o.visible)},activeItem:function(){J.removeClass(o.active)},filteredItem:function(){ac.has.maxSelections()||(al.useLabels?J.not("."+o.active).removeClass(o.filtered):J.removeClass(o.filtered))},message:function(){ab.children(af.message).remove()},searchTerm:function(){ac.verbose("Cleared search term"),Z.val(""),ac.set.filtered()},selected:function(z,A){return(A=al.allowAdditions?A||ac.get.itemWithAdditions(z):A||ac.get.item(z))?void A.each(function(){var C=c(this),D=ac.get.choiceText(C),B=ac.get.choiceValue(C,D);ac.is.multiple()?al.useLabels?(ac.remove.value(B,D,C),ac.remove.label(B)):(ac.remove.value(B,D,C),ac.set.text(ac.add.variables(m.count))):ac.remove.value(B,D,C),C.removeClass(o.filtered).removeClass(o.active),al.useLabels&&C.removeClass(o.selected)}):!1},selectedItem:function(){J.removeClass(o.selected)},value:function(B,A,D){var z,C=K.val();K.is("select")?(ac.verbose("Input is <select> removing selected option",B),z=ac.remove.arrayValue(B,C)):(ac.verbose("Removing from delimited values",B),C=C.split(al.delimiter),z=ac.remove.arrayValue(B,C),z=z.join(al.delimiter)),al.fireOnInit===!1&&ac.is.initialLoad()?ac.verbose("No callback on initial load",al.onRemove):al.onRemove.call(ai,B,A,D),ac.set.value(z,A,D),ac.check.maxSelections()},arrayValue:function(z,A){return A=c.grep(A,function(B){return z!=B}),ac.verbose("Removed value from delimited string",z,A),A},label:function(C){var B=X.find(af.label),E=B.filter('[data-value="'+C+'"]'),A=B.length,D=B.index(E)+1==A,z=(!ac.is.searchSelection()||!ac.is.focusedOnSearch())&&D;z?(ac.verbose("Animating and removing label",E),E.transition(al.label.transition,al.label.duration,function(){E.remove()})):(ac.verbose("Removing label",E),E.remove())},activeLabels:function(z){z=z||X.find(af.label).filter("."+o.active),ac.verbose("Removing active label selections",z),ac.remove.labels(z)},labels:function(z){z=z||X.find(af.label),ac.verbose("Removing labels",z),z.each(function(){var A=c(this).data("value"),B=ac.is.userValue(A);B?(ac.remove.value(A),ac.remove.label(A)):ac.remove.selected(A)})},tabbable:function(){ac.has.search()?(ac.debug("Searchable dropdown initialized"),Z.attr("tabindex","-1"),ab.attr("tabindex","-1")):(ac.debug("Simple selection dropdown initialized"),X.attr("tabindex","-1"),ab.attr("tabindex","-1"))}},has:{search:function(){return Z.length>0},input:function(){return K.length>0},menu:function(){return ab.length>0},message:function(){return 0!==ab.children(af.message).length},label:function(A){var z=X.find(af.label);return z.filter('[data-value="'+A+'"]').length>0},maxSelections:function(){return al.maxSelections&&ac.get.selectionCount()>=al.maxSelections},allResultsFiltered:function(){return J.filter(af.unselectable).length===J.length},value:function(A){var B=ac.get.values(),z=c.isArray(B)?B&&-1!==c.inArray(A,B):B==A;return z?!0:!1}},is:{active:function(){return X.hasClass(o.active)},alreadySetup:function(){return X.is("select")&&X.parent(af.dropdown).length>0&&0===X.prev().length},animating:function(z){return z?z.transition&&z.transition("is animating"):ab.transition&&ab.transition("is animating")},focused:function(){return d.activeElement===X[0]},focusedOnSearch:function(){return d.activeElement===Z[0]},allFiltered:function(){return(ac.is.multiple()||ac.has.search())&&!ac.has.message()&&ac.has.allResultsFiltered()},hidden:function(z){return !ac.is.visible(z)},initialLoad:function(){return ad},onScreen:function(z){var B,A=z||ab;return A.addClass(o.loading),B=c.fn.visibility!==a?A.visibility("bottom visible"):v.scrollTop()+v.height()>=A.offset().top+A.height(),ac.debug("Checking if menu can fit on screen",B,ab),A.removeClass(o.loading),B},inObject:function(A,B){var z=!1;return c.each(B,function(C,D){return D==A?(z=!0,!0):void 0}),z},multiple:function(){return X.hasClass(o.multiple)},single:function(){return !ac.is.multiple()},selectMutation:function(z){var A=!1;return c.each(z,function(C,B){return B.target&&c(B.target).is("select")?(A=!0,!0):void 0}),A},search:function(){return X.hasClass(o.search)},searchSelection:function(){return ac.has.search()&&0===Z.closest(af.menu).length},selection:function(){return X.hasClass(o.selection)},userValue:function(z){return -1!==c.inArray(z,ac.get.userValues())},upward:function(A){var z=A||X;return z.hasClass(o.upward)},visible:function(z){return z?z.hasClass(o.visible):ab.hasClass(o.visible)}},can:{click:function(){return x||"click"==al.on},show:function(){return !X.hasClass(o.disabled)&&J.length>0},useAPI:function(){return c.fn.api!==a}},animate:{show:function(A,D){var C,z=D||ab,B=D?function(){}:function(){ac.hideSubMenus(),ac.hideOthers(),ac.set.active()};A=c.isFunction(A)?A:function(){},ac.verbose("Doing menu show animation",z),ac.set.direction(D),C=ac.get.transition(D),ac.is.selection()&&ac.set.scrollPosition(ac.get.selectedItem(),!0),(ac.is.hidden(z)||ac.is.animating(z))&&("none"==C?(B(),z.transition("show"),A.call(ai)):c.fn.transition!==a&&X.transition("is supported")?z.transition({animation:C+" in",debug:al.debug,verbose:al.verbose,duration:al.duration,queue:!0,onStart:B,onComplete:function(){A.call(ai)}}):ac.error(ae.noTransition,C))},hide:function(A,D){var C=D||ab,z=(D?0.9*al.duration:al.duration,D?function(){}:function(){ac.can.click()&&ac.unbind.intent(),ac.remove.active()}),B=ac.get.transition(D);A=c.isFunction(A)?A:function(){},(ac.is.visible(C)||ac.is.animating(C))&&(ac.verbose("Doing menu hide animation",C),"none"==B?(z(),C.transition("hide"),A.call(ai)):c.fn.transition!==a&&X.transition("is supported")?C.transition({animation:B+" out",duration:al.duration,debug:al.debug,verbose:al.verbose,queue:!0,onStart:z,onComplete:function(){"auto"==al.direction&&ac.remove.upward(D),A.call(ai)}}):ac.error(ae.transition))}},hideAndClear:function(){ac.has.search()?(ac.remove.searchTerm(),ac.hide(function(){ac.remove.filteredItem()})):ac.hide()},delay:{show:function(){ac.verbose("Delaying show event to ensure user intent"),clearTimeout(ac.timer),ac.timer=setTimeout(ac.show,al.delay.show)},hide:function(){ac.verbose("Delaying hide event to ensure user intent"),clearTimeout(ac.timer),ac.timer=setTimeout(ac.hide,al.delay.hide)}},escape:{regExp:function(z){return z=String(z),z.replace(p.escape,"\\$&")}},setting:function(z,A){if(ac.debug("Changing setting",z,A),c.isPlainObject(z)){c.extend(!0,al,z)}else{if(A===a){return al[z]}al[z]=A}},internal:function(z,A){if(c.isPlainObject(z)){c.extend(!0,ac,z)}else{if(A===a){return ac[z]}ac[z]=A}},debug:function(){al.debug&&(al.performance?ac.performance.log(arguments):(ac.debug=Function.prototype.bind.call(console.info,console,al.name+":"),ac.debug.apply(console,arguments)))},verbose:function(){al.verbose&&al.debug&&(al.performance?ac.performance.log(arguments):(ac.verbose=Function.prototype.bind.call(console.info,console,al.name+":"),ac.verbose.apply(console,arguments)))},error:function(){ac.error=Function.prototype.bind.call(console.error,console,al.name+":"),ac.error.apply(console,arguments)},performance:{log:function(B){var A,C,z;al.performance&&(A=(new Date).getTime(),z=t||A,C=A-z,t=A,j.push({Name:B[0],Arguments:[].slice.call(B,1)||"",Element:ai,"Execution Time":C})),clearTimeout(ac.performance.timer),ac.performance.timer=setTimeout(ac.performance.display,500)},display:function(){var z=al.name+":",A=0;t=!1,clearTimeout(ac.performance.timer),c.each(j,function(C,B){A+=B["Execution Time"]}),z+=" "+A+"ms",k&&(z+=" '"+k+"'"),(console.group!==a||console.table!==a)&&j.length>0&&(console.groupCollapsed(z),console.table?console.table(j):c.each(j,function(C,B){console.log(B.Name+": "+B["Execution Time"]+"ms")}),console.groupEnd()),j=[]}},invoke:function(A,F,D){var C,B,E,z=r;return F=F||h,D=ai||D,"string"==typeof A&&z!==a&&(A=A.split(/[\. ]/),C=A.length-1,c.each(A,function(L,I){var H=L!=C?I+A[L+1].charAt(0).toUpperCase()+A[L+1].slice(1):A;if(c.isPlainObject(z[H])&&L!=C){z=z[H]}else{if(z[H]!==a){return B=z[H],!1}if(!c.isPlainObject(z[I])||L==C){return z[I]!==a?(B=z[I],!1):(ac.error(ae.method,A),!1)}z=z[I]}})),c.isFunction(B)?E=B.apply(D,F):B!==a&&(E=B),c.isArray(w)?w.push(E):w!==a?w=[w,E]:E!==a&&(w=E),B}},n?(r===a&&ac.initialize(),ac.invoke(q)):(r!==a&&r.invoke("destroy"),ac.initialize())}),w!==a?w:e},c.fn.dropdown.settings={debug:!1,verbose:!1,performance:!0,on:"click",action:"activate",apiSettings:!1,saveRemoteData:!0,throttle:200,direction:"auto",keepOnScreen:!0,match:"both",fullTextSearch:!1,placeholder:"auto",preserveHTML:!0,sortSelect:!1,forceSelection:!0,allowAdditions:!1,maxSelections:!1,useLabels:!0,delimiter:",",showOnFocus:!0,allowTab:!0,allowCategorySelection:!1,fireOnInit:!1,transition:"auto",duration:200,glyphWidth:1.0714,label:{transition:"scale",duration:200,variation:!1},delay:{hide:300,show:200,search:20,touch:50},onChange:function(g,f,h){},onAdd:function(g,f,h){},onRemove:function(g,f,h){},onLabelSelect:function(f){},onLabelCreate:function(e,f){return c(this)},onNoResults:function(f){return !0},onShow:function(){},onHide:function(){},name:"Dropdown",namespace:"dropdown",message:{addResult:"Add <b>{term}</b>",count:"{count} selected",maxSelections:"Max {maxCount} selections",noResults:"No results found.",serverError:"There was an error contacting the server"},error:{action:"You called a dropdown action that was not defined",alreadySetup:"Once a select has been initialized behaviors must be called on the created ui dropdown",labels:"Allowing user additions currently requires the use of labels.",method:"The method you called is not defined.",noAPI:"The API module is required to load resources remotely",noStorage:"Saving remote data requires session storage",noTransition:"This module requires ui transitions <https://github.com/Semantic-Org/UI-Transition>"},regExp:{escape:/[-[\]{}()*+?.,\\^$|#\s]/g},metadata:{defaultText:"defaultText",defaultValue:"defaultValue",placeholderText:"placeholder",text:"text",value:"value"},selector:{addition:".addition",dropdown:".ui.dropdown",icon:"> .dropdown.icon",input:'> input[type="hidden"], > select',item:".item",label:"> .label",remove:"> .label > .delete.icon",siblingLabel:".label",menu:".menu",message:".message",menuIcon:".dropdown.icon",search:"input.search, .menu > .search > input",text:"> .text:not(.icon)",unselectable:".disabled, .filtered"},className:{active:"active",addition:"addition",animating:"animating",disabled:"disabled",dropdown:"ui dropdown",filtered:"filtered",hidden:"hidden transition",item:"item",label:"ui label",loading:"loading",menu:"menu",message:"message",multiple:"multiple",placeholder:"default",search:"search",selected:"selected",selection:"selection",upward:"upward",visible:"visible"}},c.fn.dropdown.settings.templates={dropdown:function(f){var g=f.placeholder||!1,e=(f.values||{},"");return e+='<i class="dropdown icon"></i>',e+=f.placeholder?'<div class="default text">'+g+"</div>":'<div class="text"></div>',e+='<div class="menu">',c.each(f.values,function(i,h){e+=h.disabled?'<div class="disabled item" data-value="'+h.value+'">'+h.name+"</div>":'<div class="item" data-value="'+h.value+'">'+h.name+"</div>"}),e+="</div>"},menu:function(e){var f=(e.values||{},"");return c.each(e.values,function(h,g){f+='<div class="item" data-value="'+g.value+'">'+g.name+"</div>"}),f},label:function(g,f){return f+'<i class="delete icon"></i>'},message:function(f){return f},addition:function(f){return f}}}(jQuery,window,document),function(c,b,d,a){c.fn.embed=function(g){var f,k=c(this),e=k.selector||"",p=(new Date).getTime(),j=[],h=arguments[0],m="string"==typeof h,i=[].slice.call(arguments,1);return k.each(function(){var q,E=c.isPlainObject(g)?c.extend(!0,{},c.fn.embed.settings,g):c.extend({},c.fn.embed.settings),D=E.selector,n=E.className,J=E.sources,z=E.error,G=E.metadata,F=E.namespace,H=E.templates,l="."+F,I="module-"+F,s=(c(b),c(this)),t=s.find(D.placeholder),r=s.find(D.play),o=s.find(D.embed),B=this,u=s.data(I);q={initialize:function(){q.debug("Initializing embed"),q.determine.autoplay(),q.create(),q.bind.events(),q.instantiate()},instantiate:function(){q.verbose("Storing instance of module",q),u=q,s.data(I,q)},destroy:function(){q.verbose("Destroying previous instance of embed"),q.reset(),s.removeData(I).off(l)},refresh:function(){q.verbose("Refreshing selector cache"),t=s.find(D.placeholder),r=s.find(D.play),o=s.find(D.embed)},bind:{events:function(){q.has.placeholder()&&(q.debug("Adding placeholder events"),s.on("click"+l,D.placeholder,q.createAndShow).on("click"+l,D.play,q.createAndShow))}},create:function(){var v=q.get.placeholder();v?q.createPlaceholder():q.createAndShow()},createPlaceholder:function(w){var v=q.get.icon(),x=q.get.url();q.generate.embed(x);w=w||q.get.placeholder(),s.html(H.placeholder(w,v)),q.debug("Creating placeholder for embed",w,v)},createEmbed:function(v){q.refresh(),v=v||q.get.url(),o=c("<div/>").addClass(n.embed).html(q.generate.embed(v)).appendTo(s),E.onCreate.call(B,v),q.debug("Creating embed object",o)},createAndShow:function(){q.createEmbed(),q.show()},change:function(w,v,x){q.debug("Changing video to ",w,v,x),s.data(G.source,w).data(G.id,v).data(G.url,x),q.create()},reset:function(){q.debug("Clearing embed and showing placeholder"),q.remove.active(),q.remove.embed(),q.showPlaceholder(),E.onReset.call(B)},show:function(){q.debug("Showing embed"),q.set.active(),E.onDisplay.call(B)},hide:function(){q.debug("Hiding embed"),q.showPlaceholder()},showPlaceholder:function(){q.debug("Showing placeholder image"),q.remove.active(),E.onPlaceholderDisplay.call(B)},get:{id:function(){return E.id||s.data(G.id)},placeholder:function(){return E.placeholder||s.data(G.placeholder)},icon:function(){return E.icon?E.icon:s.data(G.icon)!==a?s.data(G.icon):q.determine.icon()},source:function(v){return E.source?E.source:s.data(G.source)!==a?s.data(G.source):q.determine.source()},type:function(){var v=q.get.source();return J[v]!==a?J[v].type:!1},url:function(){return E.url?E.url:s.data(G.url)!==a?s.data(G.url):q.determine.url()}},determine:{autoplay:function(){q.should.autoplay()&&(E.autoplay=!0)},source:function(v){var w=!1;return v=v||q.get.url(),v&&c.each(J,function(y,x){return -1!==v.search(x.domain)?(w=y,!1):void 0}),w},icon:function(){var v=q.get.source();return J[v]!==a?J[v].icon:!1},url:function(){var w,v=E.id||s.data(G.id),x=E.source||s.data(G.source);return w=J[x]!==a?J[x].url.replace("{id}",v):!1,w&&s.data(G.url,w),w}},set:{active:function(){s.addClass(n.active)}},remove:{active:function(){s.removeClass(n.active)},embed:function(){o.empty()}},encode:{parameters:function(w){var v,x=[];for(v in w){x.push(encodeURIComponent(v)+"="+encodeURIComponent(w[v]))}return x.join("&amp;")}},generate:{embed:function(x){q.debug("Generating embed html");var w,y,v=q.get.source();return x=q.get.url(x),x?(y=q.generate.parameters(v),w=H.iframe(x,y)):q.error(z.noURL,s),w},parameters:function(v,x){var w=J[v]&&J[v].parameters!==a?J[v].parameters(E):{};return x=x||E.parameters,x&&(w=c.extend({},w,x)),w=E.onEmbed(w),q.encode.parameters(w)}},has:{placeholder:function(){return E.placeholder||s.data(G.placeholder)}},should:{autoplay:function(){return"auto"===E.autoplay?E.placeholder||s.data(G.placeholder)!==a:E.autoplay}},is:{video:function(){return"video"==q.get.type()}},setting:function(v,w){if(q.debug("Changing setting",v,w),c.isPlainObject(v)){c.extend(!0,E,v)}else{if(w===a){return E[v]}E[v]=w}},internal:function(v,w){if(c.isPlainObject(v)){c.extend(!0,q,v)}else{if(w===a){return q[v]}q[v]=w}},debug:function(){E.debug&&(E.performance?q.performance.log(arguments):(q.debug=Function.prototype.bind.call(console.info,console,E.name+":"),q.debug.apply(console,arguments)))},verbose:function(){E.verbose&&E.debug&&(E.performance?q.performance.log(arguments):(q.verbose=Function.prototype.bind.call(console.info,console,E.name+":"),q.verbose.apply(console,arguments)))},error:function(){q.error=Function.prototype.bind.call(console.error,console,E.name+":"),q.error.apply(console,arguments)},performance:{log:function(x){var w,y,v;E.performance&&(w=(new Date).getTime(),v=p||w,y=w-v,p=w,j.push({Name:x[0],Arguments:[].slice.call(x,1)||"",Element:B,"Execution Time":y})),clearTimeout(q.performance.timer),q.performance.timer=setTimeout(q.performance.display,500)},display:function(){var v=E.name+":",w=0;p=!1,clearTimeout(q.performance.timer),c.each(j,function(y,x){w+=x["Execution Time"]}),v+=" "+w+"ms",e&&(v+=" '"+e+"'"),k.length>1&&(v+=" ("+k.length+")"),(console.group!==a||console.table!==a)&&j.length>0&&(console.groupCollapsed(v),console.table?console.table(j):c.each(j,function(y,x){console.log(x.Name+": "+x["Execution Time"]+"ms")}),console.groupEnd()),j=[]}},invoke:function(x,K,w){var A,y,C,v=u;return K=K||i,w=B||w,"string"==typeof x&&v!==a&&(x=x.split(/[\. ]/),A=x.length-1,c.each(x,function(N,M){var L=N!=A?M+x[N+1].charAt(0).toUpperCase()+x[N+1].slice(1):x;if(c.isPlainObject(v[L])&&N!=A){v=v[L]}else{if(v[L]!==a){return y=v[L],!1}if(!c.isPlainObject(v[M])||N==A){return v[M]!==a?(y=v[M],!1):(q.error(z.method,x),!1)}v=v[M]}})),c.isFunction(y)?C=y.apply(w,K):y!==a&&(C=y),c.isArray(f)?f.push(C):f!==a?f=[f,C]:C!==a&&(f=C),y}},m?(u===a&&q.initialize(),q.invoke(h)):(u!==a&&u.invoke("destroy"),q.initialize())}),f!==a?f:this},c.fn.embed.settings={name:"Embed",namespace:"embed",debug:!1,verbose:!1,performance:!0,icon:!1,source:!1,url:!1,id:!1,autoplay:"auto",color:"#444444",hd:!0,brandedUI:!1,parameters:!1,onDisplay:function(){},onPlaceholderDisplay:function(){},onReset:function(){},onCreate:function(f){},onEmbed:function(f){return f},metadata:{id:"id",icon:"icon",placeholder:"placeholder",source:"source",url:"url"},error:{noURL:"No URL specified",method:"The method you called is not defined"},className:{active:"active",embed:"embed"},selector:{embed:".embed",placeholder:".placeholder",play:".play"},sources:{youtube:{name:"youtube",type:"video",icon:"video play",domain:"youtube.com",url:"//www.youtube.com/embed/{id}",parameters:function(f){return{autohide:!f.brandedUI,autoplay:f.autoplay,color:f.colors||a,hq:f.hd,jsapi:f.api,modestbranding:!f.brandedUI}}},vimeo:{name:"vimeo",type:"video",icon:"video play",domain:"vimeo.com",url:"//player.vimeo.com/video/{id}",parameters:function(f){return{api:f.api,autoplay:f.autoplay,byline:f.brandedUI,color:f.colors||a,portrait:f.brandedUI,title:f.brandedUI}}}},templates:{iframe:function(g,f){return'<iframe src="'+g+"?="+f+'" width="100%" height="100%" frameborder="0" scrolling="no" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>'},placeholder:function(g,f){var h="";return f&&(h+='<i class="'+f+' icon"></i>'),g&&(h+='<img class="placeholder" src="'+g+'">'),h}},api:!0,onPause:function(){},onPlay:function(){},onStop:function(){}}}(jQuery,window,document),function(c,b,d,a){c.fn.modal=function(i){var x,e=c(this),A=c(b),w=c(d),k=c("body"),z=e.selector||"",t=(new Date).getTime(),j=[],q=arguments[0],n="string"==typeof q,h=[].slice.call(arguments,1),y=b.requestAnimationFrame||b.mozRequestAnimationFrame||b.webkitRequestAnimationFrame||b.msRequestAnimationFrame||function(f){setTimeout(f,0)};return e.each(function(){var L,V,W,s,v,K,B,Q,g,f=c.isPlainObject(i)?c.extend(!0,{},c.fn.modal.settings,i):c.extend({},c.fn.modal.settings),N=f.selector,m=f.className,l=f.namespace,H=f.error,G="."+l,J="module-"+l,o=c(this),M=c(f.context),p=o.find(N.close),U=this,u=o.data(J);g={initialize:function(){g.verbose("Initializing dimmer",M),g.create.id(),g.create.dimmer(),g.refreshModals(),g.bind.events(),f.observeChanges&&g.observeChanges(),g.instantiate()},instantiate:function(){g.verbose("Storing instance of modal"),u=g,o.data(J,u)},create:{dimmer:function(){var r={debug:f.debug,dimmerName:"modals",duration:{show:f.duration,hide:f.duration}},C=c.extend(!0,r,f.dimmerSettings);return f.inverted&&(C.variation=C.variation!==a?C.variation+" inverted":"inverted"),c.fn.dimmer===a?void g.error(H.dimmer):(g.debug("Creating dimmer with settings",C),s=M.dimmer(C),f.detachable?(g.verbose("Modal is detachable, moving content into dimmer"),s.dimmer("add content",o)):g.set.undetached(),f.blurring&&s.addClass(m.blurring),void (v=s.dimmer("get dimmer")))},id:function(){B=(Math.random().toString(16)+"000000000").substr(2,8),K="."+B,g.verbose("Creating unique id for element",B)}},destroy:function(){g.verbose("Destroying previous modal"),o.removeData(J).off(G),A.off(K),p.off(G),M.dimmer("destroy")},observeChanges:function(){"MutationObserver" in b&&(Q=new MutationObserver(function(r){g.debug("DOM tree modified, refreshing"),g.refresh()}),Q.observe(U,{childList:!0,subtree:!0}),g.debug("Setting up mutation observer",Q))},refresh:function(){g.remove.scrolling(),g.cacheSizes(),g.set.screenHeight(),g.set.type(),g.set.position()},refreshModals:function(){V=o.siblings(N.modal),L=V.add(o)},attachEvents:function(C,D){var r=c(C);D=c.isFunction(g[D])?g[D]:g.toggle,r.length>0?(g.debug("Attaching modal events to element",C,D),r.off(G).on("click"+G,D)):g.error(H.notFound,C)},bind:{events:function(){g.verbose("Attaching events"),o.on("click"+G,N.close,g.event.close).on("click"+G,N.approve,g.event.approve).on("click"+G,N.deny,g.event.deny),A.on("resize"+K,g.event.resize)}},get:{id:function(){return(Math.random().toString(16)+"000000000").substr(2,8)}},event:{approve:function(){return f.onApprove.call(U,c(this))===!1?void g.verbose("Approve callback returned false cancelling hide"):void g.hide()},deny:function(){return f.onDeny.call(U,c(this))===!1?void g.verbose("Deny callback returned false cancelling hide"):void g.hide()},close:function(){g.hide()},click:function(D){var C=c(D.target),E=C.closest(N.modal).length>0,r=c.contains(d.documentElement,D.target);!E&&r&&(g.debug("Dimmer clicked, hiding all modals"),g.is.active()&&(g.remove.clickaway(),f.allowMultiple?g.hide():g.hideAll()))},debounce:function(C,r){clearTimeout(g.timer),g.timer=setTimeout(C,r)},keyboard:function(C){var r=C.which,D=27;r==D&&(f.closable?(g.debug("Escape key pressed hiding modal"),g.hide()):g.debug("Escape key pressed, but closable is set to false"),C.preventDefault())},resize:function(){s.dimmer("is active")&&y(g.refresh)}},toggle:function(){g.is.active()||g.is.animating()?g.hide():g.show()},show:function(r){r=c.isFunction(r)?r:function(){},g.refreshModals(),g.showModal(r)},hide:function(r){r=c.isFunction(r)?r:function(){},g.refreshModals(),g.hideModal(r)},showModal:function(r){r=c.isFunction(r)?r:function(){},g.is.animating()||!g.is.active()?(g.showDimmer(),g.cacheSizes(),g.set.position(),g.set.screenHeight(),g.set.type(),g.set.clickaway(),!f.allowMultiple&&V.filter("."+m.active).length>0?(g.debug("Other modals visible, queueing show animation"),g.hideOthers(g.showModal)):(f.onShow.call(U),f.transition&&c.fn.transition!==a&&o.transition("is supported")?(g.debug("Showing modal with css animations"),o.transition({debug:f.debug,animation:f.transition+" in",queue:f.queue,duration:f.duration,useFailSafe:!0,onComplete:function(){f.onVisible.apply(U),g.add.keyboardShortcuts(),g.save.focus(),g.set.active(),g.set.autofocus(),r()}})):g.error(H.noTransition))):g.debug("Modal is already visible")},hideModal:function(r,C){r=c.isFunction(r)?r:function(){},g.debug("Hiding modal"),f.onHide.call(U),(g.is.animating()||g.is.active())&&(f.transition&&c.fn.transition!==a&&o.transition("is supported")?(g.remove.active(),o.transition({debug:f.debug,animation:f.transition+" out",queue:f.queue,duration:f.duration,useFailSafe:!0,onStart:function(){g.others.active()||C||g.hideDimmer(),g.remove.keyboardShortcuts()},onComplete:function(){f.onHidden.call(U),g.restore.focus(),r()}})):g.error(H.noTransition))},showDimmer:function(){s.dimmer("is animating")||!s.dimmer("is active")?(g.debug("Showing dimmer"),s.dimmer("show")):g.debug("Dimmer already visible")},hideDimmer:function(){return s.dimmer("is animating")||s.dimmer("is active")?void s.dimmer("hide",function(){f.transition&&c.fn.transition!==a&&o.transition("is supported")&&(g.remove.clickaway(),g.remove.screenHeight())}):void g.debug("Dimmer is not visible cannot hide")},hideAll:function(r){var C=L.filter("."+m.active+", ."+m.animating);r=c.isFunction(r)?r:function(){},C.length>0&&(g.debug("Hiding all visible modals"),g.hideDimmer(),C.modal("hide modal",r))},hideOthers:function(r){var C=V.filter("."+m.active+", ."+m.animating);r=c.isFunction(r)?r:function(){},C.length>0&&(g.debug("Hiding other modals",V),C.modal("hide modal",r,!0))},others:{active:function(){return V.filter("."+m.active).length>0},animating:function(){return V.filter("."+m.animating).length>0}},add:{keyboardShortcuts:function(){g.verbose("Adding keyboard shortcuts"),w.on("keyup"+G,g.event.keyboard)}},save:{focus:function(){W=c(d.activeElement).blur()}},restore:{focus:function(){W&&W.length>0&&W.focus()}},remove:{active:function(){o.removeClass(m.active)},clickaway:function(){f.closable&&v.off("click"+K)},screenHeight:function(){g.cache.height>g.cache.pageHeight&&(g.debug("Removing page height"),k.css("height",""))},keyboardShortcuts:function(){g.verbose("Removing keyboard shortcuts"),w.off("keyup"+G)},scrolling:function(){s.removeClass(m.scrolling),o.removeClass(m.scrolling)}},cacheSizes:function(){var r=o.outerHeight();(g.cache===a||0!==r)&&(g.cache={pageHeight:c(d).outerHeight(),height:r+f.offset,contextHeight:"body"==f.context?c(b).height():s.height()}),g.debug("Caching modal and container sizes",g.cache)},can:{fit:function(){return g.cache.height+2*f.padding<g.cache.contextHeight}},is:{active:function(){return o.hasClass(m.active)},animating:function(){return o.transition("is supported")?o.transition("is animating"):o.is(":visible")},scrolling:function(){return s.hasClass(m.scrolling)},modernBrowser:function(){return !(b.ActiveXObject||"ActiveXObject" in b)}},set:{autofocus:function(){if(f.autofocus){var C=o.filter(":input").filter(":visible"),r=C.filter("[autofocus]"),D=r.length>0?r.first():C.first();D.length>0&&D.focus()}},clickaway:function(){f.closable&&v.on("click"+K,g.event.click)},screenHeight:function(){g.can.fit()?k.css("height",""):(g.debug("Modal is taller than page content, resizing page height"),k.css("height",g.cache.height+2*f.padding))},active:function(){o.addClass(m.active)},scrolling:function(){s.addClass(m.scrolling),o.addClass(m.scrolling)},type:function(){g.can.fit()?(g.verbose("Modal fits on screen"),g.others.active()||g.others.animating()||g.remove.scrolling()):(g.verbose("Modal cannot fit on screen setting to scrolling"),g.set.scrolling())},position:function(){g.verbose("Centering modal on page",g.cache),o.css(g.can.fit()?{top:"",marginTop:-(g.cache.height/2)}:{marginTop:"",top:w.scrollTop()})},undetached:function(){s.addClass(m.undetached)}},setting:function(r,C){if(g.debug("Changing setting",r,C),c.isPlainObject(r)){c.extend(!0,f,r)}else{if(C===a){return f[r]}f[r]=C}},internal:function(r,C){if(c.isPlainObject(r)){c.extend(!0,g,r)}else{if(C===a){return g[r]}g[r]=C}},debug:function(){f.debug&&(f.performance?g.performance.log(arguments):(g.debug=Function.prototype.bind.call(console.info,console,f.name+":"),g.debug.apply(console,arguments)))},verbose:function(){f.verbose&&f.debug&&(f.performance?g.performance.log(arguments):(g.verbose=Function.prototype.bind.call(console.info,console,f.name+":"),g.verbose.apply(console,arguments)))},error:function(){g.error=Function.prototype.bind.call(console.error,console,f.name+":"),g.error.apply(console,arguments)},performance:{log:function(D){var C,E,r;f.performance&&(C=(new Date).getTime(),r=t||C,E=C-r,t=C,j.push({Name:D[0],Arguments:[].slice.call(D,1)||"",Element:U,"Execution Time":E})),clearTimeout(g.performance.timer),g.performance.timer=setTimeout(g.performance.display,500)},display:function(){var r=f.name+":",C=0;t=!1,clearTimeout(g.performance.timer),c.each(j,function(E,D){C+=D["Execution Time"]}),r+=" "+C+"ms",z&&(r+=" '"+z+"'"),(console.group!==a||console.table!==a)&&j.length>0&&(console.groupCollapsed(r),console.table?console.table(j):c.each(j,function(E,D){console.log(D.Name+": "+D["Execution Time"]+"ms")}),console.groupEnd()),j=[]}},invoke:function(D,P,I){var F,E,O,C=u;return P=P||h,I=U||I,"string"==typeof D&&C!==a&&(D=D.split(/[\. ]/),F=D.length-1,c.each(D,function(S,R){var r=S!=F?R+D[S+1].charAt(0).toUpperCase()+D[S+1].slice(1):D;if(c.isPlainObject(C[r])&&S!=F){C=C[r]}else{if(C[r]!==a){return E=C[r],!1}if(!c.isPlainObject(C[R])||S==F){return C[R]!==a?(E=C[R],!1):!1}C=C[R]}})),c.isFunction(E)?O=E.apply(I,P):E!==a&&(O=E),c.isArray(x)?x.push(O):x!==a?x=[x,O]:O!==a&&(x=O),E}},n?(u===a&&g.initialize(),g.invoke(q)):(u!==a&&u.invoke("destroy"),g.initialize())}),x!==a?x:this},c.fn.modal.settings={name:"Modal",namespace:"modal",debug:!1,verbose:!1,performance:!0,observeChanges:!1,allowMultiple:!1,detachable:!0,closable:!0,autofocus:!0,inverted:!1,blurring:!1,dimmerSettings:{closable:!1,useCSS:!0},context:"body",queue:!1,duration:500,offset:0,transition:"scale",padding:50,onShow:function(){},onVisible:function(){},onHide:function(){},onHidden:function(){},onApprove:function(){return !0},onDeny:function(){return !0},selector:{close:".close",approve:".actions .positive, .actions .approve, .actions .ok",deny:".actions .negative, .actions .deny, .actions .cancel",modal:".ui.modal"},error:{dimmer:"UI Dimmer, a required component is not included in this page",method:"The method you called is not defined.",notFound:"The element you specified could not be found"},className:{active:"active",animating:"animating",blurring:"blurring",scrolling:"scrolling",undetached:"undetached"}}}(jQuery,window,document),function(c,b,d,a){c.fn.nag=function(g){var f,k=c(this),e=k.selector||"",p=(new Date).getTime(),j=[],h=arguments[0],m="string"==typeof h,i=[].slice.call(arguments,1);return k.each(function(){var z,o=c.isPlainObject(g)?c.extend(!0,{},c.fn.nag.settings,g):c.extend({},c.fn.nag.settings),s=(o.className,o.selector),r=o.error,n=o.namespace,A="."+n,q=n+"-module",u=c(this),t=(u.find(s.close),c(o.context?o.context:"body")),w=this,l=u.data(q);b.requestAnimationFrame||b.mozRequestAnimationFrame||b.webkitRequestAnimationFrame||b.msRequestAnimationFrame||function(v){setTimeout(v,0)};z={initialize:function(){z.verbose("Initializing element"),u.on("click"+A,s.close,z.dismiss).data(q,z),o.detachable&&u.parent()[0]!==t[0]&&u.detach().prependTo(t),o.displayTime>0&&setTimeout(z.hide,o.displayTime),z.show()},destroy:function(){z.verbose("Destroying instance"),u.removeData(q).off(A)},show:function(){z.should.show()&&!u.is(":visible")&&(z.debug("Showing nag",o.animation.show),"fade"==o.animation.show?u.fadeIn(o.duration,o.easing):u.slideDown(o.duration,o.easing))},hide:function(){z.debug("Showing nag",o.animation.hide),"fade"==o.animation.show?u.fadeIn(o.duration,o.easing):u.slideUp(o.duration,o.easing)},onHide:function(){z.debug("Removing nag",o.animation.hide),u.remove(),o.onHide&&o.onHide()},dismiss:function(v){o.storageMethod&&z.storage.set(o.key,o.value),z.hide(),v.stopImmediatePropagation(),v.preventDefault()},should:{show:function(){return o.persist?(z.debug("Persistent nag is set, can show nag"),!0):z.storage.get(o.key)!=o.value.toString()?(z.debug("Stored value is not set, can show nag",z.storage.get(o.key)),!0):(z.debug("Stored value is set, cannot show nag",z.storage.get(o.key)),!1)}},get:{storageOptions:function(){var v={};return o.expires&&(v.expires=o.expires),o.domain&&(v.domain=o.domain),o.path&&(v.path=o.path),v}},clear:function(){z.storage.remove(o.key)},storage:{set:function(y,x){var v=z.get.storageOptions();if("localstorage"==o.storageMethod&&b.localStorage!==a){b.localStorage.setItem(y,x),z.debug("Value stored using local storage",y,x)}else{if(c.cookie===a){return void z.error(r.noCookieStorage)}c.cookie(y,x,v),z.debug("Value stored using cookie",y,x,v)}},get:function(y,x){var v;return"localstorage"==o.storageMethod&&b.localStorage!==a?v=b.localStorage.getItem(y):c.cookie!==a?v=c.cookie(y):z.error(r.noCookieStorage),("undefined"==v||"null"==v||v===a||null===v)&&(v=a),v},remove:function(x){var v=z.get.storageOptions();"local"==o.storageMethod&&b.store!==a?b.localStorage.removeItem(x):c.cookie!==a?c.removeCookie(x,v):z.error(r.noStorage)}},setting:function(v,x){if(z.debug("Changing setting",v,x),c.isPlainObject(v)){c.extend(!0,o,v)}else{if(x===a){return o[v]}o[v]=x}},internal:function(v,x){if(c.isPlainObject(v)){c.extend(!0,z,v)}else{if(x===a){return z[v]}z[v]=x}},debug:function(){o.debug&&(o.performance?z.performance.log(arguments):(z.debug=Function.prototype.bind.call(console.info,console,o.name+":"),z.debug.apply(console,arguments)))},verbose:function(){o.verbose&&o.debug&&(o.performance?z.performance.log(arguments):(z.verbose=Function.prototype.bind.call(console.info,console,o.name+":"),z.verbose.apply(console,arguments)))},error:function(){z.error=Function.prototype.bind.call(console.error,console,o.name+":"),z.error.apply(console,arguments)},performance:{log:function(y){var x,B,v;o.performance&&(x=(new Date).getTime(),v=p||x,B=x-v,p=x,j.push({Name:y[0],Arguments:[].slice.call(y,1)||"",Element:w,"Execution Time":B})),clearTimeout(z.performance.timer),z.performance.timer=setTimeout(z.performance.display,500)},display:function(){var v=o.name+":",x=0;p=!1,clearTimeout(z.performance.timer),c.each(j,function(B,y){x+=y["Execution Time"]}),v+=" "+x+"ms",e&&(v+=" '"+e+"'"),(console.group!==a||console.table!==a)&&j.length>0&&(console.groupCollapsed(v),console.table?console.table(j):c.each(j,function(B,y){console.log(y.Name+": "+y["Execution Time"]+"ms")}),console.groupEnd()),j=[]}},invoke:function(y,E,C){var B,D,v,x=l;return E=E||i,C=w||C,"string"==typeof y&&x!==a&&(y=y.split(/[\. ]/),B=y.length-1,c.each(y,function(H,G){var F=H!=B?G+y[H+1].charAt(0).toUpperCase()+y[H+1].slice(1):y;if(c.isPlainObject(x[F])&&H!=B){x=x[F]}else{if(x[F]!==a){return D=x[F],!1}if(!c.isPlainObject(x[G])||H==B){return x[G]!==a?(D=x[G],!1):(z.error(r.method,y),!1)}x=x[G]}})),c.isFunction(D)?v=D.apply(C,E):D!==a&&(v=D),c.isArray(f)?f.push(v):f!==a?f=[f,v]:v!==a&&(f=v),D}},m?(l===a&&z.initialize(),z.invoke(h)):(l!==a&&l.invoke("destroy"),z.initialize())}),f!==a?f:this},c.fn.nag.settings={name:"Nag",debug:!1,verbose:!1,performance:!0,namespace:"Nag",persist:!1,displayTime:0,animation:{show:"slide",hide:"slide"},context:!1,detachable:!1,expires:30,domain:!1,path:"/",storageMethod:"cookie",key:"nag",value:"dismiss",error:{noCookieStorage:"$.cookie is not included. A storage solution is required.",noStorage:"Neither $.cookie or store is defined. A storage solution is required for storing state",method:"The method you called is not defined."},className:{bottom:"bottom",fixed:"fixed"},selector:{close:".close.icon"},speed:500,easing:"easeOutQuad",onHide:function(){}}}(jQuery,window,document),function(c,b,d,a){c.fn.popup=function(i){var x,e=c(this),A=c(d),w=c(b),k=c("body"),z=e.selector||"",t="ontouchstart" in d.documentElement,j=(new Date).getTime(),q=[],n=arguments[0],h="string"==typeof n,y=[].slice.call(arguments,1);return e.each(function(){var M,J,U,V,s,u=c.isPlainObject(i)?c.extend(!0,{},c.fn.popup.settings,i):c.extend({},c.fn.popup.settings),I=u.selector,v=u.className,N=u.error,g=u.metadata,f=u.namespace,L="."+u.namespace,m="module-"+f,l=c(this),G=c(u.context),B=u.target?c(u.target):l,H=0,o=!1,K=!1,p=this,Q=l.data(m);s={initialize:function(){s.debug("Initializing",l),s.createID(),s.bind.events(),!s.exists()&&u.preserve&&s.create(),s.instantiate()},instantiate:function(){s.verbose("Storing instance",s),Q=s,l.data(m,Q)},refresh:function(){u.popup?M=c(u.popup).eq(0):u.inline&&(M=B.next(I.popup).eq(0),u.popup=M),u.popup?(M.addClass(v.loading),J=s.get.offsetParent(),M.removeClass(v.loading),u.movePopup&&s.has.popup()&&s.get.offsetParent(M)[0]!==J[0]&&(s.debug("Moving popup to the same offset parent as activating element"),M.detach().appendTo(J))):J=u.inline?s.get.offsetParent(B):s.has.popup()?s.get.offsetParent(M):k,J.is("html")&&(s.debug("Setting page as offset parent"),J=k)},reposition:function(){s.refresh(),s.set.position()},destroy:function(){s.debug("Destroying previous module"),M&&!u.preserve&&s.removePopup(),clearTimeout(s.hideTimer),clearTimeout(s.showTimer),w.off(U),l.off(L).removeData(m)},event:{start:function(r){var C=c.isPlainObject(u.delay)?u.delay.show:u.delay;clearTimeout(s.hideTimer),s.showTimer=setTimeout(s.show,C)},end:function(){var r=c.isPlainObject(u.delay)?u.delay.hide:u.delay;clearTimeout(s.showTimer),s.hideTimer=setTimeout(s.hide,r)},touchstart:function(r){K=!0,s.event.start()},resize:function(){s.is.visible()&&s.set.position()},hideGracefully:function(r){r&&0===c(r.target).closest(I.popup).length?(s.debug("Click occurred outside popup hiding popup"),s.hide()):s.debug("Click was inside popup, keeping popup open")}},create:function(){var D=s.get.html(),C=s.get.variation(),E=s.get.title(),r=s.get.content();D||r||E?(s.debug("Creating pop-up html"),D||(D=u.templates.popup({title:E,content:r})),M=c("<div/>").addClass(v.popup).addClass(C).data(g.activator,l).html(D),C&&M.addClass(C),u.inline?(s.verbose("Inserting popup element inline",M),M.insertAfter(l)):(s.verbose("Appending popup element to body",M),M.appendTo(G)),s.refresh(),u.hoverable&&s.bind.popup(),u.onCreate.call(M,p)):0!==B.next(I.popup).length?(s.verbose("Pre-existing popup found"),u.inline=!0,u.popups=B.next(I.popup).data(g.activator,l),s.refresh(),u.hoverable&&s.bind.popup()):u.popup?(c(u.popup).data(g.activator,l),s.verbose("Used popup specified in settings"),s.refresh(),u.hoverable&&s.bind.popup()):s.debug("No content specified skipping display",p)},createID:function(){V=(Math.random().toString(16)+"000000000").substr(2,8),U="."+V,s.verbose("Creating unique id for element",V)},toggle:function(){s.debug("Toggling pop-up"),s.is.hidden()?(s.debug("Popup is hidden, showing pop-up"),s.unbind.close(),s.show()):(s.debug("Popup is visible, hiding pop-up"),s.hide())},show:function(r){if(r=r||function(){},s.debug("Showing pop-up",u.transition),s.is.hidden()&&(!s.is.active()||!s.is.dropdown())){if(s.exists()||s.create(),u.onShow.call(M,p)===!1){return void s.debug("onShow callback returned false, cancelling popup animation")}u.preserve||u.popup||s.refresh(),M&&s.set.position()&&(s.save.conditions(),u.exclusive&&s.hideAll(),s.animate.show(r))}},hide:function(r){if(r=r||function(){},s.is.visible()||s.is.animating()){if(u.onHide.call(M,p)===!1){return void s.debug("onHide callback returned false, cancelling popup animation")}s.remove.visible(),s.unbind.close(),s.restore.conditions(),s.animate.hide(r)}},hideAll:function(){c(I.popup).filter("."+v.visible).each(function(){c(this).data(g.activator).popup("hide")})},exists:function(){return M?u.inline||u.popup?s.has.popup():M.closest(G).length>=1?!0:!1:!1},removePopup:function(){s.debug("Removing popup",M),s.has.popup()&&!u.popup&&(M.remove(),M=a),u.onRemove.call(M,p)},save:{conditions:function(){s.cache={title:l.attr("title")},s.cache.title&&l.removeAttr("title"),s.verbose("Saving original attributes",s.cache.title)}},restore:{conditions:function(){return s.cache&&s.cache.title&&(l.attr("title",s.cache.title),s.verbose("Restoring original attributes",s.cache.title)),!0}},animate:{show:function(r){r=c.isFunction(r)?r:function(){},u.transition&&c.fn.transition!==a&&l.transition("is supported")?(s.set.visible(),M.transition({animation:u.transition+" in",queue:!1,debug:u.debug,verbose:u.verbose,duration:u.duration,onComplete:function(){s.bind.close(),r.call(M,p),u.onVisible.call(M,p)}})):s.error(N.noTransition)},hide:function(r){return r=c.isFunction(r)?r:function(){},s.debug("Hiding pop-up"),u.onShow.call(M,p)===!1?void s.debug("onShow callback returned false, cancelling popup animation"):void (u.transition&&c.fn.transition!==a&&l.transition("is supported")?M.transition({animation:u.transition+" out",queue:!1,duration:u.duration,debug:u.debug,verbose:u.verbose,onComplete:function(){s.reset(),r.call(M,p),u.onHidden.call(M,p)}}):s.error(N.noTransition))}},get:{html:function(){return l.removeData(g.html),l.data(g.html)||u.html},title:function(){return l.removeData(g.title),l.data(g.title)||u.title},content:function(){return l.removeData(g.content),l.data(g.content)||l.attr("title")||u.content},variation:function(){return l.removeData(g.variation),l.data(g.variation)||u.variation},calculations:function(){var D,C=B[0],E=u.inline||u.popup?B.position():B.offset(),r={};return r={target:{element:B[0],width:B.outerWidth(),height:B.outerHeight(),top:E.top,left:E.left,margin:{}},popup:{width:M.outerWidth(),height:M.outerHeight()},parent:{width:J.outerWidth(),height:J.outerHeight()},screen:{scroll:{top:w.scrollTop(),left:w.scrollLeft()},width:w.width(),height:w.height()}},r.target.margin.top=u.inline?parseInt(b.getComputedStyle(C).getPropertyValue("margin-top"),10):0,r.target.margin.left=u.inline?s.is.rtl()?parseInt(b.getComputedStyle(C).getPropertyValue("margin-right"),10):parseInt(b.getComputedStyle(C).getPropertyValue("margin-left"),10):0,D=r.screen,r.boundary={top:D.scroll.top,bottom:D.scroll.top+D.height,left:D.scroll.left,right:D.scroll.left+D.width},r},id:function(){return V},startEvent:function(){return"hover"==u.on?"mouseenter":"focus"==u.on?"focus":!1},scrollEvent:function(){return"scroll"},endEvent:function(){return"hover"==u.on?"mouseleave":"focus"==u.on?"blur":!1},offsetParent:function(D){var R=D!==a?D[0]:l[0],O=R.parentNode,C=c(O);if(O){for(var F="none"===C.css("transform"),E="static"===C.css("position"),P=C.is("html");O&&!P&&E&&F;){O=O.parentNode,C=c(O),F="none"===C.css("transform"),E="static"===C.css("position"),P=C.is("html")}}return C&&C.length>0?C:c()},offstagePosition:function(E,D){var P,C,O=M.offset(),F={},R=[];return E=E||!1,D=D||s.get.calculations(),P=D.popup,C=D.boundary,O&&E&&(F={top:O.top<C.top,bottom:O.top+P.height>C.bottom,right:O.left+P.width>C.right,left:O.left<C.left},s.verbose("Offstage positions determined",O,F)),c.each(F,function(S,r){r&&R.push(S)}),R.length>0?R.join(" "):!1},positions:function(){return{"top left":!1,"top center":!1,"top right":!1,"bottom left":!1,"bottom center":!1,"bottom right":!1,"left center":!1,"right center":!1}},nextPosition:function(P){var W=P.split(" "),E=W[0],O=W[1],D={top:"bottom",bottom:"top",left:"right",right:"left"},S={left:"center",center:"right",right:"left"},C={"top left":"top center","top center":"top right","top right":"right center","right center":"bottom right","bottom right":"bottom center","bottom center":"bottom left","bottom left":"left center","left center":"top left"},X="top"==E||"bottom"==E,R=!1,F=!1,T=!1;return o||(s.verbose("All available positions available"),o=s.get.positions()),s.debug("Recording last position tried",P),o[P]=!0,"opposite"===u.prefer&&(T=[D[E],O],T=T.join(" "),R=o[T]===!0,s.debug("Trying opposite strategy",T)),"adjacent"===u.prefer&&X&&(T=[E,S[O]],T=T.join(" "),F=o[T]===!0,s.debug("Trying adjacent strategy",T)),(F||R)&&(s.debug("Using backup position",T),T=C[P]),T}},set:{position:function(F,S){if(0===B.length||0===M.length){return void s.error(N.notFound)}var D,P,C,T,O,E,R;if(S=S||s.get.calculations(),F=F||l.data(g.position)||u.position,D=l.data(g.offset)||u.offset,P=u.distanceAway,C=S.target,T=S.popup,O=S.parent,0===C.top&&0===C.left){return s.debug("Popup target is hidden, no action taken"),!1}switch(u.inline&&(s.debug("Adding margin to calculation",C.margin),"left center"==F||"right center"==F?(D+=C.margin.top,P+=-C.margin.left):"top left"==F||"top center"==F||"top right"==F?(D+=C.margin.left,P-=C.margin.top):(D+=C.margin.left,P+=C.margin.top)),s.debug("Determining popup position from calculations",F,S),s.is.rtl()&&(F=F.replace(/left|right/g,function(r){return"left"==r?"right":"left"}),s.debug("RTL: Popup position updated",F)),H==u.maxSearchDepth&&u.lastResort&&(s.debug('Using "last resort" position to display',u.lastResort),F=u.lastResort),F){case"top left":E={top:"auto",bottom:O.height-C.top+P,left:C.left+D,right:"auto"};break;case"top center":E={bottom:O.height-C.top+P,left:C.left+C.width/2-T.width/2+D,top:"auto",right:"auto"};break;case"top right":E={bottom:O.height-C.top+P,right:O.width-C.left-C.width-D,top:"auto",left:"auto"};break;case"left center":E={top:C.top+C.height/2-T.height/2+D,right:O.width-C.left+P,left:"auto",bottom:"auto"};break;case"right center":E={top:C.top+C.height/2-T.height/2+D,left:C.left+C.width+P,bottom:"auto",right:"auto"};break;case"bottom left":E={top:C.top+C.height+P,left:C.left+D,bottom:"auto",right:"auto"};break;case"bottom center":E={top:C.top+C.height+P,left:C.left+C.width/2-T.width/2+D,bottom:"auto",right:"auto"};break;case"bottom right":E={top:C.top+C.height+P,right:O.width-C.left-C.width-D,left:"auto",bottom:"auto"}}if(E===a&&s.error(N.invalidPosition,F),s.debug("Calculated popup positioning values",E),M.css(E).removeClass(v.position).addClass(F).addClass(v.loading),R=s.get.offstagePosition(F,S)){if(s.debug("Popup cant fit into viewport",F,R),H<u.maxSearchDepth){return H++,F=s.get.nextPosition(F),s.debug("Trying new position",F),M?s.set.position(F,S):!1}if(!u.lastResort){return s.debug("Popup could not find a position in view",M),s.remove.attempts(),s.remove.loading(),s.reset(),!1}}return s.debug("Position is on stage",F),s.remove.attempts(),s.set.fluidWidth(S),s.remove.loading(),!0},fluidWidth:function(r){r=r||s.get.calculations(),u.setFluidWidth&&M.hasClass(v.fluid)&&M.css("width",r.parent.width)},visible:function(){l.addClass(v.visible)}},remove:{loading:function(){M.removeClass(v.loading)},visible:function(){l.removeClass(v.visible)},attempts:function(){s.verbose("Resetting all searched positions"),H=0,o=!1}},bind:{events:function(){s.debug("Binding popup events to module"),"click"==u.on&&l.on("click"+L,s.toggle),"hover"==u.on&&t?l.on("touchstart"+L,s.event.touchstart):s.get.startEvent()&&l.on(s.get.startEvent()+L,s.event.start).on(s.get.endEvent()+L,s.event.end),u.target&&s.debug("Target set to element",B),w.on("resize"+U,s.event.resize)},popup:function(){s.verbose("Allowing hover events on popup to prevent closing"),M&&s.has.popup()&&M.on("mouseenter"+L,s.event.start).on("mouseleave"+L,s.event.end)},close:function(){(u.hideOnScroll===!0||"auto"==u.hideOnScroll&&"click"!=u.on)&&(A.one(s.get.scrollEvent()+U,s.event.hideGracefully),G.one(s.get.scrollEvent()+U,s.event.hideGracefully)),"hover"==u.on&&K&&(s.verbose("Binding popup close event to document"),A.on("touchstart"+U,function(r){s.verbose("Touched away from popup"),s.event.hideGracefully.call(p,r)})),"click"==u.on&&u.closable&&(s.verbose("Binding popup close event to document"),A.on("click"+U,function(r){s.verbose("Clicked away from popup"),s.event.hideGracefully.call(p,r)}))}},unbind:{close:function(){(u.hideOnScroll===!0||"auto"==u.hideOnScroll&&"click"!=u.on)&&(A.off("scroll"+U,s.hide),G.off("scroll"+U,s.hide)),"hover"==u.on&&K&&(A.off("touchstart"+U),K=!1),"click"==u.on&&u.closable&&(s.verbose("Removing close event from document"),A.off("click"+U))}},has:{popup:function(){return M&&M.length>0}},is:{active:function(){return l.hasClass(v.active)},animating:function(){return M&&M.hasClass(v.animating)},visible:function(){return M&&M.hasClass(v.visible)},dropdown:function(){return l.hasClass(v.dropdown)},hidden:function(){return !s.is.visible()},rtl:function(){return"rtl"==l.css("direction")}},reset:function(){s.remove.visible(),u.preserve?c.fn.transition!==a&&M.transition("remove transition"):s.removePopup()},setting:function(r,C){if(c.isPlainObject(r)){c.extend(!0,u,r)}else{if(C===a){return u[r]}u[r]=C}},internal:function(r,C){if(c.isPlainObject(r)){c.extend(!0,s,r)}else{if(C===a){return s[r]}s[r]=C}},debug:function(){u.debug&&(u.performance?s.performance.log(arguments):(s.debug=Function.prototype.bind.call(console.info,console,u.name+":"),s.debug.apply(console,arguments)))},verbose:function(){u.verbose&&u.debug&&(u.performance?s.performance.log(arguments):(s.verbose=Function.prototype.bind.call(console.info,console,u.name+":"),s.verbose.apply(console,arguments)))},error:function(){s.error=Function.prototype.bind.call(console.error,console,u.name+":"),s.error.apply(console,arguments)},performance:{log:function(D){var C,E,r;u.performance&&(C=(new Date).getTime(),r=j||C,E=C-r,j=C,q.push({Name:D[0],Arguments:[].slice.call(D,1)||"",Element:p,"Execution Time":E})),clearTimeout(s.performance.timer),s.performance.timer=setTimeout(s.performance.display,500)},display:function(){var r=u.name+":",C=0;j=!1,clearTimeout(s.performance.timer),c.each(q,function(E,D){C+=D["Execution Time"]}),r+=" "+C+"ms",z&&(r+=" '"+z+"'"),(console.group!==a||console.table!==a)&&q.length>0&&(console.groupCollapsed(r),console.table?console.table(q):c.each(q,function(E,D){console.log(D.Name+": "+D["Execution Time"]+"ms")}),console.groupEnd()),q=[]}},invoke:function(D,R,O){var F,E,P,C=Q;return R=R||y,O=p||O,"string"==typeof D&&C!==a&&(D=D.split(/[\. ]/),F=D.length-1,c.each(D,function(T,S){var r=T!=F?S+D[T+1].charAt(0).toUpperCase()+D[T+1].slice(1):D;if(c.isPlainObject(C[r])&&T!=F){C=C[r]}else{if(C[r]!==a){return E=C[r],!1}if(!c.isPlainObject(C[S])||T==F){return C[S]!==a?(E=C[S],!1):!1}C=C[S]}})),c.isFunction(E)?P=E.apply(O,R):E!==a&&(P=E),c.isArray(x)?x.push(P):x!==a?x=[x,P]:P!==a&&(x=P),E}},h?(Q===a&&s.initialize(),s.invoke(n)):(Q!==a&&Q.invoke("destroy"),s.initialize())}),x!==a?x:this},c.fn.popup.settings={name:"Popup",debug:!1,verbose:!1,performance:!0,namespace:"popup",onCreate:function(){},onRemove:function(){},onShow:function(){},onVisible:function(){},onHide:function(){},onHidden:function(){},on:"hover",addTouchEvents:!0,position:"top left",variation:"",movePopup:!0,target:!1,popup:!1,inline:!1,preserve:!0,hoverable:!1,content:!1,html:!1,title:!1,closable:!0,hideOnScroll:"auto",exclusive:!1,context:"body",prefer:"opposite",lastResort:!1,delay:{show:50,hide:70},setFluidWidth:!0,duration:200,transition:"scale",distanceAway:0,offset:0,maxSearchDepth:20,error:{invalidPosition:"The position you specified is not a valid position",cannotPlace:"No visible position could be found for the popup",method:"The method you called is not defined.",noTransition:"This module requires ui transitions <https://github.com/Semantic-Org/UI-Transition>",notFound:"The target or popup you specified does not exist on the page"},metadata:{activator:"activator",content:"content",html:"html",offset:"offset",position:"position",title:"title",variation:"variation"},className:{active:"active",animating:"animating",dropdown:"dropdown",fluid:"fluid",loading:"loading",popup:"ui popup",position:"top left center bottom right",visible:"visible"},selector:{popup:".ui.popup"},templates:{escape:function(h){var g=/[&<>"'`]/g,k=/[&<>"'`]/,f={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},j=function(i){return f[i]};return k.test(h)?h.replace(g,j):h},popup:function(e){var g="",f=c.fn.popup.settings.templates.escape;return typeof e!==a&&(typeof e.title!==a&&e.title&&(e.title=f(e.title),g+='<div class="header">'+e.title+"</div>"),typeof e.content!==a&&e.content&&(e.content=f(e.content),g+='<div class="content">'+e.content+"</div>")),g}}}}(jQuery,window,document),function(c,b,d,a){c.fn.progress=function(m){var f,j=c(this),e=j.selector||"",n=(new Date).getTime(),i=[],g=arguments[0],k="string"==typeof g,h=[].slice.call(arguments,1);return j.each(function(){var I,r,E=c.isPlainObject(m)?c.extend(!0,{},c.fn.progress.settings,m):c.extend({},c.fn.progress.settings),D=E.className,o=E.metadata,K=E.namespace,z=E.selector,G=E.error,F="."+K,H="module-"+K,l=c(this),J=c(this).find(z.bar),t=c(this).find(z.progress),u=c(this).find(z.label),s=this,q=l.data(H),B=!1;r={initialize:function(){r.debug("Initializing progress bar",E),I=r.get.transitionEnd(),r.read.metadata(),r.set.duration(),r.set.initials(),r.instantiate()},instantiate:function(){r.verbose("Storing instance of progress",r),q=r,l.data(H,r)},destroy:function(){r.verbose("Destroying previous progress for",l),clearInterval(q.interval),r.remove.state(),l.removeData(H),q=a},reset:function(){r.set.percent(0)},complete:function(){(r.percent===a||r.percent<100)&&r.set.percent(100)},read:{metadata:function(){l.data(o.percent)&&(r.verbose("Current percent value set from metadata"),r.percent=l.data(o.percent)),l.data(o.total)&&(r.verbose("Total value set from metadata"),r.total=l.data(o.total)),l.data(o.value)&&(r.verbose("Current value set from metadata"),r.value=l.data(o.value))},currentValue:function(){return r.value!==a?r.value:!1}},increment:function(w){var v,y,p,x=r.total||!1;x?(y=r.value||0,w=w||1,p=y+w,v=r.total,r.debug("Incrementing value by",w,y,v),p>v&&(r.debug("Value cannot increment above total",v),p=v),r.set.progress(p)):(y=r.percent||0,w=w||r.get.randomValue(),p=y+w,v=100,r.debug("Incrementing percentage by",w,y),p>v&&(r.debug("Value cannot increment above 100 percent"),p=v),r.set.progress(p))},decrement:function(w){var v,y,p=r.total||!1,x=0;p?(v=r.value||0,w=w||1,y=v-w,r.debug("Decrementing value by",w,v)):(v=r.percent||0,w=w||r.get.randomValue(),y=v-w,r.debug("Decrementing percentage by",w,v)),x>y&&(r.debug("Value cannot decrement below 0"),y=0),r.set.progress(y)},get:{text:function(w){var v=r.value||0,y=r.total||0,p=B?r.get.displayPercent():r.percent||0,x=r.total>0?y-v:100-p;return w=w||"",w=w.replace("{value}",v).replace("{total}",y).replace("{left}",x).replace("{percent}",p),r.debug("Adding variables to progress bar text",w),w},randomValue:function(){return r.debug("Generating random increment percentage"),Math.floor(Math.random()*E.random.max+E.random.min)},transitionEnd:function(){var v,p=d.createElement("element"),w={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(v in w){if(p.style[v]!==a){return w[v]}}},displayPercent:function(){var w=J.width(),v=l.width(),x=parseInt(J.css("min-width"),10),p=w>x?w/v*100:r.percent;return E.precision>0?Math.round(10*p*E.precision)/(10*E.precision):Math.round(p)},percent:function(){return r.percent||0},value:function(){return r.value||!1},total:function(){return r.total||!1}},is:{success:function(){return l.hasClass(D.success)},warning:function(){return l.hasClass(D.warning)},error:function(){return l.hasClass(D.error)},active:function(){return l.hasClass(D.active)},visible:function(){return l.is(":visible")}},remove:{state:function(){r.verbose("Removing stored state"),delete r.total,delete r.percent,delete r.value},active:function(){r.verbose("Removing active state"),l.removeClass(D.active)},success:function(){r.verbose("Removing success state"),l.removeClass(D.success)},warning:function(){r.verbose("Removing warning state"),l.removeClass(D.warning)},error:function(){r.verbose("Removing error state"),l.removeClass(D.error)}},set:{barWidth:function(p){p>100?r.error(G.tooHigh,p):0>p?r.error(G.tooLow,p):(J.css("width",p+"%"),l.attr("data-percent",parseInt(p,10)))},duration:function(p){p=p||E.duration,p="number"==typeof p?p+"ms":p,r.verbose("Setting progress bar transition duration",p),J.css({"-webkit-transition-duration":p,"-moz-transition-duration":p,"-ms-transition-duration":p,"-o-transition-duration":p,"transition-duration":p})},initials:function(){E.total!==!1&&(r.verbose("Current total set in settings",E.total),r.total=E.total),E.value!==!1&&(r.verbose("Current value set in settings",E.value),r.value=E.value),E.percent!==!1&&(r.verbose("Current percent set in settings",E.percent),r.percent=E.percent),r.percent!==a?r.set.percent(r.percent):r.value!==a&&r.set.progress(r.value)},percent:function(p){p="string"==typeof p?+p.replace("%",""):p,p>0&&1>p&&(r.verbose("Module percentage passed as decimal, converting"),p=100*p),p=E.precision>0?Math.round(10*p*E.precision)/(10*E.precision):Math.round(p),r.percent=p,r.total?r.value=E.precision>0?Math.round(p/100*r.total*10*E.precision)/(10*E.precision):Math.round(p/100*r.total*10)/10:E.limitValues&&(r.value=r.value>100?100:r.value<0?0:r.value),r.set.barWidth(p),r.set.labelInterval(),r.set.labels(),E.onChange.call(s,p,r.value,r.total)},labelInterval:function(){var p=function(){r.verbose("Bar finished animating, removing continuous label updates"),clearInterval(r.interval),B=!1,r.set.labels()};clearInterval(r.interval),J.one(I+F,p),r.timer=setTimeout(p,E.duration+100),B=!0,r.interval=setInterval(r.set.labels,E.framerate)},labels:function(){r.verbose("Setting both bar progress and outer label text"),r.set.barLabel(),r.set.state()},label:function(p){p=p||"",p&&(p=r.get.text(p),r.debug("Setting label to text",p),u.text(p))},state:function(p){p=p!==a?p:r.percent,100===p?!E.autoSuccess||r.is.warning()||r.is.error()?(r.verbose("Reached 100% removing active state"),r.remove.active()):(r.set.success(),r.debug("Automatically triggering success at 100%")):p>0?(r.verbose("Adjusting active progress bar label",p),r.set.active()):(r.remove.active(),r.set.label(E.text.active))},barLabel:function(p){p!==a?t.text(r.get.text(p)):"ratio"==E.label&&r.total?(r.debug("Adding ratio to bar label"),t.text(r.get.text(E.text.ratio))):"percent"==E.label&&(r.debug("Adding percentage to bar label"),t.text(r.get.text(E.text.percent)))},active:function(p){p=p||E.text.active,r.debug("Setting active state"),E.showActivity&&!r.is.active()&&l.addClass(D.active),r.remove.warning(),r.remove.error(),r.remove.success(),p&&r.set.label(p),E.onActive.call(s,r.value,r.total)},success:function(p){p=p||E.text.success,r.debug("Setting success state"),l.addClass(D.success),r.remove.active(),r.remove.warning(),r.remove.error(),r.complete(),p&&r.set.label(p),E.onSuccess.call(s,r.total)},warning:function(p){p=p||E.text.warning,r.debug("Setting warning state"),l.addClass(D.warning),r.remove.active(),r.remove.success(),r.remove.error(),r.complete(),p&&r.set.label(p),E.onWarning.call(s,r.value,r.total)},error:function(p){p=p||E.text.error,r.debug("Setting error state"),l.addClass(D.error),r.remove.active(),r.remove.success(),r.remove.warning(),r.complete(),p&&r.set.label(p),E.onError.call(s,r.value,r.total)},total:function(p){r.total=p},progress:function(v){var p,w="string"==typeof v?""!==v.replace(/[^\d.]/g,"")?+v.replace(/[^\d.]/g,""):!1:v;w===!1&&r.error(G.nonNumeric,v),r.total?(r.value=w,p=w/r.total*100,r.debug("Calculating percent complete from total",p),r.set.percent(p)):(p=w,r.debug("Setting value to exact percentage value",p),r.set.percent(p))}},setting:function(p,v){if(r.debug("Changing setting",p,v),c.isPlainObject(p)){c.extend(!0,E,p)}else{if(v===a){return E[p]}E[p]=v}},internal:function(p,v){if(c.isPlainObject(p)){c.extend(!0,r,p)}else{if(v===a){return r[p]}r[p]=v}},debug:function(){E.debug&&(E.performance?r.performance.log(arguments):(r.debug=Function.prototype.bind.call(console.info,console,E.name+":"),r.debug.apply(console,arguments)))},verbose:function(){E.verbose&&E.debug&&(E.performance?r.performance.log(arguments):(r.verbose=Function.prototype.bind.call(console.info,console,E.name+":"),r.verbose.apply(console,arguments)))},error:function(){r.error=Function.prototype.bind.call(console.error,console,E.name+":"),r.error.apply(console,arguments)},performance:{log:function(w){var v,x,p;E.performance&&(v=(new Date).getTime(),p=n||v,x=v-p,n=v,i.push({Name:w[0],Arguments:[].slice.call(w,1)||"",Element:s,"Execution Time":x})),clearTimeout(r.performance.timer),r.performance.timer=setTimeout(r.performance.display,500)},display:function(){var p=E.name+":",v=0;n=!1,clearTimeout(r.performance.timer),c.each(i,function(x,w){v+=w["Execution Time"]}),p+=" "+v+"ms",e&&(p+=" '"+e+"'"),(console.group!==a||console.table!==a)&&i.length>0&&(console.groupCollapsed(p),console.table?console.table(i):c.each(i,function(x,w){console.log(w.Name+": "+w["Execution Time"]+"ms")}),console.groupEnd()),i=[]}},invoke:function(w,C,v){var y,x,A,p=q;return C=C||h,v=s||v,"string"==typeof w&&p!==a&&(w=w.split(/[\. ]/),y=w.length-1,c.each(w,function(N,M){var L=N!=y?M+w[N+1].charAt(0).toUpperCase()+w[N+1].slice(1):w;if(c.isPlainObject(p[L])&&N!=y){p=p[L]}else{if(p[L]!==a){return x=p[L],!1}if(!c.isPlainObject(p[M])||N==y){return p[M]!==a?(x=p[M],!1):(r.error(G.method,w),!1)}p=p[M]}})),c.isFunction(x)?A=x.apply(v,C):x!==a&&(A=x),c.isArray(f)?f.push(A):f!==a?f=[f,A]:A!==a&&(f=A),x}},k?(q===a&&r.initialize(),r.invoke(g)):(q!==a&&q.invoke("destroy"),r.initialize())}),f!==a?f:this},c.fn.progress.settings={name:"Progress",namespace:"progress",debug:!1,verbose:!1,performance:!0,random:{min:2,max:5},duration:300,autoSuccess:!0,showActivity:!0,limitValues:!0,label:"percent",precision:0,framerate:1000/30,percent:!1,total:!1,value:!1,onChange:function(g,f,h){},onSuccess:function(f){},onActive:function(g,f){},onError:function(g,f){},onWarning:function(g,f){},error:{method:"The method you called is not defined.",nonNumeric:"Progress value is non numeric",tooHigh:"Value specified is above 100%",tooLow:"Value specified is below 0%"},regExp:{variable:/\{\$*[A-z0-9]+\}/g},metadata:{percent:"percent",total:"total",value:"value"},selector:{bar:"> .bar",label:"> .label",progress:".bar > .progress"},text:{active:!1,error:!1,success:!1,warning:!1,percent:"{percent}%",ratio:"{value} of {total}"},className:{active:"active",error:"error",success:"success",warning:"warning"}}}(jQuery,window,document),function(c,b,d,a){c.fn.rating=function(m){var g,f=c(this),j=f.selector||"",e=(new Date).getTime(),p=[],i=arguments[0],h="string"==typeof i,k=[].slice.call(arguments,1);return f.each(function(){var t,o=c.isPlainObject(m)?c.extend(!0,{},c.fn.rating.settings,m):c.extend({},c.fn.rating.settings),s=o.namespace,r=o.className,n=o.metadata,D=o.selector,q=(o.error,"."+s),z="module-"+s,u=this,A=c(this).data(z),l=c(this),B=l.find(D.icon);t={initialize:function(){t.verbose("Initializing rating module",o),0===B.length&&t.setup.layout(),o.interactive?t.enable():t.disable(),t.set.rating(t.get.initialRating()),t.instantiate()},instantiate:function(){t.verbose("Instantiating module",o),A=t,l.data(z,t)},destroy:function(){t.verbose("Destroying previous instance",A),t.remove.events(),l.removeData(z)},refresh:function(){B=l.find(D.icon)},setup:{layout:function(){var v=t.get.maxRating(),w=c.fn.rating.settings.templates.icon(v);t.debug("Generating icon html dynamically"),l.html(w),t.refresh()}},event:{mouseenter:function(){var v=c(this);v.nextAll().removeClass(r.selected),l.addClass(r.selected),v.addClass(r.selected).prevAll().addClass(r.selected)},mouseleave:function(){l.removeClass(r.selected),B.removeClass(r.selected)},click:function(){var w=c(this),y=t.get.rating(),v=B.index(w)+1,x="auto"==o.clearable?1===B.length:o.clearable;x&&y==v?t.clearRating():t.set.rating(v)}},clearRating:function(){t.debug("Clearing current rating"),t.set.rating(0)},bind:{events:function(){t.verbose("Binding events"),l.on("mouseenter"+q,D.icon,t.event.mouseenter).on("mouseleave"+q,D.icon,t.event.mouseleave).on("click"+q,D.icon,t.event.click)}},remove:{events:function(){t.verbose("Removing events"),l.off(q)}},enable:function(){t.debug("Setting rating to interactive mode"),t.bind.events(),l.removeClass(r.disabled)},disable:function(){t.debug("Setting rating to read-only mode"),t.remove.events(),l.addClass(r.disabled)},get:{initialRating:function(){return l.data(n.rating)!==a?(l.removeData(n.rating),l.data(n.rating)):o.initialRating},maxRating:function(){return l.data(n.maxRating)!==a?(l.removeData(n.maxRating),l.data(n.maxRating)):o.maxRating},rating:function(){var v=B.filter("."+r.active).length;return t.verbose("Current rating retrieved",v),v}},set:{rating:function(w){var v=w-1>=0?w-1:0,x=B.eq(v);l.removeClass(r.selected),B.removeClass(r.selected).removeClass(r.active),w>0&&(t.verbose("Setting current rating to",w),x.prevAll().andSelf().addClass(r.active)),o.onRate.call(u,w)}},setting:function(v,w){if(t.debug("Changing setting",v,w),c.isPlainObject(v)){c.extend(!0,o,v)}else{if(w===a){return o[v]}o[v]=w}},internal:function(v,w){if(c.isPlainObject(v)){c.extend(!0,t,v)}else{if(w===a){return t[v]}t[v]=w}},debug:function(){o.debug&&(o.performance?t.performance.log(arguments):(t.debug=Function.prototype.bind.call(console.info,console,o.name+":"),t.debug.apply(console,arguments)))},verbose:function(){o.verbose&&o.debug&&(o.performance?t.performance.log(arguments):(t.verbose=Function.prototype.bind.call(console.info,console,o.name+":"),t.verbose.apply(console,arguments)))},error:function(){t.error=Function.prototype.bind.call(console.error,console,o.name+":"),t.error.apply(console,arguments)},performance:{log:function(x){var w,y,v;o.performance&&(w=(new Date).getTime(),v=e||w,y=w-v,e=w,p.push({Name:x[0],Arguments:[].slice.call(x,1)||"",Element:u,"Execution Time":y})),clearTimeout(t.performance.timer),t.performance.timer=setTimeout(t.performance.display,500)},display:function(){var v=o.name+":",w=0;e=!1,clearTimeout(t.performance.timer),c.each(p,function(y,x){w+=x["Execution Time"]}),v+=" "+w+"ms",j&&(v+=" '"+j+"'"),f.length>1&&(v+=" ("+f.length+")"),(console.group!==a||console.table!==a)&&p.length>0&&(console.groupCollapsed(v),console.table?console.table(p):c.each(p,function(y,x){console.log(x.Name+": "+x["Execution Time"]+"ms")}),console.groupEnd()),p=[]}},invoke:function(x,E,w){var C,y,F,v=A;return E=E||k,w=u||w,"string"==typeof x&&v!==a&&(x=x.split(/[\. ]/),C=x.length-1,c.each(x,function(I,H){var G=I!=C?H+x[I+1].charAt(0).toUpperCase()+x[I+1].slice(1):x;if(c.isPlainObject(v[G])&&I!=C){v=v[G]}else{if(v[G]!==a){return y=v[G],!1}if(!c.isPlainObject(v[H])||I==C){return v[H]!==a?(y=v[H],!1):!1}v=v[H]}})),c.isFunction(y)?F=y.apply(w,E):y!==a&&(F=y),c.isArray(g)?g.push(F):g!==a?g=[g,F]:F!==a&&(g=F),y}},h?(A===a&&t.initialize(),t.invoke(i)):(A!==a&&A.invoke("destroy"),t.initialize())}),g!==a?g:this},c.fn.rating.settings={name:"Rating",namespace:"rating",debug:!1,verbose:!1,performance:!0,initialRating:0,interactive:!0,maxRating:4,clearable:"auto",onRate:function(f){},error:{method:"The method you called is not defined",noMaximum:"No maximum rating specified. Cannot generate HTML automatically"},metadata:{rating:"rating",maxRating:"maxRating"},className:{active:"active",disabled:"disabled",selected:"selected",loading:"loading"},selector:{icon:".icon"},templates:{icon:function(g){for(var f=1,h="";g>=f;){h+='<i class="icon"></i>',f++}return h}}}}(jQuery,window,document),function(c,b,d,a){c.fn.search=function(f){var k,e=c(this),p=e.selector||"",j=(new Date).getTime(),h=[],n=arguments[0],i="string"==typeof n,g=[].slice.call(arguments,1);return c(this).each(function(){var D,B=c.isPlainObject(f)?c.extend(!0,{},c.fn.search.settings,f):c.extend({},c.fn.search.settings),m=B.className,I=B.metadata,u=B.regExp,F=B.selector,E=B.error,G=B.namespace,l="."+G,H=G+"-module",r=c(this),s=r.find(F.prompt),q=r.find(F.searchButton),o=r.find(F.results),z=(r.find(F.result),r.find(F.category),this),t=r.data(H);D={initialize:function(){D.verbose("Initializing module"),D.determine.searchFields(),D.bind.events(),D.set.type(),D.create.results(),D.instantiate()},instantiate:function(){D.verbose("Storing instance of module",D),t=D,r.data(H,D)},destroy:function(){D.verbose("Destroying instance"),r.off(l).removeData(H)},bind:{events:function(){D.verbose("Binding events to search"),B.automatic&&(r.on(D.get.inputEvent()+l,F.prompt,D.event.input),s.attr("autocomplete","off")),r.on("focus"+l,F.prompt,D.event.focus).on("blur"+l,F.prompt,D.event.blur).on("keydown"+l,F.prompt,D.handleKeyboard).on("click"+l,F.searchButton,D.query).on("mousedown"+l,F.results,D.event.result.mousedown).on("mouseup"+l,F.results,D.event.result.mouseup).on("click"+l,F.result,D.event.result.click)}},determine:{searchFields:function(){f&&f.searchFields!==a&&(B.searchFields=f.searchFields)}},event:{input:function(){clearTimeout(D.timer),D.timer=setTimeout(D.query,B.searchDelay)},focus:function(){D.set.focus(),D.has.minimumCharacters()&&(D.query(),D.showResults())},blur:function(w){var v=d.activeElement===this;v||D.resultsClicked||(D.cancel.query(),D.remove.focus(),D.timer=setTimeout(D.hideResults,B.hideDelay))},result:{mousedown:function(){D.resultsClicked=!0},mouseup:function(){D.resultsClicked=!1},click:function(x){D.debug("Search result selected");var A=c(this),w=A.find(F.title).eq(0),J=A.find("a[href]").eq(0),v=J.attr("href")||!1,L=J.attr("target")||!1,C=(w.html(),w.length>0?w.text():!1),y=D.get.results(),K=A.data(I.result)||D.get.result(C,y);return c.isFunction(B.onSelect)&&B.onSelect.call(z,K,y)===!1?void D.debug("Custom onSelect callback cancelled default select action"):(D.hideResults(),C&&D.set.value(C),void (v&&(D.verbose("Opening search link found in result",J),"_blank"==L||x.ctrlKey?b.open(v):b.location.href=v)))}}},handleKeyboard:function(C){var x,K=r.find(F.result),w=r.find(F.category),J=K.index(K.filter("."+m.active)),v=K.length,A=C.which,y={backspace:8,enter:13,escape:27,upArrow:38,downArrow:40};if(A==y.escape&&(D.verbose("Escape key pressed, blurring search field"),s.trigger("blur")),D.is.visible()){if(A==y.enter){if(D.verbose("Enter key pressed, selecting active result"),K.filter("."+m.active).length>0){return D.event.result.click.call(K.filter("."+m.active),C),C.preventDefault(),!1}}else{A==y.upArrow?(D.verbose("Up key pressed, changing active result"),x=0>J-1?J:J-1,w.removeClass(m.active),K.removeClass(m.active).eq(x).addClass(m.active).closest(w).addClass(m.active),C.preventDefault()):A==y.downArrow&&(D.verbose("Down key pressed, changing active result"),x=J+1>=v?J:J+1,w.removeClass(m.active),K.removeClass(m.active).eq(x).addClass(m.active).closest(w).addClass(m.active),C.preventDefault())}}else{A==y.enter&&(D.verbose("Enter key pressed, executing query"),D.query(),D.set.buttonPressed(),s.one("keyup",D.remove.buttonFocus))}},setup:{api:function(){var v={debug:B.debug,on:!1,cache:"local",action:"search",onError:D.error};D.verbose("First request, initializing API"),r.api(v)}},can:{useAPI:function(){return c.fn.api!==a},transition:function(){return B.transition&&c.fn.transition!==a&&r.transition("is supported")}},is:{empty:function(){return""===o.html()},visible:function(){return o.filter(":visible").length>0},focused:function(){return s.filter(":focus").length>0}},get:{inputEvent:function(){var w=s[0],v=w!==a&&w.oninput!==a?"input":w!==a&&w.onpropertychange!==a?"propertychange":"keyup";return v},value:function(){return s.val()},results:function(){var v=r.data(I.results);return v},result:function(w,y){var x=["title","id"],v=!1;return w=w!==a?w:D.get.value(),y=y!==a?y:D.get.results(),"category"===B.type?(D.debug("Finding result that matches",w),c.each(y,function(C,A){return c.isArray(A.results)&&(v=D.search.object(w,A.results,x)[0])?!1:void 0})):(D.debug("Finding result in results object",w),v=D.search.object(w,y,x)[0]),v||!1}},set:{focus:function(){r.addClass(m.focus)},loading:function(){r.addClass(m.loading)},value:function(v){D.verbose("Setting search input value",v),s.val(v)},type:function(v){v||B.type,"category"==B.type&&r.addClass(B.type)},buttonPressed:function(){q.addClass(m.pressed)}},remove:{loading:function(){r.removeClass(m.loading)},focus:function(){r.removeClass(m.focus)},buttonPressed:function(){q.removeClass(m.pressed)}},query:function(){var v=D.get.value(),w=D.read.cache(v);D.has.minimumCharacters()?w?(D.debug("Reading result from cache",v),D.save.results(w.results),D.addResults(w.html),D.inject.id(w.results)):(D.debug("Querying for",v),c.isPlainObject(B.source)||c.isArray(B.source)?D.search.local(v):D.can.useAPI()?D.search.remote(v):D.error(E.source),B.onSearchQuery.call(z,v)):D.hideResults()},search:{local:function(w){var v,x=D.search.object(w,B.content);D.set.loading(),D.save.results(x),D.debug("Returned local search results",x),v=D.generateResults({results:x}),D.remove.loading(),D.addResults(v),D.inject.id(x),D.write.cache(w,{html:v,results:x})},remote:function(v){var w={onSuccess:function(x){D.parse.response.call(z,x,v)},onFailure:function(){D.displayMessage(E.serverError)},urlData:{query:v}};r.api("get request")||D.setup.api(),c.extend(!0,w,B.apiSettings),D.debug("Executing search",w),D.cancel.query(),r.api("setting",w).api("query")},object:function(x,K,C){var w=[],A=[],y=x.toString().replace(u.escape,"\\$&"),J=new RegExp(u.beginsWith+y,"i"),v=function(M,O){var L=-1==c.inArray(O,w),N=-1==c.inArray(O,A);L&&N&&M.push(O)};return K=K||B.source,C=C!==a?C:B.searchFields,c.isArray(C)||(C=[C]),K===a?(D.error(E.source),[]):(c.each(C,function(L,M){c.each(K,function(O,P){var N="string"==typeof P[M];N&&(-1!==P[M].search(J)?v(w,P):B.searchFullText&&D.fuzzySearch(x,P[M])&&v(A,P))})}),c.merge(w,A))}},fuzzySearch:function(A,x){var J=x.length,w=A.length;if("string"!=typeof A){return !1}if(A=A.toLowerCase(),x=x.toLowerCase(),w>J){return !1}if(w===J){return A===x}A:for(var C=0,v=0;w>C;C++){for(var y=A.charCodeAt(C);J>v;){if(x.charCodeAt(v++)===y){continue A}}return !1}return !0},parse:{response:function(w,v){var x=D.generateResults(w);D.verbose("Parsing server response",w),w!==a&&v!==a&&w.results!==a&&(D.addResults(x),D.inject.id(w.results),D.write.cache(v,{html:x,results:w.results}),D.save.results(w.results))}},cancel:{query:function(){D.can.useAPI()&&r.api("abort")}},has:{minimumCharacters:function(){var w=D.get.value(),v=w.length;return v>=B.minCharacters}},clear:{cache:function(w){var v=r.data(I.cache);w?w&&v&&v[w]&&(D.debug("Removing value from cache",w),delete v[w],r.data(I.cache,v)):(D.debug("Clearing cache",w),r.removeData(I.cache))}},read:{cache:function(w){var v=r.data(I.cache);return B.cache?(D.verbose("Checking cache for generated html for query",w),"object"==typeof v&&v[w]!==a?v[w]:!1):!1}},create:{id:function(y,w){var C=97,A=w!==a?String.fromCharCode(C+w):"",v=y,x=A+v;return D.verbose("Creating unique id",x),x},results:function(){0===o.length&&(o=c("<div />").addClass(m.results).appendTo(r))}},inject:{result:function(y,w,C){D.verbose("Injecting result into results");var A=w-1,v=C-1,x=C!==a?o.children().eq(v).children().eq(A):o.children().eq(A);D.verbose("Injecting results metadata",x),x.data(I.result,y)},id:function(v){D.debug("Injecting unique ids into results");var x=1,w=1;return"category"===B.type?(w=1,c.each(v,function(A,y){c.each(y.results,function(K,C){var J=y.results[K];J.id===a&&(J.id=D.create.id(w,x)),D.inject.result(J,w,x),w++}),x++})):c.each(v,function(A,C){var y=v[A];y.id===a&&(y.id=D.create.id(w)),D.inject.result(y,w),w++}),v}},save:{results:function(v){D.verbose("Saving current search results to metadata",v),r.data(I.results,v)}},write:{cache:function(w,v){var x=r.data(I.cache)!==a?r.data(I.cache):{};B.cache&&(D.verbose("Writing generated html to cache",w,v),x[w]=v,r.data(I.cache,x))}},addResults:function(v){return c.isFunction(B.onResultsAdd)&&B.onResultsAdd.call(o,v)===!1?(D.debug("onResultsAdd callback cancelled default action"),!1):(o.html(v),void D.showResults())},showResults:function(){D.is.visible()||!D.is.focused()||D.is.empty()||(D.can.transition()?(D.debug("Showing results with css animations"),o.transition({animation:B.transition+" in",debug:B.debug,verbose:B.verbose,duration:B.duration,queue:!0})):(D.debug("Showing results with javascript"),o.stop().fadeIn(B.duration,B.easing)),B.onResultsOpen.call(o))},hideResults:function(){D.is.visible()&&(D.can.transition()?(D.debug("Hiding results with css animations"),o.transition({animation:B.transition+" out",debug:B.debug,verbose:B.verbose,duration:B.duration,queue:!0})):(D.debug("Hiding results with javascript"),o.stop().fadeOut(B.duration,B.easing)),B.onResultsClose.call(o))},generateResults:function(x){D.debug("Generating html from response",x);var A=B.templates[B.type],w=c.isPlainObject(x.results)&&!c.isEmptyObject(x.results),y=c.isArray(x.results)&&x.results.length>0,v="";return w||y?(B.maxResults>0&&(w?"standard"==B.type&&D.error(E.maxResults):x.results=x.results.slice(0,B.maxResults)),c.isFunction(A)?v=A(x):D.error(E.noTemplate,!1)):v=D.displayMessage(E.noResults,"empty"),B.onResults.call(z,x),v},displayMessage:function(w,v){return v=v||"standard",D.debug("Displaying message",w,v),D.addResults(B.templates.message(w,v)),B.templates.message(w,v)},setting:function(v,w){if(c.isPlainObject(v)){c.extend(!0,B,v)}else{if(w===a){return B[v]}B[v]=w}},internal:function(v,w){if(c.isPlainObject(v)){c.extend(!0,D,v)}else{if(w===a){return D[v]}D[v]=w}},debug:function(){B.debug&&(B.performance?D.performance.log(arguments):(D.debug=Function.prototype.bind.call(console.info,console,B.name+":"),D.debug.apply(console,arguments)))},verbose:function(){B.verbose&&B.debug&&(B.performance?D.performance.log(arguments):(D.verbose=Function.prototype.bind.call(console.info,console,B.name+":"),D.verbose.apply(console,arguments)))},error:function(){D.error=Function.prototype.bind.call(console.error,console,B.name+":"),D.error.apply(console,arguments)},performance:{log:function(x){var w,y,v;B.performance&&(w=(new Date).getTime(),v=j||w,y=w-v,j=w,h.push({Name:x[0],Arguments:[].slice.call(x,1)||"",Element:z,"Execution Time":y})),clearTimeout(D.performance.timer),D.performance.timer=setTimeout(D.performance.display,500)},display:function(){var v=B.name+":",w=0;j=!1,clearTimeout(D.performance.timer),c.each(h,function(y,x){w+=x["Execution Time"]}),v+=" "+w+"ms",p&&(v+=" '"+p+"'"),e.length>1&&(v+=" ("+e.length+")"),(console.group!==a||console.table!==a)&&h.length>0&&(console.groupCollapsed(v),console.table?console.table(h):c.each(h,function(y,x){console.log(x.Name+": "+x["Execution Time"]+"ms")}),console.groupEnd()),h=[]}},invoke:function(w,J,A){var y,x,C,v=t;return J=J||g,A=z||A,"string"==typeof w&&v!==a&&(w=w.split(/[\. ]/),y=w.length-1,c.each(w,function(M,L){var K=M!=y?L+w[M+1].charAt(0).toUpperCase()+w[M+1].slice(1):w;if(c.isPlainObject(v[K])&&M!=y){v=v[K]}else{if(v[K]!==a){return x=v[K],!1}if(!c.isPlainObject(v[L])||M==y){return v[L]!==a?(x=v[L],!1):!1}v=v[L]}})),c.isFunction(x)?C=x.apply(A,J):x!==a&&(C=x),c.isArray(k)?k.push(C):k!==a?k=[k,C]:C!==a&&(k=C),x}},i?(t===a&&D.initialize(),D.invoke(n)):(t!==a&&t.invoke("destroy"),D.initialize())}),k!==a?k:this},c.fn.search.settings={name:"Search",namespace:"search",debug:!1,verbose:!1,performance:!0,type:"standard",minCharacters:1,apiSettings:!1,source:!1,searchFields:["title","description"],searchFullText:!0,automatic:!0,hideDelay:0,searchDelay:200,maxResults:7,cache:!0,transition:"scale",duration:200,easing:"easeOutExpo",onSelect:!1,onResultsAdd:!1,onSearchQuery:function(){},onResults:function(f){},onResultsOpen:function(){},onResultsClose:function(){},className:{active:"active",empty:"empty",focus:"focus",loading:"loading",results:"results",pressed:"down"},error:{source:"Cannot search. No source used, and Semantic API module was not included",noResults:"Your search returned no results",logging:"Error in debug logging, exiting.",noEndpoint:"No search endpoint was specified",noTemplate:"A valid template name was not specified.",serverError:"There was an issue querying the server.",maxResults:"Results must be an array to use maxResults setting",method:"The method you called is not defined."},metadata:{cache:"cache",results:"results",result:"result"},regExp:{escape:/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,beginsWith:"(?:s|^)"},selector:{prompt:".prompt",searchButton:".search.button",results:".results",category:".category",result:".result",title:".title, .name"},templates:{escape:function(h){var g=/[&<>"'`]/g,k=/[&<>"'`]/,f={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},j=function(i){return f[i]};return k.test(h)?h.replace(g,j):h},message:function(g,f){var h="";return g!==a&&f!==a&&(h+='<div class="message '+f+'">',h+="empty"==f?'<div class="header">No Results</div class="header"><div class="description">'+g+'</div class="description">':' <div class="description">'+g+"</div>",h+="</div>"),h},category:function(e){var g="",f=c.fn.search.settings.templates.escape;return e.results!==a?(c.each(e.results,function(i,h){h.results!==a&&h.results.length>0&&(g+='<div class="category"><div class="name">'+h.name+"</div>",c.each(h.results,function(k,j){g+='<div class="result">',j.url&&(g+='<a href="'+j.url+'"></a>'),j.image!==a&&(j.image=f(j.image),g+='<div class="image"> <img src="'+j.image+'" alt=""></div>'),g+='<div class="content">',j.price!==a&&(j.price=f(j.price),g+='<div class="price">'+j.price+"</div>"),j.title!==a&&(j.title=f(j.title),g+='<div class="title">'+j.title+"</div>"),j.description!==a&&(g+='<div class="description">'+j.description+"</div>"),g+="</div></div>"}),g+="</div>")}),e.action&&(g+='<a href="'+e.action.url+'" class="action">'+e.action.text+"</a>"),g):!1},standard:function(e){var f="";return e.results!==a?(c.each(e.results,function(h,g){f+=g.url?'<a class="result" href="'+g.url+'">':'<a class="result">',g.image!==a&&(f+='<div class="image"> <img src="'+g.image+'"></div>'),f+='<div class="content">',g.price!==a&&(f+='<div class="price">'+g.price+"</div>"),g.title!==a&&(f+='<div class="title">'+g.title+"</div>"),g.description!==a&&(f+='<div class="description">'+g.description+"</div>"),f+="</div>",f+="</a>"}),e.action&&(f+='<a href="'+e.action.url+'" class="action">'+e.action.text+"</a>"),f):!1}}}}(jQuery,window,document),function(c,b,d,a){c.fn.shape=function(f){var k,e=c(this),p=(c("body"),(new Date).getTime()),j=[],h=arguments[0],n="string"==typeof h,i=[].slice.call(arguments,1),g=b.requestAnimationFrame||b.mozRequestAnimationFrame||b.webkitRequestAnimationFrame||b.msRequestAnimationFrame||function(l){setTimeout(l,0)};return e.each(function(){var K,E,D,m=e.selector||"",J=c.isPlainObject(f)?c.extend(!0,{},c.fn.shape.settings,f):c.extend({},c.fn.shape.settings),z=J.namespace,G=J.selector,F=J.error,H=J.className,l="."+z,I="module-"+z,r=c(this),s=r.find(G.sides),q=r.find(G.side),o=!1,B=this,u=r.data(I);D={initialize:function(){D.verbose("Initializing module for",B),D.set.defaultSide(),D.instantiate()},instantiate:function(){D.verbose("Storing instance of module",D),u=D,r.data(I,u)},destroy:function(){D.verbose("Destroying previous module for",B),r.removeData(I).off(l)},refresh:function(){D.verbose("Refreshing selector cache for",B),r=c(B),s=c(this).find(G.shape),q=c(this).find(G.side)},repaint:function(){D.verbose("Forcing repaint event");var t=s[0]||d.createElement("div");t.offsetWidth},animate:function(t,v){D.verbose("Animating box with properties",t),v=v||function(w){D.verbose("Executing animation callback"),w!==a&&w.stopPropagation(),D.reset(),D.set.active()},J.beforeChange.call(E[0]),D.get.transitionEvent()?(D.verbose("Starting CSS animation"),r.addClass(H.animating),s.css(t).one(D.get.transitionEvent(),v),D.set.duration(J.duration),g(function(){r.addClass(H.animating),K.addClass(H.hidden)})):v()},queue:function(t){D.debug("Queueing animation of",t),s.one(D.get.transitionEvent(),function(){D.debug("Executing queued animation"),setTimeout(function(){r.shape(t)},0)})},reset:function(){D.verbose("Animating states reset"),r.removeClass(H.animating).attr("style","").removeAttr("style"),s.attr("style","").removeAttr("style"),q.attr("style","").removeAttr("style").removeClass(H.hidden),E.removeClass(H.animating).attr("style","").removeAttr("style")},is:{complete:function(){return q.filter("."+H.active)[0]==E[0]},animating:function(){return r.hasClass(H.animating)}},set:{defaultSide:function(){K=r.find("."+J.className.active),E=K.next(G.side).length>0?K.next(G.side):r.find(G.side).first(),o=!1,D.verbose("Active side set to",K),D.verbose("Next side set to",E)},duration:function(t){t=t||J.duration,t="number"==typeof t?t+"ms":t,D.verbose("Setting animation duration",t),(J.duration||0===J.duration)&&s.add(q).css({"-webkit-transition-duration":t,"-moz-transition-duration":t,"-ms-transition-duration":t,"-o-transition-duration":t,"transition-duration":t})},currentStageSize:function(){var w=r.find("."+J.className.active),v=w.outerWidth(!0),x=w.outerHeight(!0);r.css({width:v,height:x})},stageSize:function(){var x=r.clone().addClass(H.loading),w=x.find("."+J.className.active),y=o?x.find(G.side).eq(o):w.next(G.side).length>0?w.next(G.side):x.find(G.side).first(),v={};D.set.currentStageSize(),w.removeClass(H.active),y.addClass(H.active),x.insertAfter(r),v={width:y.outerWidth(!0),height:y.outerHeight(!0)},x.remove(),r.css(v),D.verbose("Resizing stage to fit new content",v)},nextSide:function(t){o=t,E=q.filter(t),o=q.index(E),0===E.length&&(D.set.defaultSide(),D.error(F.side)),D.verbose("Next side manually set to",E)},active:function(){D.verbose("Setting new side to active",E),q.removeClass(H.active),E.addClass(H.active),J.onChange.call(E[0]),D.set.defaultSide()}},flip:{up:function(){return !D.is.complete()||D.is.animating()||J.allowRepeats?void (D.is.animating()?D.queue("flip up"):(D.debug("Flipping up",E),D.set.stageSize(),D.stage.above(),D.animate(D.get.transform.up()))):void D.debug("Side already visible",E)},down:function(){return !D.is.complete()||D.is.animating()||J.allowRepeats?void (D.is.animating()?D.queue("flip down"):(D.debug("Flipping down",E),D.set.stageSize(),D.stage.below(),D.animate(D.get.transform.down()))):void D.debug("Side already visible",E)},left:function(){return !D.is.complete()||D.is.animating()||J.allowRepeats?void (D.is.animating()?D.queue("flip left"):(D.debug("Flipping left",E),D.set.stageSize(),D.stage.left(),D.animate(D.get.transform.left()))):void D.debug("Side already visible",E)},right:function(){return !D.is.complete()||D.is.animating()||J.allowRepeats?void (D.is.animating()?D.queue("flip right"):(D.debug("Flipping right",E),D.set.stageSize(),D.stage.right(),D.animate(D.get.transform.right()))):void D.debug("Side already visible",E)},over:function(){return !D.is.complete()||D.is.animating()||J.allowRepeats?void (D.is.animating()?D.queue("flip over"):(D.debug("Flipping over",E),D.set.stageSize(),D.stage.behind(),D.animate(D.get.transform.over()))):void D.debug("Side already visible",E)},back:function(){return !D.is.complete()||D.is.animating()||J.allowRepeats?void (D.is.animating()?D.queue("flip back"):(D.debug("Flipping back",E),D.set.stageSize(),D.stage.behind(),D.animate(D.get.transform.back()))):void D.debug("Side already visible",E)}},get:{transform:{up:function(){var t={y:-((K.outerHeight(!0)-E.outerHeight(!0))/2),z:-(K.outerHeight(!0)/2)};return{transform:"translateY("+t.y+"px) translateZ("+t.z+"px) rotateX(-90deg)"}},down:function(){var t={y:-((K.outerHeight(!0)-E.outerHeight(!0))/2),z:-(K.outerHeight(!0)/2)};return{transform:"translateY("+t.y+"px) translateZ("+t.z+"px) rotateX(90deg)"}},left:function(){var t={x:-((K.outerWidth(!0)-E.outerWidth(!0))/2),z:-(K.outerWidth(!0)/2)};return{transform:"translateX("+t.x+"px) translateZ("+t.z+"px) rotateY(90deg)"}},right:function(){var t={x:-((K.outerWidth(!0)-E.outerWidth(!0))/2),z:-(K.outerWidth(!0)/2)};return{transform:"translateX("+t.x+"px) translateZ("+t.z+"px) rotateY(-90deg)"}},over:function(){var t={x:-((K.outerWidth(!0)-E.outerWidth(!0))/2)};return{transform:"translateX("+t.x+"px) rotateY(180deg)"}},back:function(){var t={x:-((K.outerWidth(!0)-E.outerWidth(!0))/2)};return{transform:"translateX("+t.x+"px) rotateY(-180deg)"}}},transitionEvent:function(){var w,v=d.createElement("element"),x={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(w in x){if(v.style[w]!==a){return x[w]}}},nextSide:function(){return K.next(G.side).length>0?K.next(G.side):r.find(G.side).first()}},stage:{above:function(){var t={origin:(K.outerHeight(!0)-E.outerHeight(!0))/2,depth:{active:E.outerHeight(!0)/2,next:K.outerHeight(!0)/2}};D.verbose("Setting the initial animation position as above",E,t),s.css({transform:"translateZ(-"+t.depth.active+"px)"}),K.css({transform:"rotateY(0deg) translateZ("+t.depth.active+"px)"}),E.addClass(H.animating).css({top:t.origin+"px",transform:"rotateX(90deg) translateZ("+t.depth.next+"px)"})},below:function(){var t={origin:(K.outerHeight(!0)-E.outerHeight(!0))/2,depth:{active:E.outerHeight(!0)/2,next:K.outerHeight(!0)/2}};D.verbose("Setting the initial animation position as below",E,t),s.css({transform:"translateZ(-"+t.depth.active+"px)"}),K.css({transform:"rotateY(0deg) translateZ("+t.depth.active+"px)"}),E.addClass(H.animating).css({top:t.origin+"px",transform:"rotateX(-90deg) translateZ("+t.depth.next+"px)"})},left:function(){var t={active:K.outerWidth(!0),next:E.outerWidth(!0)},v={origin:(t.active-t.next)/2,depth:{active:t.next/2,next:t.active/2}};D.verbose("Setting the initial animation position as left",E,v),s.css({transform:"translateZ(-"+v.depth.active+"px)"}),K.css({transform:"rotateY(0deg) translateZ("+v.depth.active+"px)"}),E.addClass(H.animating).css({left:v.origin+"px",transform:"rotateY(-90deg) translateZ("+v.depth.next+"px)"})},right:function(){var t={active:K.outerWidth(!0),next:E.outerWidth(!0)},v={origin:(t.active-t.next)/2,depth:{active:t.next/2,next:t.active/2}};D.verbose("Setting the initial animation position as left",E,v),s.css({transform:"translateZ(-"+v.depth.active+"px)"}),K.css({transform:"rotateY(0deg) translateZ("+v.depth.active+"px)"}),E.addClass(H.animating).css({left:v.origin+"px",transform:"rotateY(90deg) translateZ("+v.depth.next+"px)"})},behind:function(){var t={active:K.outerWidth(!0),next:E.outerWidth(!0)},v={origin:(t.active-t.next)/2,depth:{active:t.next/2,next:t.active/2}};D.verbose("Setting the initial animation position as behind",E,v),K.css({transform:"rotateY(0deg)"}),E.addClass(H.animating).css({left:v.origin+"px",transform:"rotateY(-180deg)"})}},setting:function(v,w){if(D.debug("Changing setting",v,w),c.isPlainObject(v)){c.extend(!0,J,v)}else{if(w===a){return J[v]}J[v]=w}},internal:function(v,w){if(c.isPlainObject(v)){c.extend(!0,D,v)}else{if(w===a){return D[v]}D[v]=w}},debug:function(){J.debug&&(J.performance?D.performance.log(arguments):(D.debug=Function.prototype.bind.call(console.info,console,J.name+":"),D.debug.apply(console,arguments)))},verbose:function(){J.verbose&&J.debug&&(J.performance?D.performance.log(arguments):(D.verbose=Function.prototype.bind.call(console.info,console,J.name+":"),D.verbose.apply(console,arguments)))},error:function(){D.error=Function.prototype.bind.call(console.error,console,J.name+":"),D.error.apply(console,arguments)},performance:{log:function(x){var w,y,v;J.performance&&(w=(new Date).getTime(),v=p||w,y=w-v,p=w,j.push({Name:x[0],Arguments:[].slice.call(x,1)||"",Element:B,"Execution Time":y})),clearTimeout(D.performance.timer),D.performance.timer=setTimeout(D.performance.display,500)},display:function(){var v=J.name+":",w=0;p=!1,clearTimeout(D.performance.timer),c.each(j,function(y,x){w+=x["Execution Time"]}),v+=" "+w+"ms",m&&(v+=" '"+m+"'"),e.length>1&&(v+=" ("+e.length+")"),(console.group!==a||console.table!==a)&&j.length>0&&(console.groupCollapsed(v),console.table?console.table(j):c.each(j,function(y,x){console.log(x.Name+": "+x["Execution Time"]+"ms")}),console.groupEnd()),j=[]}},invoke:function(w,L,A){var y,x,C,v=u;return L=L||i,A=B||A,"string"==typeof w&&v!==a&&(w=w.split(/[\. ]/),y=w.length-1,c.each(w,function(N,M){var t=N!=y?M+w[N+1].charAt(0).toUpperCase()+w[N+1].slice(1):w;if(c.isPlainObject(v[t])&&N!=y){v=v[t]}else{if(v[t]!==a){return x=v[t],!1}if(!c.isPlainObject(v[M])||N==y){return v[M]!==a?(x=v[M],!1):!1}v=v[M]}})),c.isFunction(x)?C=x.apply(A,L):x!==a&&(C=x),c.isArray(k)?k.push(C):k!==a?k=[k,C]:C!==a&&(k=C),x}},n?(u===a&&D.initialize(),D.invoke(h)):(u!==a&&u.invoke("destroy"),D.initialize())}),k!==a?k:this},c.fn.shape.settings={name:"Shape",debug:!1,verbose:!1,performance:!0,namespace:"shape",beforeChange:function(){},onChange:function(){},allowRepeats:!1,duration:!1,error:{side:"You tried to switch to a side that does not exist.",method:"The method you called is not defined"},className:{animating:"animating",hidden:"hidden",loading:"loading",active:"active"},selector:{sides:".sides",side:".side"}}}(jQuery,window,document),function(c,b,d,a){c.fn.sidebar=function(j){var z,e=c(this),C=c(b),y=c(d),n=c("html"),B=c("head"),x=e.selector||"",k=(new Date).getTime(),w=[],t=arguments[0],i="string"==typeof t,A=[].slice.call(arguments,1),q=b.requestAnimationFrame||b.mozRequestAnimationFrame||b.webkitRequestAnimationFrame||b.msRequestAnimationFrame||function(f){setTimeout(f,0)};return e.each(function(){var N,X,s,v,M,G,V=c.isPlainObject(j)?c.extend(!0,{},c.fn.sidebar.settings,j):c.extend({},c.fn.sidebar.settings),g=V.selector,f=V.className,U=V.namespace,l=V.regExp,h=V.error,J="."+U,H="module-"+U,K=c(this),m=c(V.context),Q=K.children(g.sidebar),p=m.children(g.fixed),W=m.children(g.pusher),u=this,o=K.data(H);G={initialize:function(){G.debug("Initializing sidebar",j),G.create.id(),M=G.get.transitionEvent(),("auto"==V.useLegacy&&G.is.legacy()||V.useLegacy===!0)&&(V.transition="overlay",V.useLegacy=!0),G.is.ios()&&G.set.ios(),V.delaySetup?q(G.setup.layout):G.setup.layout(),q(function(){G.setup.cache()}),G.instantiate()},instantiate:function(){G.verbose("Storing instance of module",G),o=G,K.data(H,G)},create:{id:function(){s=(Math.random().toString(16)+"000000000").substr(2,8),X="."+s,G.verbose("Creating unique id for element",s)}},destroy:function(){G.verbose("Destroying previous module for",K),G.remove.direction(),K.off(J).removeData(H),G.is.ios()&&G.remove.ios(),m.off(X),C.off(X),y.off(X)},event:{clickaway:function(D){var r=W.find(D.target).length>0||W.is(D.target),E=m.is(D.target);r&&(G.verbose("User clicked on dimmed page"),G.hide()),E&&(G.verbose("User clicked on dimmable context (scaled out page)"),G.hide())},touch:function(r){},containScroll:function(r){u.scrollTop<=0&&(u.scrollTop=1),u.scrollTop+u.offsetHeight>=u.scrollHeight&&(u.scrollTop=u.scrollHeight-u.offsetHeight-1)},scroll:function(r){0===c(r.target).closest(g.sidebar).length&&r.preventDefault()}},bind:{clickaway:function(){G.verbose("Adding clickaway events to context",m),V.closable&&m.on("click"+X,G.event.clickaway).on("touchend"+X,G.event.clickaway)},scrollLock:function(){V.scrollLock&&(G.debug("Disabling page scroll"),C.on("DOMMouseScroll"+X,G.event.scroll)),G.verbose("Adding events to contain sidebar scroll"),y.on("touchmove"+X,G.event.touch),K.on("scroll"+J,G.event.containScroll)}},unbind:{clickaway:function(){G.verbose("Removing clickaway events from context",m),m.off(X)},scrollLock:function(){G.verbose("Removing scroll lock from page"),y.off(X),C.off(X),K.off("scroll"+J)}},add:{inlineCSS:function(){var E,L=G.cache.width||K.outerWidth(),D=G.cache.height||K.outerHeight(),I=G.is.rtl(),r=G.get.direction(),F={left:L,right:-L,top:D,bottom:-D};I&&(G.verbose("RTL detected, flipping widths"),F.left=-L,F.right=L),E="<style>","left"===r||"right"===r?(G.debug("Adding CSS rules for animation distance",L),E+=" .ui.visible."+r+".sidebar ~ .fixed, .ui.visible."+r+".sidebar ~ .pusher {   -webkit-transform: translate3d("+F[r]+"px, 0, 0);           transform: translate3d("+F[r]+"px, 0, 0); }"):("top"===r||"bottom"==r)&&(E+=" .ui.visible."+r+".sidebar ~ .fixed, .ui.visible."+r+".sidebar ~ .pusher {   -webkit-transform: translate3d(0, "+F[r]+"px, 0);           transform: translate3d(0, "+F[r]+"px, 0); }"),G.is.ie()&&("left"===r||"right"===r?(G.debug("Adding CSS rules for animation distance",L),E+=" body.pushable > .ui.visible."+r+".sidebar ~ .pusher:after {   -webkit-transform: translate3d("+F[r]+"px, 0, 0);           transform: translate3d("+F[r]+"px, 0, 0); }"):("top"===r||"bottom"==r)&&(E+=" body.pushable > .ui.visible."+r+".sidebar ~ .pusher:after {   -webkit-transform: translate3d(0, "+F[r]+"px, 0);           transform: translate3d(0, "+F[r]+"px, 0); }"),E+=" body.pushable > .ui.visible.left.sidebar ~ .ui.visible.right.sidebar ~ .pusher:after, body.pushable > .ui.visible.right.sidebar ~ .ui.visible.left.sidebar ~ .pusher:after {   -webkit-transform: translate3d(0px, 0, 0);           transform: translate3d(0px, 0, 0); }"),E+="</style>",N=c(E).appendTo(B),G.debug("Adding sizing css to head",N)}},refresh:function(){G.verbose("Refreshing selector cache"),m=c(V.context),Q=m.children(g.sidebar),W=m.children(g.pusher),p=m.children(g.fixed),G.clear.cache()},refreshSidebars:function(){G.verbose("Refreshing other sidebars"),Q=m.children(g.sidebar)},repaint:function(){G.verbose("Forcing repaint event"),u.style.display="none";u.offsetHeight;u.scrollTop=u.scrollTop,u.style.display=""},setup:{cache:function(){G.cache={width:K.outerWidth(),height:K.outerHeight(),rtl:"rtl"==K.css("direction")}},layout:function(){0===m.children(g.pusher).length&&(G.debug("Adding wrapper element for sidebar"),G.error(h.pusher),W=c('<div class="pusher" />'),m.children().not(g.omitted).not(Q).wrapAll(W),G.refresh()),(0===K.nextAll(g.pusher).length||K.nextAll(g.pusher)[0]!==W[0])&&(G.debug("Moved sidebar to correct parent element"),G.error(h.movedSidebar,u),K.detach().prependTo(m),G.refresh()),G.clear.cache(),G.set.pushable(),G.set.direction()}},attachEvents:function(D,E){var r=c(D);E=c.isFunction(G[E])?G[E]:G.toggle,r.length>0?(G.debug("Attaching sidebar events to element",D,E),r.on("click"+J,E)):G.error(h.notFound,D)},show:function(r){var D=V.useLegacy===!0?G.legacyPushPage:G.pushPage;if(r=c.isFunction(r)?r:function(){},G.is.hidden()){if(G.refreshSidebars(),V.overlay&&(G.error(h.overlay),V.transition="overlay"),G.refresh(),G.othersActive()){if(G.debug("Other sidebars currently visible"),V.exclusive){if("overlay"!=V.transition){return void G.hideOthers(G.show)}G.hideOthers()}else{V.transition="overlay"}}D(function(){r.call(u),V.onShow.call(u)}),V.onChange.call(u),V.onVisible.call(u)}else{G.debug("Sidebar is already visible")}},hide:function(r){var D=V.useLegacy===!0?G.legacyPullPage:G.pullPage;r=c.isFunction(r)?r:function(){},(G.is.visible()||G.is.animating())&&(G.debug("Hiding sidebar",r),G.refreshSidebars(),D(function(){r.call(u),V.onHidden.call(u)}),V.onChange.call(u),V.onHide.call(u))},othersAnimating:function(){return Q.not(K).filter("."+f.animating).length>0},othersVisible:function(){return Q.not(K).filter("."+f.visible).length>0},othersActive:function(){return G.othersVisible()||G.othersAnimating()},hideOthers:function(E){var D=Q.not(K).filter("."+f.visible),F=D.length,r=0;E=E||function(){},D.sidebar("hide",function(){r++,r==F&&E()})},toggle:function(){G.verbose("Determining toggled direction"),G.is.hidden()?G.show():G.hide()},pushPage:function(F){var O,E,L,D=G.get.transition(),I="safe"==D?m:"overlay"===D||G.othersActive()?K:W;F=c.isFunction(F)?F:function(){},"scale down"==V.transition&&G.scrollToTop(),G.set.transition(D),G.repaint(),O=function(){G.bind.clickaway(),G.add.inlineCSS(),G.set.animating(),G.set.visible()},E=function(){G.set.dimmed()},L=function(r){r.target==I[0]&&(I.off(M+X,L),G.remove.animating(),G.bind.scrollLock(),F.call(u))},I.off(M+X),I.on(M+X,L),q(O),V.dimPage&&!G.othersVisible()&&q(E)},pullPage:function(E){var I,D,F=G.get.transition(),r="safe"==F?m:"overlay"==F||G.othersActive()?K:W;E=c.isFunction(E)?E:function(){},G.verbose("Removing context push state",G.get.direction()),G.unbind.clickaway(),G.unbind.scrollLock(),I=function(){G.set.transition(F),G.set.animating(),G.remove.visible(),V.dimPage&&!G.othersVisible()&&W.removeClass(f.dimmed)},D=function(L){L.target==r[0]&&(r.off(M+X,D),G.remove.animating(),G.remove.transition(),G.remove.inlineCSS(),("scale down"==F||V.returnScroll&&G.is.mobile())&&G.scrollBack(),E.call(u))},r.off(M+X),r.on(M+X,D),q(I)},legacyPushPage:function(D){var F=K.width(),r=G.get.direction(),E={};F=F||K.width(),D=c.isFunction(D)?D:function(){},E[r]=F,G.debug("Using javascript to push context",E),G.set.visible(),G.set.transition(),G.set.animating(),V.dimPage&&W.addClass(f.dimmed),m.css("position","relative").animate(E,V.duration,V.easing,function(){G.remove.animating(),G.bind.clickaway(),D.call(u)})},legacyPullPage:function(D){var F=0,r=G.get.direction(),E={};F=F||K.width(),D=c.isFunction(D)?D:function(){},E[r]="0px",G.debug("Using javascript to pull context",E),G.unbind.clickaway(),G.set.animating(),G.remove.visible(),V.dimPage&&!G.othersActive()&&W.removeClass(f.dimmed),m.css("position","relative").animate(E,V.duration,V.easing,function(){G.remove.animating(),D.call(u)})},scrollToTop:function(){G.verbose("Scrolling to top of page to avoid animation issues"),v=c(b).scrollTop(),K.scrollTop(0),b.scrollTo(0,0)},scrollBack:function(){G.verbose("Scrolling back to original page position"),b.scrollTo(0,v)},clear:{cache:function(){G.verbose("Clearing cached dimensions"),G.cache={}}},set:{ios:function(){n.addClass(f.ios)},pushed:function(){m.addClass(f.pushed)},pushable:function(){m.addClass(f.pushable)},dimmed:function(){W.addClass(f.dimmed)},active:function(){K.addClass(f.active)},animating:function(){K.addClass(f.animating)},transition:function(r){r=r||G.get.transition(),K.addClass(r)},direction:function(r){r=r||G.get.direction(),K.addClass(f[r])},visible:function(){K.addClass(f.visible)},overlay:function(){K.addClass(f.overlay)}},remove:{inlineCSS:function(){G.debug("Removing inline css styles",N),N&&N.length>0&&N.remove()},ios:function(){n.removeClass(f.ios)},pushed:function(){m.removeClass(f.pushed)},pushable:function(){m.removeClass(f.pushable)},active:function(){K.removeClass(f.active)},animating:function(){K.removeClass(f.animating)},transition:function(r){r=r||G.get.transition(),K.removeClass(r)},direction:function(r){r=r||G.get.direction(),K.removeClass(f[r])},visible:function(){K.removeClass(f.visible)},overlay:function(){K.removeClass(f.overlay)}},get:{direction:function(){return K.hasClass(f.top)?f.top:K.hasClass(f.right)?f.right:K.hasClass(f.bottom)?f.bottom:f.left},transition:function(){var D,r=G.get.direction();return D=G.is.mobile()?"auto"==V.mobileTransition?V.defaultTransition.mobile[r]:V.mobileTransition:"auto"==V.transition?V.defaultTransition.computer[r]:V.transition,G.verbose("Determined transition",D),D},transitionEvent:function(){var D,r=d.createElement("element"),E={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(D in E){if(r.style[D]!==a){return E[D]}}}},is:{ie:function(){var r=!b.ActiveXObject&&"ActiveXObject" in b,D="ActiveXObject" in b;return r||D},legacy:function(){var F,I=d.createElement("div"),D={webkitTransform:"-webkit-transform",OTransform:"-o-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"};d.body.insertBefore(I,null);for(var E in D){I.style[E]!==a&&(I.style[E]="translate3d(1px,1px,1px)",F=b.getComputedStyle(I).getPropertyValue(D[E]))}return d.body.removeChild(I),!(F!==a&&F.length>0&&"none"!==F)},ios:function(){var D=navigator.userAgent,r=D.match(l.ios),E=D.match(l.mobileChrome);return r&&!E?(G.verbose("Browser was found to be iOS",D),!0):!1},mobile:function(){var D=navigator.userAgent,r=D.match(l.mobile);return r?(G.verbose("Browser was found to be mobile",D),!0):(G.verbose("Browser is not mobile, using regular transition",D),!1)},hidden:function(){return !G.is.visible()},visible:function(){return K.hasClass(f.visible)},open:function(){return G.is.visible()},closed:function(){return G.is.hidden()},vertical:function(){return K.hasClass(f.top)},animating:function(){return m.hasClass(f.animating)},rtl:function(){return G.cache.rtl===a&&(G.cache.rtl="rtl"==K.css("direction")),G.cache.rtl}},setting:function(r,D){if(G.debug("Changing setting",r,D),c.isPlainObject(r)){c.extend(!0,V,r)}else{if(D===a){return V[r]}V[r]=D}},internal:function(r,D){if(c.isPlainObject(r)){c.extend(!0,G,r)}else{if(D===a){return G[r]}G[r]=D}},debug:function(){V.debug&&(V.performance?G.performance.log(arguments):(G.debug=Function.prototype.bind.call(console.info,console,V.name+":"),G.debug.apply(console,arguments)))},verbose:function(){V.verbose&&V.debug&&(V.performance?G.performance.log(arguments):(G.verbose=Function.prototype.bind.call(console.info,console,V.name+":"),G.verbose.apply(console,arguments)))},error:function(){G.error=Function.prototype.bind.call(console.error,console,V.name+":"),G.error.apply(console,arguments)},performance:{log:function(E){var D,F,r;V.performance&&(D=(new Date).getTime(),r=k||D,F=D-r,k=D,w.push({Name:E[0],Arguments:[].slice.call(E,1)||"",Element:u,"Execution Time":F})),clearTimeout(G.performance.timer),G.performance.timer=setTimeout(G.performance.display,500)},display:function(){var r=V.name+":",D=0;k=!1,clearTimeout(G.performance.timer),c.each(w,function(F,E){D+=E["Execution Time"]}),r+=" "+D+"ms",x&&(r+=" '"+x+"'"),(console.group!==a||console.table!==a)&&w.length>0&&(console.groupCollapsed(r),console.table?console.table(w):c.each(w,function(F,E){console.log(E.Name+": "+E["Execution Time"]+"ms")}),console.groupEnd()),w=[]}},invoke:function(E,P,L){var I,F,O,D=o;return P=P||A,L=u||L,"string"==typeof E&&D!==a&&(E=E.split(/[\. ]/),I=E.length-1,c.each(E,function(S,R){var r=S!=I?R+E[S+1].charAt(0).toUpperCase()+E[S+1].slice(1):E;if(c.isPlainObject(D[r])&&S!=I){D=D[r]}else{if(D[r]!==a){return F=D[r],!1}if(!c.isPlainObject(D[R])||S==I){return D[R]!==a?(F=D[R],!1):(G.error(h.method,E),!1)}D=D[R]}})),c.isFunction(F)?O=F.apply(L,P):F!==a&&(O=F),c.isArray(z)?z.push(O):z!==a?z=[z,O]:O!==a&&(z=O),F}},i?(o===a&&G.initialize(),G.invoke(t)):(o!==a&&G.invoke("destroy"),G.initialize())}),z!==a?z:this},c.fn.sidebar.settings={name:"Sidebar",namespace:"sidebar",debug:!1,verbose:!1,performance:!0,transition:"auto",mobileTransition:"auto",defaultTransition:{computer:{left:"uncover",right:"uncover",top:"overlay",bottom:"overlay"},mobile:{left:"uncover",right:"uncover",top:"overlay",bottom:"overlay"}},context:"body",exclusive:!1,closable:!0,dimPage:!0,scrollLock:!1,returnScroll:!1,delaySetup:!1,useLegacy:!1,duration:500,easing:"easeInOutQuint",onChange:function(){},onShow:function(){},onHide:function(){},onHidden:function(){},onVisible:function(){},className:{active:"active",animating:"animating",dimmed:"dimmed",ios:"ios",pushable:"pushable",pushed:"pushed",right:"right",top:"top",left:"left",bottom:"bottom",visible:"visible"},selector:{fixed:".fixed",omitted:"script, link, style, .ui.modal, .ui.dimmer, .ui.nag, .ui.fixed",pusher:".pusher",sidebar:".ui.sidebar"},regExp:{ios:/(iPad|iPhone|iPod)/g,mobileChrome:/(CriOS)/g,mobile:/Mobile|iP(hone|od|ad)|Android|BlackBerry|IEMobile|Kindle|NetFront|Silk-Accelerated|(hpw|web)OS|Fennec|Minimo|Opera M(obi|ini)|Blazer|Dolfin|Dolphin|Skyfire|Zune/g},error:{method:"The method you called is not defined.",pusher:"Had to add pusher element. For optimal performance make sure body content is inside a pusher element",movedSidebar:"Had to move sidebar. For optimal performance make sure sidebar and pusher are direct children of your body tag",overlay:"The overlay setting is no longer supported, use animation: overlay",notFound:"There were no elements that matched the specified selector"}},c.extend(c.easing,{easeInOutQuint:function(h,g,k,f,j){return(g/=j/2)<1?f/2*g*g*g*g*g+k:f/2*((g-=2)*g*g*g*g+2)+k}})}(jQuery,window,document),function(c,b,d,a){c.fn.sticky=function(g){var f,k=c(this),e=k.selector||"",p=(new Date).getTime(),j=[],h=arguments[0],m="string"==typeof h,i=[].slice.call(arguments,1);return k.each(function(){var G,q,B,z,n=c.isPlainObject(g)?c.extend(!0,{},c.fn.sticky.settings,g):c.extend({},c.fn.sticky.settings),I=n.className,u=n.namespace,E=n.error,D="."+u,F="module-"+u,l=c(this),H=c(b),s=c(n.scrollContext),t=(l.selector||"",l.data(F)),r=b.requestAnimationFrame||b.mozRequestAnimationFrame||b.webkitRequestAnimationFrame||b.msRequestAnimationFrame||function(v){setTimeout(v,0)},o=this;z={initialize:function(){z.determineContainer(),z.determineContext(),z.verbose("Initializing sticky",n,G),z.save.positions(),z.checkErrors(),z.bind.events(),n.observeChanges&&z.observeChanges(),z.instantiate()},instantiate:function(){z.verbose("Storing instance of module",z),t=z,l.data(F,z)},destroy:function(){z.verbose("Destroying previous instance"),z.reset(),B&&B.disconnect(),H.off("load"+D,z.event.load).off("resize"+D,z.event.resize),s.off("scrollchange"+D,z.event.scrollchange),l.removeData(F)},observeChanges:function(){var v=q[0];"MutationObserver" in b&&(B=new MutationObserver(function(w){clearTimeout(z.timer),z.timer=setTimeout(function(){z.verbose("DOM tree modified, updating sticky menu",w),z.refresh()},100)}),B.observe(o,{childList:!0,subtree:!0}),B.observe(v,{childList:!0,subtree:!0}),z.debug("Setting up mutation observer",B))},determineContainer:function(){G=l.offsetParent()},determineContext:function(){return q=n.context?c(n.context):G,0===q.length?void z.error(E.invalidContext,n.context,l):void 0},checkErrors:function(){return z.is.hidden()&&z.error(E.visible,l),z.cache.element.height>z.cache.context.height?(z.reset(),void z.error(E.elementSize,l)):void 0},bind:{events:function(){H.on("load"+D,z.event.load).on("resize"+D,z.event.resize),s.off("scroll"+D).on("scroll"+D,z.event.scroll).on("scrollchange"+D,z.event.scrollchange)}},event:{load:function(){z.verbose("Page contents finished loading"),r(z.refresh)},resize:function(){z.verbose("Window resized"),r(z.refresh)},scroll:function(){r(function(){s.triggerHandler("scrollchange"+D,s.scrollTop())})},scrollchange:function(w,v){z.stick(v),n.onScroll.call(o)}},refresh:function(v){z.reset(),n.context||z.determineContext(),v&&z.determineContainer(),z.save.positions(),z.stick(),n.onReposition.call(o)},supports:{sticky:function(){var v=c("<div/>");v[0];return v.addClass(I.supported),v.css("position").match("sticky")}},save:{lastScroll:function(v){z.lastScroll=v},elementScroll:function(v){z.elementScroll=v},positions:function(){var w={height:H.height()},v={margin:{top:parseInt(l.css("margin-top"),10),bottom:parseInt(l.css("margin-bottom"),10)},offset:l.offset(),width:l.outerWidth(),height:l.outerHeight()},x={offset:q.offset(),height:q.outerHeight(),bottomPadding:parseInt(q.css("padding-bottom"),10)};({height:G.outerHeight()});z.cache={fits:v.height<w.height,window:{height:w.height},element:{margin:v.margin,top:v.offset.top-v.margin.top,left:v.offset.left,width:v.width,height:v.height,bottom:v.offset.top+v.height},context:{top:x.offset.top,height:x.height,bottomPadding:x.bottomPadding,bottom:x.offset.top+x.height-x.bottomPadding}},z.set.containerSize(),z.set.size(),z.stick(),z.debug("Caching element positions",z.cache)}},get:{direction:function(w){var v="down";return w=w||s.scrollTop(),z.lastScroll!==a&&(z.lastScroll<w?v="down":z.lastScroll>w&&(v="up")),v},scrollChange:function(v){return v=v||s.scrollTop(),z.lastScroll?v-z.lastScroll:0},currentElementScroll:function(){return z.elementScroll?z.elementScroll:z.is.top()?Math.abs(parseInt(l.css("top"),10))||0:Math.abs(parseInt(l.css("bottom"),10))||0},elementScroll:function(A){A=A||s.scrollTop();var x=z.cache.element,J=z.cache.window,w=z.get.scrollChange(A),C=x.height-J.height+n.offset,v=z.get.currentElementScroll(),y=v+w;return v=z.cache.fits||0>y?0:y>C?C:y}},remove:{offset:function(){l.css("margin-top","")}},set:{offset:function(){z.verbose("Setting offset on element",n.offset),l.css("margin-top",n.offset)},containerSize:function(){var v=G.get(0).tagName;"HTML"===v||"body"==v?z.determineContainer():Math.abs(G.outerHeight()-z.cache.context.height)>n.jitter&&(z.debug("Context has padding, specifying exact height for container",z.cache.context.height),G.css({height:z.cache.context.height}))},minimumSize:function(){var v=z.cache.element;G.css("min-height",v.height)},scroll:function(v){z.debug("Setting scroll on element",v),z.elementScroll!=v&&(z.is.top()&&l.css("bottom","").css("top",-v),z.is.bottom()&&l.css("top","").css("bottom",v))},size:function(){0!==z.cache.element.height&&0!==z.cache.element.width&&l.css({width:z.cache.element.width,height:z.cache.element.height})}},is:{top:function(){return l.hasClass(I.top)},bottom:function(){return l.hasClass(I.bottom)},initialPosition:function(){return !z.is.fixed()&&!z.is.bound()},hidden:function(){return !l.is(":visible")},bound:function(){return l.hasClass(I.bound)},fixed:function(){return l.hasClass(I.fixed)}},stick:function(C){var M=C||s.scrollTop(),x=z.cache,A=x.fits,w=x.element,K=x.window,v=x.context,N=z.is.bottom()&&n.pushing?n.bottomOffset:n.offset,C={top:M+N,bottom:M+N+K.height},J=(z.get.direction(C.top),A?0:z.get.elementScroll(C.top)),y=!A,L=0!==w.height;L&&(z.is.initialPosition()?C.top>v.bottom?(z.debug("Element bottom of container"),z.bindBottom()):C.top>w.top&&(z.debug("Element passed, fixing element to page"),z.fixTop()):z.is.fixed()?z.is.top()?C.top<w.top?(z.debug("Fixed element reached top of container"),z.setInitialPosition()):w.height+C.top-J>v.bottom?(z.debug("Fixed element reached bottom of container"),z.bindBottom()):y&&z.set.scroll(J):z.is.bottom()&&(C.bottom-w.height<w.top?(z.debug("Bottom fixed rail has reached top of container"),z.setInitialPosition()):C.bottom>v.bottom?(z.debug("Bottom fixed rail has reached bottom of container"),z.bindBottom()):y&&z.set.scroll(J)):z.is.bottom()&&(n.pushing?z.is.bound()&&C.bottom<v.bottom&&(z.debug("Fixing bottom attached element to bottom of browser."),z.fixBottom()):z.is.bound()&&C.top<v.bottom-w.height&&(z.debug("Fixing bottom attached element to top of browser."),z.fixTop()))),z.save.lastScroll(C.top),z.save.elementScroll(J)},bindTop:function(){z.debug("Binding element to top of parent container"),z.remove.offset(),l.css({left:"",top:"",marginBottom:""}).removeClass(I.fixed).removeClass(I.bottom).addClass(I.bound).addClass(I.top),n.onTop.call(o),n.onUnstick.call(o)},bindBottom:function(){z.debug("Binding element to bottom of parent container"),z.remove.offset(),l.css({left:"",top:"",marginBottom:z.cache.context.bottomPadding}).removeClass(I.fixed).removeClass(I.top).addClass(I.bound).addClass(I.bottom),n.onBottom.call(o),n.onUnstick.call(o)},setInitialPosition:function(){z.unfix(),z.unbind()},fixTop:function(){z.debug("Fixing element to top of page"),z.set.minimumSize(),z.set.offset(),l.css({left:z.cache.element.left,bottom:"",marginBottom:""}).removeClass(I.bound).removeClass(I.bottom).addClass(I.fixed).addClass(I.top),n.onStick.call(o)},fixBottom:function(){z.debug("Sticking element to bottom of page"),z.set.minimumSize(),z.set.offset(),l.css({left:z.cache.element.left,bottom:"",marginBottom:""}).removeClass(I.bound).removeClass(I.top).addClass(I.fixed).addClass(I.bottom),n.onStick.call(o)},unbind:function(){z.debug("Removing absolute position on element"),z.remove.offset(),l.removeClass(I.bound).removeClass(I.top).removeClass(I.bottom)},unfix:function(){z.debug("Removing fixed position on element"),z.remove.offset(),l.removeClass(I.fixed).removeClass(I.top).removeClass(I.bottom),n.onUnstick.call(o)},reset:function(){z.debug("Reseting elements position"),z.unbind(),z.unfix(),z.resetCSS(),z.remove.offset()},resetCSS:function(){l.css({width:"",height:""}),G.css({height:""})},setting:function(v,w){if(c.isPlainObject(v)){c.extend(!0,n,v)}else{if(w===a){return n[v]}n[v]=w}},internal:function(v,w){if(c.isPlainObject(v)){c.extend(!0,z,v)}else{if(w===a){return z[v]}z[v]=w}},debug:function(){n.debug&&(n.performance?z.performance.log(arguments):(z.debug=Function.prototype.bind.call(console.info,console,n.name+":"),z.debug.apply(console,arguments)))},verbose:function(){n.verbose&&n.debug&&(n.performance?z.performance.log(arguments):(z.verbose=Function.prototype.bind.call(console.info,console,n.name+":"),z.verbose.apply(console,arguments)))},error:function(){z.error=Function.prototype.bind.call(console.error,console,n.name+":"),z.error.apply(console,arguments)},performance:{log:function(x){var w,y,v;n.performance&&(w=(new Date).getTime(),v=p||w,y=w-v,p=w,j.push({Name:x[0],Arguments:[].slice.call(x,1)||"",Element:o,"Execution Time":y})),clearTimeout(z.performance.timer),z.performance.timer=setTimeout(z.performance.display,0)},display:function(){var v=n.name+":",w=0;p=!1,clearTimeout(z.performance.timer),c.each(j,function(y,x){w+=x["Execution Time"]}),v+=" "+w+"ms",e&&(v+=" '"+e+"'"),(console.group!==a||console.table!==a)&&j.length>0&&(console.groupCollapsed(v),console.table?console.table(j):c.each(j,function(y,x){console.log(x.Name+": "+x["Execution Time"]+"ms")}),console.groupEnd()),j=[]}},invoke:function(x,J,w){var A,y,C,v=t;return J=J||i,w=o||w,"string"==typeof x&&v!==a&&(x=x.split(/[\. ]/),A=x.length-1,c.each(x,function(M,L){var K=M!=A?L+x[M+1].charAt(0).toUpperCase()+x[M+1].slice(1):x;if(c.isPlainObject(v[K])&&M!=A){v=v[K]}else{if(v[K]!==a){return y=v[K],!1}if(!c.isPlainObject(v[L])||M==A){return v[L]!==a?(y=v[L],!1):!1}v=v[L]}})),c.isFunction(y)?C=y.apply(w,J):y!==a&&(C=y),c.isArray(f)?f.push(C):f!==a?f=[f,C]:C!==a&&(f=C),y}},m?(t===a&&z.initialize(),z.invoke(h)):(t!==a&&t.invoke("destroy"),z.initialize())}),f!==a?f:this},c.fn.sticky.settings={name:"Sticky",namespace:"sticky",debug:!1,verbose:!0,performance:!0,pushing:!1,context:!1,scrollContext:b,offset:0,bottomOffset:0,jitter:5,observeChanges:!1,onReposition:function(){},onScroll:function(){},onStick:function(){},onUnstick:function(){},onTop:function(){},onBottom:function(){},error:{container:"Sticky element must be inside a relative container",visible:"Element is hidden, you must call refresh after element becomes visible",method:"The method you called is not defined.",invalidContext:"Context specified does not exist",elementSize:"Sticky element is larger than its container, cannot create sticky."},className:{bound:"bound",fixed:"fixed",supported:"native",top:"top",bottom:"bottom"}}}(jQuery,window,document),function(c,b,d,a){c.fn.tab=function(h){var t,e,w=c(c.isFunction(this)?b:this),q=c.isPlainObject(h)?c.extend(!0,{},c.fn.tab.settings,h):c.extend({},c.fn.tab.settings),j=w.selector||"",v=(new Date).getTime(),p=[],i=arguments[0],n="string"==typeof i,k=[].slice.call(arguments,1);return w.each(function(){var l,K,z,H,G,I=q.className,g=q.metadata,J=q.selector,r=q.error,s="."+q.namespace,o="module-"+q.namespace,m=c(this),B={},u=!0,M=0,L=this,f=m.data(o);t={initialize:function(){t.debug("Initializing tab menu item",m),t.fix.callbacks(),t.determineTabs(),t.debug("Determining tabs",q.context,K),q.auto&&t.set.auto(),c.isWindow(L)||(t.debug("Attaching tab activation events to element",m),m.on("click"+s,t.event.click)),t.instantiate()},determineTabs:function(){var x;"parent"===q.context?(m.closest(J.ui).length>0?(x=m.closest(J.ui),t.verbose("Using closest UI element for determining parent",x)):x=m,l=x.parent(),t.verbose("Determined parent element for creating context",l)):q.context?(l=c(q.context),t.verbose("Using selector for tab context",q.context,l)):l=c("body"),q.childrenOnly?(K=l.children(J.tabs),t.debug("Searching tab context children for tabs",l,K)):(K=l.find(J.tabs),t.debug("Searching tab context for tabs",l,K))},fix:{callbacks:function(){c.isPlainObject(h)&&(h.onTabLoad||h.onTabInit)&&(h.onTabLoad&&(h.onLoad=h.onTabLoad,delete h.onTabLoad,t.error(r.legacyLoad,h.onLoad)),h.onTabInit&&(h.onFirstLoad=h.onTabInit,delete h.onTabInit,t.error(r.legacyInit,h.onFirstLoad)),q=c.extend(!0,{},c.fn.tab.settings,h))}},initializeHistory:function(){if(q.history){if(t.debug("Initializing page state"),c.address===a){return t.error(r.state),!1}if("state"==q.historyType){if(t.debug("Using HTML5 to manage state"),q.path===!1){return t.error(r.path),!1}c.address.history(!0).state(q.path)}c.address.bind("change",t.event.history.change)}},instantiate:function(){t.verbose("Storing instance of module",t),f=t,m.data(o,t)},destroy:function(){t.debug("Destroying tabs",m),m.removeData(o).off(s)},event:{click:function(x){var y=c(this).data(g.tab);y!==a?(q.history?(t.verbose("Updating page state",x),c.address.value(y)):(t.verbose("Changing tab",x),t.changeTab(y)),x.preventDefault()):t.debug("No tab specified")},history:{change:function(x){var A=x.pathNames.join("/")||t.get.initialPath(),y=q.templates.determineTitle(A)||!1;t.performance.display(),t.debug("History change event",A,x),G=x,A!==a&&t.changeTab(A),y&&c.address.title(y)}}},refresh:function(){z&&(t.debug("Refreshing tab",z),t.changeTab(z))},cache:{read:function(x){return x!==a?B[x]:!1},add:function(y,x){y=y||z,t.debug("Adding cached content for",y),B[y]=x},remove:function(x){x=x||z,t.debug("Removing cached content for",x),delete B[x]}},set:{auto:function(){var x="string"==typeof q.path?q.path.replace(/\/$/,"")+"/{$tab}":"/{$tab}";t.verbose("Setting up automatic tab retrieval from server",x),c.isPlainObject(q.apiSettings)?q.apiSettings.url=x:q.apiSettings={url:x}},loading:function(y){var x=t.get.tabElement(y),A=x.hasClass(I.loading);A||(t.verbose("Setting loading state for",x),x.addClass(I.loading).siblings(K).removeClass(I.active+" "+I.loading),x.length>0&&q.onRequest.call(x[0],y))},state:function(x){c.address.value(x)}},changeTab:function(D){var D="string"==typeof D?D.toLowerCase():D,x=b.history&&b.history.pushState,C=x&&q.ignoreFirstLoad&&u,A=q.auto||c.isPlainObject(q.apiSettings),y=A&&!C?t.utilities.pathToArray(D):t.get.defaultPathArray(D);D=t.utilities.arrayToPath(y),c.each(y,function(V,O){var N,U,R,F,Q=y.slice(0,V+1),P=t.utilities.arrayToPath(Q),T=t.is.tab(P),E=V+1==y.length,S=t.get.tabElement(P);if(t.verbose("Looking for tab",O),T){if(t.verbose("Tab was found",O),z=P,H=t.utilities.filterArray(y,Q),E?F=!0:(U=y.slice(0,V+2),R=t.utilities.arrayToPath(U),F=!t.is.tab(R),F&&t.verbose("Tab parameters found",U)),F&&A){return C?(t.debug("Ignoring remote content on first tab load",P),u=!1,t.cache.add(D,S.html()),t.activate.all(P),q.onFirstLoad.call(S[0],P,H,G),q.onLoad.call(S[0],P,H,G)):(t.activate.navigation(P),t.fetch.content(P,D)),!1}t.debug("Opened local tab",P),t.activate.all(P),t.cache.read(P)||(t.cache.add(P,!0),t.debug("First time tab loaded calling tab init"),q.onFirstLoad.call(S[0],P,H,G)),q.onLoad.call(S[0],P,H,G)}else{if(-1!=D.search("/")||""===D){return t.error(r.missingTab,m,l,P),!1}if(N=c("#"+D+', a[name="'+D+'"]'),P=N.closest("[data-tab]").data("tab"),S=t.get.tabElement(P),N&&N.length>0&&P){return t.debug("Anchor link used, opening parent tab",S,N),S.hasClass(I.active)||setTimeout(function(){t.scrollTo(N)},0),t.activate.all(P),t.cache.read(P)||(t.cache.add(P,!0),t.debug("First time tab loaded calling tab init"),q.onFirstLoad.call(S[0],P,H,G)),q.onLoad.call(S[0],P,H,G),!1}}})},scrollTo:function(y){var x=y&&y.length>0?y.offset().top:!1;x!==!1&&(t.debug("Forcing scroll to an in-page link in a hidden tab",x,y),c(d).scrollTop(x))},update:{content:function(A,x,D){var C=t.get.tabElement(A),y=C[0];D=D!==a?D:q.evaluateScripts,D?(t.debug("Updating HTML and evaluating inline scripts",A,x),C.html(x)):(t.debug("Updating HTML",A,x),y.innerHTML=x)}},fetch:{content:function(A,N){var F,D,C=t.get.tabElement(A),x={dataType:"html",on:"now",cache:"local",onSuccess:function(O){t.cache.add(N,O),t.update.content(A,O),A==z?(t.debug("Content loaded",A),t.activate.tab(A)):t.debug("Content loaded in background",A),q.onFirstLoad.call(C[0],A,H,G),q.onLoad.call(C[0],A,H,G)},urlData:{tab:N}},y=C.api("get request")||!1,E=y&&"pending"===y.state();N=N||A,D=t.cache.read(N),q.cache&&D?(t.activate.tab(A),t.debug("Adding cached content",N),"once"==q.evaluateScripts?t.update.content(A,D,!1):t.update.content(A,D),q.onLoad.call(C[0],A,H,G)):E?(t.set.loading(A),t.debug("Content is already loading",N)):c.api!==a?(F=c.extend(!0,{headers:{"X-Remote":!0}},q.apiSettings,x),t.debug("Retrieving remote content",N,F),C.api(F)):t.error(r.api)}},activate:{all:function(x){t.activate.tab(x),t.activate.navigation(x)},tab:function(y){var x=t.get.tabElement(y),A=x.hasClass(I.active);t.verbose("Showing tab content for",x),A||(x.addClass(I.active).siblings(K).removeClass(I.active+" "+I.loading),x.length>0&&q.onVisible.call(x[0],y))},navigation:function(y){var x=t.get.navElement(y),A=x.hasClass(I.active);t.verbose("Activating tab navigation for",x,y),A||x.addClass(I.active).siblings(w).removeClass(I.active+" "+I.loading)}},deactivate:{all:function(){t.deactivate.navigation(),t.deactivate.tabs()},navigation:function(){w.removeClass(I.active)},tabs:function(){K.removeClass(I.active+" "+I.loading)}},is:{tab:function(x){return x!==a?t.get.tabElement(x).length>0:!1}},get:{initialPath:function(){return w.eq(0).data(g.tab)||K.eq(0).data(g.tab)},path:function(){return c.address.value()},defaultPathArray:function(x){return t.utilities.pathToArray(t.get.defaultPath(x))},defaultPath:function(y){var x=w.filter("[data-"+g.tab+'^="'+y+'/"]').eq(0),A=x.data(g.tab)||!1;if(A){if(t.debug("Found default tab",A),M<q.maxDepth){return M++,t.get.defaultPath(A)}t.error(r.recursion)}else{t.debug("No default tabs found for",y,K)}return M=0,y},navElement:function(x){return x=x||z,w.filter("[data-"+g.tab+'="'+x+'"]')},tabElement:function(A){var y,D,x,C;return A=A||z,x=t.utilities.pathToArray(A),C=t.utilities.last(x),y=K.filter("[data-"+g.tab+'="'+C+'"]'),D=K.filter("[data-"+g.tab+'="'+A+'"]'),y.length>0?y:D},tab:function(){return z}},utilities:{filterArray:function(x,y){return c.grep(x,function(A){return -1==c.inArray(A,y)})},last:function(x){return c.isArray(x)?x[x.length-1]:!1},pathToArray:function(x){return x===a&&(x=z),"string"==typeof x?x.split("/"):[x]},arrayToPath:function(x){return c.isArray(x)?x.join("/"):!1}},setting:function(x,y){if(t.debug("Changing setting",x,y),c.isPlainObject(x)){c.extend(!0,q,x)}else{if(y===a){return q[x]}q[x]=y}},internal:function(x,y){if(c.isPlainObject(x)){c.extend(!0,t,x)}else{if(y===a){return t[x]}t[x]=y}},debug:function(){q.debug&&(q.performance?t.performance.log(arguments):(t.debug=Function.prototype.bind.call(console.info,console,q.name+":"),t.debug.apply(console,arguments)))},verbose:function(){q.verbose&&q.debug&&(q.performance?t.performance.log(arguments):(t.verbose=Function.prototype.bind.call(console.info,console,q.name+":"),t.verbose.apply(console,arguments)))},error:function(){t.error=Function.prototype.bind.call(console.error,console,q.name+":"),t.error.apply(console,arguments)},performance:{log:function(A){var y,C,x;q.performance&&(y=(new Date).getTime(),x=v||y,C=y-x,v=y,p.push({Name:A[0],Arguments:[].slice.call(A,1)||"",Element:L,"Execution Time":C})),clearTimeout(t.performance.timer),t.performance.timer=setTimeout(t.performance.display,500)},display:function(){var x=q.name+":",y=0;v=!1,clearTimeout(t.performance.timer),c.each(p,function(C,A){y+=A["Execution Time"]}),x+=" "+y+"ms",j&&(x+=" '"+j+"'"),(console.group!==a||console.table!==a)&&p.length>0&&(console.groupCollapsed(x),console.table?console.table(p):c.each(p,function(C,A){console.log(A.Name+": "+A["Execution Time"]+"ms")}),console.groupEnd()),p=[]}},invoke:function(A,F,D){var C,E,x,y=f;return F=F||k,D=L||D,"string"==typeof A&&y!==a&&(A=A.split(/[\. ]/),C=A.length-1,c.each(A,function(P,O){var N=P!=C?O+A[P+1].charAt(0).toUpperCase()+A[P+1].slice(1):A;if(c.isPlainObject(y[N])&&P!=C){y=y[N]}else{if(y[N]!==a){return E=y[N],!1}if(!c.isPlainObject(y[O])||P==C){return y[O]!==a?(E=y[O],!1):(t.error(r.method,A),!1)}y=y[O]}})),c.isFunction(E)?x=E.apply(D,F):E!==a&&(x=E),c.isArray(e)?e.push(x):e!==a?e=[e,x]:x!==a&&(e=x),E}},n?(f===a&&t.initialize(),t.invoke(i)):(f!==a&&f.invoke("destroy"),t.initialize())}),t&&!n&&t.initializeHistory(),e!==a?e:this},c.tab=function(){c(b).tab.apply(this,arguments)},c.fn.tab.settings={name:"Tab",namespace:"tab",debug:!1,verbose:!1,performance:!0,auto:!1,history:!1,historyType:"hash",path:!1,context:!1,childrenOnly:!1,maxDepth:25,alwaysRefresh:!1,cache:!0,ignoreFirstLoad:!1,apiSettings:!1,evaluateScripts:"once",onFirstLoad:function(g,f,h){},onLoad:function(g,f,h){},onVisible:function(g,f,h){},onRequest:function(g,f,h){},templates:{determineTitle:function(f){}},error:{api:"You attempted to load content without API module",method:"The method you called is not defined",missingTab:"Activated tab cannot be found for this context.",noContent:"The tab you specified is missing a content url.",path:"History enabled, but no path was specified",recursion:"Max recursive depth reached",legacyInit:"onTabInit has been renamed to onFirstLoad in 2.0, please adjust your code.",legacyLoad:"onTabLoad has been renamed to onLoad in 2.0. Please adjust your code",state:"History requires Asual's Address library <https://github.com/asual/jquery-address>"},metadata:{tab:"tab",loaded:"loaded",promise:"promise"},className:{loading:"loading",active:"active"},selector:{tabs:".ui.tab",ui:".ui"}}}(jQuery,window,document),function(c,b,d,a){c.fn.transition=function(){var f,k=c(this),e=k.selector||"",p=(new Date).getTime(),j=[],h=arguments,n=h[0],i=[].slice.call(arguments,1),g="string"==typeof n;b.requestAnimationFrame||b.mozRequestAnimationFrame||b.webkitRequestAnimationFrame||b.msRequestAnimationFrame||function(l){setTimeout(l,0)};return k.each(function(E){var s,r,m,D,q,z,u,A,l,B=c(this),o=this;l={initialize:function(){s=l.get.settings.apply(o,h),D=s.className,m=s.error,q=s.metadata,A="."+s.namespace,u="module-"+s.namespace,r=B.data(u)||l,z=l.get.animationEndEvent(),g&&(g=l.invoke(n)),g===!1&&(l.verbose("Converted arguments into settings object",s),s.interval?l.delay(s.animate):l.animate(),l.instantiate())},instantiate:function(){l.verbose("Storing instance of module",l),r=l,B.data(u,r)},destroy:function(){l.verbose("Destroying previous module for",o),B.removeData(u)},refresh:function(){l.verbose("Refreshing display type on next animation"),delete l.displayType},forceRepaint:function(){l.verbose("Forcing element repaint");var w=B.parent(),v=B.next();0===v.length?B.detach().appendTo(w):B.detach().insertBefore(v)},repaint:function(){l.verbose("Repainting element");o.offsetWidth},delay:function(v){var x,w,t=l.get.animationDirection();t||(t=l.can.transition()?l.get.direction():"static"),v=v!==a?v:s.interval,x="auto"==s.reverse&&t==D.outward,w=x||1==s.reverse?(k.length-E)*s.interval:E*s.interval,l.debug("Delaying animation by",w),setTimeout(l.animate,w)},animate:function(t){if(s=t||s,!l.is.supported()){return l.error(m.support),!1}if(l.debug("Preparing animation",s.animation),l.is.animating()){if(s.queue){return !s.allowRepeats&&l.has.direction()&&l.is.occurring()&&l.queuing!==!0?l.debug("Animation is currently occurring, preventing queueing same animation",s.animation):l.queue(s.animation),!1}if(!s.allowRepeats&&l.is.occurring()){return l.debug("Animation is already occurring, will not execute repeated animation",s.animation),!1}l.debug("New animation started, completing previous early",s.animation),r.complete()}l.can.animate()?l.set.animating(s.animation):l.error(m.noAnimation,s.animation,o)},reset:function(){l.debug("Resetting animation to beginning conditions"),l.remove.animationCallbacks(),l.restore.conditions(),l.remove.animating()},queue:function(t){l.debug("Queueing animation of",t),l.queuing=!0,B.one(z+".queue"+A,function(){l.queuing=!1,l.repaint(),l.animate.apply(this,s)})},complete:function(t){l.debug("Animation complete",s.animation),l.remove.completeCallback(),l.remove.failSafe(),l.is.looping()||(l.is.outward()?(l.verbose("Animation is outward, hiding element"),l.restore.conditions(),l.hide()):l.is.inward()?(l.verbose("Animation is outward, showing element"),l.restore.conditions(),l.show()):l.restore.conditions())},force:{visible:function(){var y=B.attr("style"),w=l.get.userStyle(),F=l.get.displayType(),C=w+"display: "+F+" !important;",v=B.css("display"),x=y===a||""===y;v!==F?(l.verbose("Overriding default display to show element",F),B.attr("style",C)):x&&B.removeAttr("style")},hidden:function(){var w=B.attr("style"),v=B.css("display"),x=w===a||""===w;"none"===v||l.is.hidden()?x&&B.removeAttr("style"):(l.verbose("Overriding default display to hide element"),B.css("display","none"))}},has:{direction:function(v){var w=!1;return v=v||s.animation,"string"==typeof v&&(v=v.split(" "),c.each(v,function(y,x){(x===D.inward||x===D.outward)&&(w=!0)})),w},inlineDisplay:function(){var v=B.attr("style")||"";return c.isArray(v.match(/display.*?;/,""))}},set:{animating:function(w){var v;l.remove.completeCallback(),w=w||s.animation,v=l.get.animationClass(w),l.save.animation(v),l.force.visible(),l.remove.hidden(),l.remove.direction(),l.start.animation(v)},duration:function(w,v){v=v||s.duration,v="number"==typeof v?v+"ms":v,(v||0===v)&&(l.verbose("Setting animation duration",v),B.css({"animation-duration":v}))},direction:function(t){t=t||l.get.direction(),t==D.inward?l.set.inward():l.set.outward()},looping:function(){l.debug("Transition set to loop"),B.addClass(D.looping)},hidden:function(){B.addClass(D.transition).addClass(D.hidden)},inward:function(){l.debug("Setting direction to inward"),B.removeClass(D.outward).addClass(D.inward)},outward:function(){l.debug("Setting direction to outward"),B.removeClass(D.inward).addClass(D.outward)},visible:function(){B.addClass(D.transition).addClass(D.visible)}},start:{animation:function(t){t=t||l.get.animationClass(),l.debug("Starting tween",t),B.addClass(t).one(z+".complete"+A,l.complete),s.useFailSafe&&l.add.failSafe(),l.set.duration(s.duration),s.onStart.call(this)}},save:{animation:function(t){l.cache||(l.cache={}),l.cache.animation=t},displayType:function(t){"none"!==t&&B.data(q.displayType,t)},transitionExists:function(v,w){c.fn.transition.exists[v]=w,l.verbose("Saving existence of transition",v,w)}},restore:{conditions:function(){var t=l.get.currentAnimation();t&&(B.removeClass(t),l.verbose("Removing animation class",l.cache)),l.remove.duration()}},add:{failSafe:function(){var t=l.get.duration();l.timer=setTimeout(function(){B.triggerHandler(z)},t+s.failSafeDelay),l.verbose("Adding fail safe timer",l.timer)}},remove:{animating:function(){B.removeClass(D.animating)},animationCallbacks:function(){l.remove.queueCallback(),l.remove.completeCallback()},queueCallback:function(){B.off(".queue"+A)},completeCallback:function(){B.off(".complete"+A)},display:function(){B.css("display","")},direction:function(){B.removeClass(D.inward).removeClass(D.outward)},duration:function(){B.css("animation-duration","")},failSafe:function(){l.verbose("Removing fail safe timer",l.timer),l.timer&&clearTimeout(l.timer)},hidden:function(){B.removeClass(D.hidden)},visible:function(){B.removeClass(D.visible)},looping:function(){l.debug("Transitions are no longer looping"),l.is.looping()&&(l.reset(),B.removeClass(D.looping))},transition:function(){B.removeClass(D.visible).removeClass(D.hidden)}},get:{settings:function(w,x,v){return"object"==typeof w?c.extend(!0,{},c.fn.transition.settings,w):"function"==typeof v?c.extend({},c.fn.transition.settings,{animation:w,onComplete:v,duration:x}):"string"==typeof x||"number"==typeof x?c.extend({},c.fn.transition.settings,{animation:w,duration:x}):"object"==typeof x?c.extend({},c.fn.transition.settings,x,{animation:w}):"function"==typeof x?c.extend({},c.fn.transition.settings,{animation:w,onComplete:x}):c.extend({},c.fn.transition.settings,{animation:w})},animationClass:function(w){var v=w||s.animation,x=l.can.transition()&&!l.has.direction()?l.get.direction()+" ":"";return D.animating+" "+D.transition+" "+x+v},currentAnimation:function(){return l.cache.animation||!1},currentDirection:function(){return l.is.inward()?D.inward:D.outward},direction:function(){return l.is.hidden()||!l.is.visible()?D.inward:D.outward},animationDirection:function(v){var w;return v=v||s.animation,"string"==typeof v&&(v=v.split(" "),c.each(v,function(y,x){x===D.inward?w=D.inward:x===D.outward&&(w=D.outward)})),w?w:!1},duration:function(t){return t=t||s.duration,t===!1&&(t=B.css("animation-duration")||0),"string"==typeof t?t.indexOf("ms")>-1?parseFloat(t):1000*parseFloat(t):t},displayType:function(){return s.displayType?s.displayType:(B.data(q.displayType)===a&&l.can.transition(!0),B.data(q.displayType))},userStyle:function(t){return t=t||B.attr("style")||"",t.replace(/display.*?;/,"")},transitionExists:function(v){return c.fn.transition.exists[v]},animationStartEvent:function(){var w,v=d.createElement("div"),x={animation:"animationstart",OAnimation:"oAnimationStart",MozAnimation:"mozAnimationStart",WebkitAnimation:"webkitAnimationStart"};for(w in x){if(v.style[w]!==a){return x[w]}}return !1},animationEndEvent:function(){var w,v=d.createElement("div"),x={animation:"animationend",OAnimation:"oAnimationEnd",MozAnimation:"mozAnimationEnd",WebkitAnimation:"webkitAnimationEnd"};for(w in x){if(v.style[w]!==a){return x[w]}}return !1}},can:{transition:function(I){var x,w,G,v,J,F,y,H=s.animation,C=l.get.transitionExists(H);if(C===a||I){if(l.verbose("Determining whether animation exists"),x=B.attr("class"),w=B.prop("tagName"),G=c("<"+w+" />").addClass(x).insertAfter(B),v=G.addClass(H).removeClass(D.inward).removeClass(D.outward).addClass(D.animating).addClass(D.transition).css("animationName"),J=G.addClass(D.inward).css("animationName"),y=G.attr("class",x).removeAttr("style").removeClass(D.hidden).removeClass(D.visible).show().css("display"),l.verbose("Determining final display state",y),l.save.displayType(y),G.remove(),v!=J){l.debug("Direction exists for animation",H),F=!0}else{if("none"==v||!v){return void l.debug("No animation defined in css",H)}l.debug("Static animation found",H,y),F=!1}l.save.transitionExists(H,F)}return C!==a?C:F},animate:function(){return l.can.transition()!==a}},is:{animating:function(){return B.hasClass(D.animating)},inward:function(){return B.hasClass(D.inward)},outward:function(){return B.hasClass(D.outward)},looping:function(){return B.hasClass(D.looping)},occurring:function(t){return t=t||s.animation,t="."+t.replace(" ","."),B.filter(t).length>0},visible:function(){return B.is(":visible")},hidden:function(){return"hidden"===B.css("visibility")},supported:function(){return z!==!1}},hide:function(){l.verbose("Hiding element"),l.is.animating()&&l.reset(),l.remove.display(),l.remove.visible(),l.set.hidden(),s.onHide.call(this),s.onComplete.call(this),l.force.hidden()},show:function(t){l.verbose("Showing element",t),l.remove.hidden(),l.set.visible(),s.onShow.call(this),s.onComplete.call(this),l.force.visible()},toggle:function(){l.is.visible()?l.hide():l.show()},stop:function(){l.debug("Stopping current animation"),B.triggerHandler(z)},stopAll:function(){l.debug("Stopping all animation"),l.remove.queueCallback(),B.triggerHandler(z)},clear:{queue:function(){l.debug("Clearing animation queue"),l.remove.queueCallback()}},enable:function(){l.verbose("Starting animation"),B.removeClass(D.disabled)},disable:function(){l.debug("Stopping animation"),B.addClass(D.disabled)},setting:function(v,w){if(l.debug("Changing setting",v,w),c.isPlainObject(v)){c.extend(!0,s,v)}else{if(w===a){return s[v]}s[v]=w}},internal:function(v,w){if(c.isPlainObject(v)){c.extend(!0,l,v)}else{if(w===a){return l[v]}l[v]=w}},debug:function(){s.debug&&(s.performance?l.performance.log(arguments):(l.debug=Function.prototype.bind.call(console.info,console,s.name+":"),l.debug.apply(console,arguments)))},verbose:function(){s.verbose&&s.debug&&(s.performance?l.performance.log(arguments):(l.verbose=Function.prototype.bind.call(console.info,console,s.name+":"),l.verbose.apply(console,arguments)))},error:function(){l.error=Function.prototype.bind.call(console.error,console,s.name+":"),l.error.apply(console,arguments)},performance:{log:function(x){var w,y,v;s.performance&&(w=(new Date).getTime(),v=p||w,y=w-v,p=w,j.push({Name:x[0],Arguments:[].slice.call(x,1)||"",Element:o,"Execution Time":y})),clearTimeout(l.performance.timer),l.performance.timer=setTimeout(l.performance.display,500)},display:function(){var v=s.name+":",w=0;p=!1,clearTimeout(l.performance.timer),c.each(j,function(y,x){w+=x["Execution Time"]}),v+=" "+w+"ms",e&&(v+=" '"+e+"'"),k.length>1&&(v+=" ("+k.length+")"),(console.group!==a||console.table!==a)&&j.length>0&&(console.groupCollapsed(v),console.table?console.table(j):c.each(j,function(y,x){console.log(x.Name+": "+x["Execution Time"]+"ms")}),console.groupEnd()),j=[]}},invoke:function(x,G,w){var C,y,F,v=r;return G=G||i,w=o||w,"string"==typeof x&&v!==a&&(x=x.split(/[\. ]/),C=x.length-1,c.each(x,function(I,H){var t=I!=C?H+x[I+1].charAt(0).toUpperCase()+x[I+1].slice(1):x;if(c.isPlainObject(v[t])&&I!=C){v=v[t]}else{if(v[t]!==a){return y=v[t],!1}if(!c.isPlainObject(v[H])||I==C){return v[H]!==a?(y=v[H],!1):!1}v=v[H]}})),c.isFunction(y)?F=y.apply(w,G):y!==a&&(F=y),c.isArray(f)?f.push(F):f!==a?f=[f,F]:F!==a&&(f=F),y!==a?y:!1}},l.initialize()}),f!==a?f:this},c.fn.transition.exists={},c.fn.transition.settings={name:"Transition",debug:!1,verbose:!1,performance:!0,namespace:"transition",interval:0,reverse:"auto",onStart:function(){},onComplete:function(){},onShow:function(){},onHide:function(){},useFailSafe:!0,failSafeDelay:100,allowRepeats:!1,displayType:!1,animation:"fade",duration:!1,queue:!0,metadata:{displayType:"display"},className:{animating:"animating",disabled:"disabled",hidden:"hidden",inward:"in",loading:"loading",looping:"looping",outward:"out",transition:"transition",visible:"visible"},error:{noAnimation:"There is no css animation matching the one you specified. Please make sure your css is vendor prefixed, and you have included transition css.",repeated:"That animation is already occurring, cancelling repeated animation",method:"The method you called is not defined",support:"This browser does not support CSS animations"}}}(jQuery,window,document),function(c,b,d,a){c.api=c.fn.api=function(g){var f,k=c(c.isFunction(this)?b:this),e=k.selector||"",p=(new Date).getTime(),j=[],h=arguments[0],m="string"==typeof h,i=[].slice.call(arguments,1);return k.each(function(){var O,I,M,L,H,u,K=c.isPlainObject(g)?c.extend(!0,{},c.fn.api.settings,g):c.extend({},c.fn.api.settings),N=K.namespace,r=K.metadata,s=K.selector,D=K.error,t=K.className,J="."+N,n="module-"+N,l=c(this),G=l.closest(s.form),q=K.stateContext?c(K.stateContext):l,o=this,B=q[0],z=l.data(n);u={initialize:function(){m||u.bind.events(),u.instantiate()},instantiate:function(){u.verbose("Storing instance of module",u),z=u,l.data(n,z)},destroy:function(){u.verbose("Destroying previous module for",o),l.removeData(n).off(J)},bind:{events:function(){var v=u.get.event();v?(u.debug("Attaching API events to element",v),l.on(v+J,u.event.trigger)):"now"==K.on&&(u.debug("Querying API now",v),u.query())}},read:{cachedResponse:function(v){var x;if(b.Storage===a){return void u.error(D.noStorage)}if(x=sessionStorage.getItem(v),u.debug("Using cached response",v,x),x!==a){try{x=JSON.parse(x)}catch(w){}return x}return !1}},write:{cachedResponse:function(w,v){return v&&""===v?void u.debug("Response empty, not caching",v):b.Storage===a?void u.error(D.noStorage):(c.isPlainObject(v)&&(v=JSON.stringify(v)),sessionStorage.setItem(w,v),void u.verbose("Storing cached response for url",w,v))}},query:function(){if(u.is.disabled()){return void u.debug("Element is disabled API request aborted")}if(u.is.loading()){if(!K.interruptRequests){return void u.debug("Cancelling request, previous request is still pending")}u.debug("Interrupting previous request"),u.abort()}if(K.defaultData&&c.extend(!0,K.urlData,u.get.defaultData()),(K.serializeForm!==!1||q.is("form"))&&("json"==K.serializeForm?c.extend(!0,K.data,u.get.formData()):K.data=u.get.formData()),I=u.get.settings(),I===!1){return u.cancelled=!0,void u.error(D.beforeSend)}if(u.cancelled=!1,K.url?(u.debug("Using specified url",M),M=u.add.urlData(K.url)):(M=u.add.urlData(u.get.templateURL()),u.debug("Added URL Data to url",M)),!M&&!u.is.mocked()){if(!u.is.form()){return void u.error(D.missingURL,K.action)}M=l.attr("action")||"",u.debug("No url or action specified, defaulting to form action",M)}return O=c.extend(!0,{},K,{type:K.method||K.type,data:L,url:K.base+M,beforeSend:K.beforeXHR,success:function(){},failure:function(){},complete:function(){}}),u.debug("Querying URL",O.url),u.verbose("Using AJAX settings",O),"local"===K.cache&&u.read.cachedResponse(M)?(u.debug("Response returned from local cache"),u.request=u.create.request(),void u.request.resolveWith(B,[u.read.cachedResponse(M)])):void (K.throttle?K.throttleFirstRequest||u.timer?(u.debug("Throttling request",K.throttle),clearTimeout(u.timer),u.timer=setTimeout(function(){u.timer&&delete u.timer,u.debug("Sending throttled request",L,O.method),u.send.request()},K.throttle)):(u.debug("Sending data",L,O.method),u.send.request(),u.timer=setTimeout(function(){},K.throttle)):(u.debug("Sending data",L,O.method),u.send.request()))},is:{disabled:function(){return l.filter(K.filter).length>0},form:function(){return l.is("form")},mocked:function(){return K.mockResponse||K.mockResponseAsync},input:function(){return l.is("input")},loading:function(){return u.request&&"pending"==u.request.state()}},was:{cancelled:function(){return u.cancelled||!1},succesful:function(){return u.request&&"resolved"==u.request.state()},failure:function(){return u.request&&"rejected"==u.request.state()},complete:function(){return u.request&&("resolved"==u.request.state()||"rejected"==u.request.state())}},add:{urlData:function(w,y){var x,v;return w&&(x=w.match(K.regExp.required),v=w.match(K.regExp.optional),y=y||K.urlData,x&&(u.debug("Looking for required URL variables",x),c.each(x,function(F,A){var E=-1!==A.indexOf("$")?A.substr(2,A.length-3):A.substr(1,A.length-2),C=c.isPlainObject(y)&&y[E]!==a?y[E]:l.data(E)!==a?l.data(E):q.data(E)!==a?q.data(E):y[E];return C===a?(u.error(D.requiredParameter,E,w),w=!1,!1):(u.verbose("Found required variable",E,C),void (w=w.replace(A,C)))})),v&&(u.debug("Looking for optional URL variables",x),c.each(v,function(F,A){var E=-1!==A.indexOf("$")?A.substr(3,A.length-4):A.substr(2,A.length-3),C=c.isPlainObject(y)&&y[E]!==a?y[E]:l.data(E)!==a?l.data(E):q.data(E)!==a?q.data(E):y[E];C!==a?(u.verbose("Optional variable Found",E,C),w=w.replace(A,C)):(u.verbose("Optional variable not found",E),w=-1!==w.indexOf("/"+A)?w.replace("/"+A,""):w.replace(A,""))}))),w}},send:{request:function(){u.set.loading(),u.request=u.create.request(),u.xhr=u.create.xhr(),K.onRequest.call(B,u.request,u.xhr)}},event:{trigger:function(v){u.query(),("submit"==v.type||"click"==v.type)&&v.preventDefault()},xhr:{always:function(){},done:function(x){var w=this,y=(new Date).getTime()-H,v=K.loadingDuration-y;v=v>0?v:0,setTimeout(function(){u.request.resolveWith(w,[x])},v)},fail:function(y,w,C){var A=this,v=(new Date).getTime()-H,x=K.loadingDuration-v;x=x>0?x:0,setTimeout(function(){y.readyState!==a&&0===y.readyState?u.request.rejectWith(A,[y,"aborted",C]):u.request.rejectWith(A,[y,w,C])},x)}},request:{complete:function(v){u.remove.loading(),K.onComplete.call(B,v,l)},done:function(v){var w=c.isFunction(K.onResponse)?K.onResponse.call(B,c.extend(!0,{},v)):!1;u.debug("API Response Received",v),"local"===K.cache&&M&&(u.write.cachedResponse(M,v),u.debug("Adding url to local cache",u.cache)),w&&(u.debug("Modified API response in onResponse callback",K.onResponse,w,v),v=w),"json"==K.dataType&&c.isFunction(K.successTest)?(u.debug("Checking JSON returned success",K.successTest,v),K.successTest(v)?K.onSuccess.call(B,v,l):(u.debug("JSON test specified by user and response failed",v),K.onFailure.call(B,v,l))):K.onSuccess.call(B,v,l)},fail:function(w,E,A){var y,x=K.error[E]!==a?K.error[E]:A,C=!1;if("aborted"==E&&(u.debug("Request Aborted (Most likely caused by page navigation or CORS Policy)",E,A),u.reset(),K.onAbort.call(B,E,l),C=!0),w!==a&&!C){if(200!=w.status&&A!==a&&""!==A){u.error(D.statusMessage+A,O.url)}else{if("error"==E&&"json"==K.dataType){try{y=c.parseJSON(w.responseText),y&&y.error!==a&&(x=y.error)}catch(v){u.error(D.JSONParse)}}}u.remove.loading(),K.errorDuration!==!1&&(u.set.error(),setTimeout(u.remove.error,K.errorDuration)),u.debug("API Request errored",x),K.onError.call(B,x,l)}K.onFailure.call(B,y,l)}}},create:{request:function(){return c.Deferred().always(u.event.request.complete).done(u.event.request.done).fail(u.event.request.fail)},xhr:function(){var v;return u.is.mocked()?void (K.mockResponse?c.isFunction(K.mockResponse)?(u.debug("Using sync mocked response callback",K.mockResponse),u.request.resolveWith(B,[K.mockResponse.call(B,K)])):(u.debug("Using mocked response",K.mockResponse),u.request.resolveWith(B,[K.mockResponse])):c.isFunction(K.mockResponseAsync)&&(v=function(w){u.verbose("Async callback returned response",w),w?u.request.resolveWith(B,[w]):u.request.rejectWith(B,[!0])},u.debug("Using async mocked response",K.mockResponseAsync),K.mockResponseAsync.call(B,K,v))):c.ajax(O).always(u.event.xhr.always).done(u.event.xhr.done).fail(u.event.xhr.fail)}},set:{error:function(){u.verbose("Adding error state to element",q),q.addClass(t.error)},loading:function(){u.verbose("Adding loading state to element",q),q.addClass(t.loading),H=(new Date).getTime()}},remove:{error:function(){u.verbose("Removing error state from element",q),q.removeClass(t.error)},loading:function(){u.verbose("Removing loading state from element",q),q.removeClass(t.loading)}},get:{request:function(){return u.request||!1},xhr:function(){return u.xhr||!1},settings:function(){var v;return v=K.beforeSend.call(B,K),v&&(v.success!==a&&(u.debug("Legacy success callback detected",v),u.error(D.legacyParameters,v.success),v.onSuccess=v.success),v.failure!==a&&(u.debug("Legacy failure callback detected",v),u.error(D.legacyParameters,v.failure),v.onFailure=v.failure),v.complete!==a&&(u.debug("Legacy complete callback detected",v),u.error(D.legacyParameters,v.complete),v.onComplete=v.complete)),v===a&&u.error(D.noReturnedValue),v!==a?v:K},defaultData:function(){var v={};return c.isWindow(o)||(u.is.input()?v.value=l.val():u.is.form()&&(v.text=l.text())),v},event:function(){return c.isWindow(o)||"now"==K.on?(u.debug("API called without element, no events attached"),!1):"auto"==K.on?l.is("input")?o.oninput!==a?"input":o.onpropertychange!==a?"propertychange":"keyup":l.is("form")?"submit":"click":K.on},formData:function(){var v;return l.serializeObject!==a?v=G.serializeObject():(u.error(D.missingSerialize),v=G.serialize()),u.debug("Retrieved form data",v),v},templateURL:function(w){var v;return w=w||l.data(r.action)||K.action||!1,w&&(u.debug("Looking up url for action",w,K.api),K.api[w]!==a?(v=K.api[w],u.debug("Found template url",v)):u.is.form()||u.is.mocked()||u.error(D.missingAction,K.action,K.api)),v}},abort:function(){var v=u.get.xhr();v&&"resolved"!==v.state()&&(u.debug("Cancelling API request"),v.abort())},reset:function(){u.remove.error(),u.remove.loading()},setting:function(v,w){if(u.debug("Changing setting",v,w),c.isPlainObject(v)){c.extend(!0,K,v)}else{if(w===a){return K[v]}K[v]=w}},internal:function(v,w){if(c.isPlainObject(v)){c.extend(!0,u,v)}else{if(w===a){return u[v]}u[v]=w}},debug:function(){K.debug&&(K.performance?u.performance.log(arguments):(u.debug=Function.prototype.bind.call(console.info,console,K.name+":"),u.debug.apply(console,arguments)))},verbose:function(){K.verbose&&K.debug&&(K.performance?u.performance.log(arguments):(u.verbose=Function.prototype.bind.call(console.info,console,K.name+":"),u.verbose.apply(console,arguments)))},error:function(){u.error=Function.prototype.bind.call(console.error,console,K.name+":"),u.error.apply(console,arguments)},performance:{log:function(x){var w,y,v;K.performance&&(w=(new Date).getTime(),v=p||w,y=w-v,p=w,j.push({Name:x[0],Arguments:[].slice.call(x,1)||"","Execution Time":y})),clearTimeout(u.performance.timer),u.performance.timer=setTimeout(u.performance.display,500)},display:function(){var v=K.name+":",w=0;p=!1,clearTimeout(u.performance.timer),c.each(j,function(y,x){w+=x["Execution Time"]}),v+=" "+w+"ms",e&&(v+=" '"+e+"'"),(console.group!==a||console.table!==a)&&j.length>0&&(console.groupCollapsed(v),console.table?console.table(j):c.each(j,function(y,x){console.log(x.Name+": "+x["Execution Time"]+"ms")}),console.groupEnd()),j=[]}},invoke:function(x,E,w){var A,y,C,v=z;return E=E||i,w=o||w,"string"==typeof x&&v!==a&&(x=x.split(/[\. ]/),A=x.length-1,c.each(x,function(Q,P){var F=Q!=A?P+x[Q+1].charAt(0).toUpperCase()+x[Q+1].slice(1):x;if(c.isPlainObject(v[F])&&Q!=A){v=v[F]}else{if(v[F]!==a){return y=v[F],!1}if(!c.isPlainObject(v[P])||Q==A){return v[P]!==a?(y=v[P],!1):(u.error(D.method,x),!1)}v=v[P]}})),c.isFunction(y)?C=y.apply(w,E):y!==a&&(C=y),c.isArray(f)?f.push(C):f!==a?f=[f,C]:C!==a&&(f=C),y}},m?(z===a&&u.initialize(),u.invoke(h)):(z!==a&&z.invoke("destroy"),u.initialize())}),f!==a?f:this},c.api.settings={name:"API",namespace:"api",debug:!0,verbose:!1,performance:!0,cache:!0,interruptRequests:!0,on:"auto",filter:".disabled",stateContext:!1,loadingDuration:0,errorDuration:2000,action:!1,url:!1,base:"",urlData:{},defaultData:!0,serializeForm:!1,throttle:0,throttleFirstRequest:!0,method:"get",data:{},dataType:"json",mockResponse:!1,mockResponseAsync:!1,beforeSend:function(f){return f},beforeXHR:function(f){},onRequest:function(g,f){},onResponse:!1,onSuccess:function(g,f){},onComplete:function(g,f){},onFailure:function(g,f){},onError:function(g,f){},onAbort:function(g,f){},successTest:!1,error:{beforeSend:"The before send function has aborted the request",error:"There was an error with your request",exitConditions:"API Request Aborted. Exit conditions met",JSONParse:"JSON could not be parsed during error handling",legacyParameters:"You are using legacy API success callback names",method:"The method you called is not defined",missingAction:"API action used but no url was defined",missingSerialize:"Required dependency jquery-serialize-object missing, using basic serialize",missingURL:"No URL specified for api event",noReturnedValue:"The beforeSend callback must return a settings object, beforeSend ignored.",noStorage:"Caching respopnses locally requires session storage",parseError:"There was an error parsing your request",requiredParameter:"Missing a required URL parameter: ",statusMessage:"Server gave an error: ",timeout:"Your request timed out"},regExp:{required:/\{\$*[A-z0-9]+\}/g,optional:/\{\/\$*[A-z0-9]+\}/g},className:{loading:"loading",error:"error"},selector:{form:"form"},metadata:{action:"action"}},c.api.settings.api={}}(jQuery,window,document),function(c,b,d,a){c.fn.state=function(m){var f,j=c(this),e=j.selector||"",n=("ontouchstart" in d.documentElement,(new Date).getTime()),i=[],g=arguments[0],k="string"==typeof g,h=[].slice.call(arguments,1);return j.each(function(){var q,r=c.isPlainObject(m)?c.extend(!0,{},c.fn.state.settings,m):c.extend({},c.fn.state.settings),z=r.error,u=r.metadata,o=r.className,F=r.namespace,t=r.states,B=r.text,A="."+F,D=F+"-module",l=c(this),E=this,s=l.data(D);q={initialize:function(){q.verbose("Initializing module"),r.automatic&&q.add.defaults(),r.context&&""!==e?c(r.context).on(e,"mouseenter"+A,q.change.text).on(e,"mouseleave"+A,q.reset.text).on(e,"click"+A,q.toggle.state):l.on("mouseenter"+A,q.change.text).on("mouseleave"+A,q.reset.text).on("click"+A,q.toggle.state),q.instantiate()},instantiate:function(){q.verbose("Storing instance of module",q),s=q,l.data(D,q)},destroy:function(){q.verbose("Destroying previous module",s),l.off(A).removeData(D)},refresh:function(){q.verbose("Refreshing selector cache"),l=c(E)},add:{defaults:function(){var p=m&&c.isPlainObject(m.states)?m.states:{};c.each(r.defaults,function(w,v){q.is[w]!==a&&q.is[w]()&&(q.verbose("Adding default states",w,E),c.extend(r.states,v,p))})}},is:{active:function(){return l.hasClass(o.active)},loading:function(){return l.hasClass(o.loading)},inactive:function(){return !l.hasClass(o.active)},state:function(p){return o[p]===a?!1:l.hasClass(o[p])},enabled:function(){return !l.is(r.filter.active)},disabled:function(){return l.is(r.filter.active)},textEnabled:function(){return !l.is(r.filter.text)},button:function(){return l.is(".button:not(a, .submit)")},input:function(){return l.is("input")},progress:function(){return l.is(".ui.progress")}},allow:function(p){q.debug("Now allowing state",p),t[p]=!0},disallow:function(p){q.debug("No longer allowing",p),t[p]=!1},allows:function(p){return t[p]||!1},enable:function(){l.removeClass(o.disabled)},disable:function(){l.addClass(o.disabled)},setState:function(p){q.allows(p)&&l.addClass(o[p])},removeState:function(p){q.allows(p)&&l.removeClass(o[p])},toggle:{state:function(){var p,v;if(q.allows("active")&&q.is.enabled()){if(q.refresh(),c.fn.api!==a){if(p=l.api("get request"),v=l.api("was cancelled")){q.debug("API Request cancelled by beforesend"),r.activateTest=function(){return !1},r.deactivateTest=function(){return !1}}else{if(p){return void q.listenTo(p)}}}q.change.state()}}},listenTo:function(p){q.debug("API request detected, waiting for state signal",p),p&&(B.loading&&q.update.text(B.loading),c.when(p).then(function(){"resolved"==p.state()?(q.debug("API request succeeded"),r.activateTest=function(){return !0},r.deactivateTest=function(){return !0}):(q.debug("API request failed"),r.activateTest=function(){return !1},r.deactivateTest=function(){return !1}),q.change.state()}))},change:{state:function(){q.debug("Determining state change direction"),q.is.inactive()?q.activate():q.deactivate(),r.sync&&q.sync(),r.onChange.call(E)},text:function(){q.is.textEnabled()&&(q.is.disabled()?(q.verbose("Changing text to disabled text",B.hover),q.update.text(B.disabled)):q.is.active()?B.hover?(q.verbose("Changing text to hover text",B.hover),q.update.text(B.hover)):B.deactivate&&(q.verbose("Changing text to deactivating text",B.deactivate),q.update.text(B.deactivate)):B.hover?(q.verbose("Changing text to hover text",B.hover),q.update.text(B.hover)):B.activate&&(q.verbose("Changing text to activating text",B.activate),q.update.text(B.activate)))}},activate:function(){r.activateTest.call(E)&&(q.debug("Setting state to active"),l.addClass(o.active),q.update.text(B.active),r.onActivate.call(E))},deactivate:function(){r.deactivateTest.call(E)&&(q.debug("Setting state to inactive"),l.removeClass(o.active),q.update.text(B.inactive),r.onDeactivate.call(E))},sync:function(){q.verbose("Syncing other buttons to current state"),j.not(l).state(q.is.active()?"activate":"deactivate")},get:{text:function(){return r.selector.text?l.find(r.selector.text).text():l.html()},textFor:function(p){return B[p]||!1}},flash:{text:function(w,v,p){var x=q.get.text();q.debug("Flashing text message",w,v),w=w||r.text.flash,v=v||r.flashDuration,p=p||function(){},q.update.text(w),setTimeout(function(){q.update.text(x),p.call(E)},v)}},reset:{text:function(){var v=B.active||l.data(u.storedText),p=B.inactive||l.data(u.storedText);q.is.textEnabled()&&(q.is.active()&&v?(q.verbose("Resetting active text",v),q.update.text(v)):p&&(q.verbose("Resetting inactive text",v),q.update.text(p)))}},update:{text:function(v){var p=q.get.text();v&&v!==p?(q.debug("Updating text",v),r.selector.text?l.data(u.storedText,v).find(r.selector.text).text(v):l.data(u.storedText,v).html(v)):q.debug("Text is already set, ignoring update",v)}},setting:function(p,v){if(q.debug("Changing setting",p,v),c.isPlainObject(p)){c.extend(!0,r,p)}else{if(v===a){return r[p]}r[p]=v}},internal:function(p,v){if(c.isPlainObject(p)){c.extend(!0,q,p)}else{if(v===a){return q[p]}q[p]=v}},debug:function(){r.debug&&(r.performance?q.performance.log(arguments):(q.debug=Function.prototype.bind.call(console.info,console,r.name+":"),q.debug.apply(console,arguments)))},verbose:function(){r.verbose&&r.debug&&(r.performance?q.performance.log(arguments):(q.verbose=Function.prototype.bind.call(console.info,console,r.name+":"),q.verbose.apply(console,arguments)))},error:function(){q.error=Function.prototype.bind.call(console.error,console,r.name+":"),q.error.apply(console,arguments)},performance:{log:function(w){var v,p,x;r.performance&&(v=(new Date).getTime(),x=n||v,p=v-x,n=v,i.push({Name:w[0],Arguments:[].slice.call(w,1)||"",Element:E,"Execution Time":p})),clearTimeout(q.performance.timer),q.performance.timer=setTimeout(q.performance.display,500)},display:function(){var p=r.name+":",v=0;n=!1,clearTimeout(q.performance.timer),c.each(i,function(x,w){v+=w["Execution Time"]}),p+=" "+v+"ms",e&&(p+=" '"+e+"'"),(console.group!==a||console.table!==a)&&i.length>0&&(console.groupCollapsed(p),console.table?console.table(i):c.each(i,function(x,w){console.log(w.Name+": "+w["Execution Time"]+"ms")}),console.groupEnd()),i=[]}},invoke:function(x,v,C){var y,G,p,w=s;return v=v||h,C=E||C,"string"==typeof x&&w!==a&&(x=x.split(/[\. ]/),y=x.length-1,c.each(x,function(J,H){var I=J!=y?H+x[J+1].charAt(0).toUpperCase()+x[J+1].slice(1):x;if(c.isPlainObject(w[I])&&J!=y){w=w[I]}else{if(w[I]!==a){return G=w[I],!1}if(!c.isPlainObject(w[H])||J==y){return w[H]!==a?(G=w[H],!1):(q.error(z.method,x),!1)}w=w[H]}})),c.isFunction(G)?p=G.apply(C,v):G!==a&&(p=G),c.isArray(f)?f.push(p):f!==a?f=[f,p]:p!==a&&(f=p),G}},k?(s===a&&q.initialize(),q.invoke(g)):(s!==a&&s.invoke("destroy"),q.initialize())}),f!==a?f:this},c.fn.state.settings={name:"State",debug:!1,verbose:!1,namespace:"state",performance:!0,onActivate:function(){},onDeactivate:function(){},onChange:function(){},activateTest:function(){return !0},deactivateTest:function(){return !0},automatic:!0,sync:!1,flashDuration:1000,filter:{text:".loading, .disabled",active:".disabled"},context:!1,error:{beforeSend:"The before send function has cancelled state change",method:"The method you called is not defined."},metadata:{promise:"promise",storedText:"stored-text"},className:{active:"active",disabled:"disabled",error:"error",loading:"loading",success:"success",warning:"warning"},selector:{text:!1},defaults:{input:{disabled:!0,loading:!0,active:!0},button:{disabled:!0,loading:!0,active:!0},progress:{active:!0,success:!0,warning:!0,error:!0}},states:{active:!0,disabled:!0,error:!0,loading:!0,success:!0,warning:!0},text:{disabled:!1,flash:!1,hover:!1,active:!1,inactive:!1,activate:!1,deactivate:!1}}}(jQuery,window,document),function(c,b,d,a){c.fn.visibility=function(f){var k,e=c(this),p=e.selector||"",j=(new Date).getTime(),h=[],n=arguments[0],i="string"==typeof n,g=[].slice.call(arguments,1);return e.each(function(){var l,E,D,o=c.isPlainObject(f)?c.extend(!0,{},c.fn.visibility.settings,f):c.extend({},c.fn.visibility.settings),J=o.className,z=o.namespace,G=o.error,F=o.metadata,H="."+z,m="module-"+z,I=c(b),t=c(this),u=c(o.context),s=(t.selector||"",t.data(m)),q=b.requestAnimationFrame||b.mozRequestAnimationFrame||b.webkitRequestAnimationFrame||b.msRequestAnimationFrame||function(r){setTimeout(r,0)},B=this;D={initialize:function(){D.debug("Initializing",o),D.setup.cache(),D.should.trackChanges()&&("image"==o.type&&D.setup.image(),"fixed"==o.type&&D.setup.fixed(),o.observeChanges&&D.observeChanges(),D.bind.events()),D.save.position(),D.is.visible()||D.error(G.visible,t),o.initialCheck&&D.checkVisibility(),D.instantiate()},instantiate:function(){D.debug("Storing instance",D),t.data(m,D),s=D},destroy:function(){D.verbose("Destroying previous module"),E&&E.disconnect(),I.off("load"+H,D.event.load).off("resize"+H,D.event.resize),u.off("scrollchange"+H,D.event.scrollchange),t.off(H).removeData(m)},observeChanges:function(){"MutationObserver" in b&&(E=new MutationObserver(function(r){D.verbose("DOM tree modified, updating visibility calculations"),D.timer=setTimeout(function(){D.verbose("DOM tree modified, updating sticky menu"),D.refresh()},100)}),E.observe(B,{childList:!0,subtree:!0}),D.debug("Setting up mutation observer",E))},bind:{events:function(){D.verbose("Binding visibility events to scroll and resize"),o.refreshOnLoad&&I.on("load"+H,D.event.load),I.on("resize"+H,D.event.resize),u.off("scroll"+H).on("scroll"+H,D.event.scroll).on("scrollchange"+H,D.event.scrollchange)}},event:{resize:function(){D.debug("Window resized"),q(D.refresh)},load:function(){D.debug("Page finished loading"),q(D.refresh)},scroll:function(){o.throttle?(clearTimeout(D.timer),D.timer=setTimeout(function(){u.triggerHandler("scrollchange"+H,[u.scrollTop()])},o.throttle)):q(function(){u.triggerHandler("scrollchange"+H,[u.scrollTop()])})},scrollchange:function(v,r){D.checkVisibility(r)}},precache:function(x,w){x instanceof Array||(x=[x]);for(var C=x.length,v=0,A=[],y=d.createElement("img"),K=function(){v++,v>=x.length&&c.isFunction(w)&&w()};C--;){y=d.createElement("img"),y.onload=K,y.onerror=K,y.src=x[C],A.push(y)}},should:{trackChanges:function(){return i?(D.debug("One time query, no need to bind events"),!1):(D.debug("Callbacks being attached"),!0)}},setup:{cache:function(){D.cache={occurred:{},screen:{},element:{}}},image:function(){var r=t.data(F.src);r&&(D.verbose("Lazy loading image",r),o.once=!0,o.observeChanges=!1,o.onOnScreen=function(){D.debug("Image on screen",B),D.precache(r,function(){D.set.image(r)})})},fixed:function(){D.debug("Setting up fixed"),o.once=!1,o.observeChanges=!1,o.initialCheck=!0,o.refreshOnLoad=!0,f.transition||(o.transition=!1),D.create.placeholder(),D.debug("Added placeholder",l),o.onTopPassed=function(){D.debug("Element passed, adding fixed position",t),D.show.placeholder(),D.set.fixed(),o.transition&&c.fn.transition!==a&&t.transition(o.transition,o.duration)},o.onTopPassedReverse=function(){D.debug("Element returned to position, removing fixed",t),D.hide.placeholder(),D.remove.fixed()}}},create:{placeholder:function(){D.verbose("Creating fixed position placeholder"),l=t.clone(!1).css("display","none").addClass(J.placeholder).insertAfter(t)}},show:{placeholder:function(){D.verbose("Showing placeholder"),l.css("display","block").css("visibility","hidden")}},hide:{placeholder:function(){D.verbose("Hiding placeholder"),l.css("display","none").css("visibility","")}},set:{fixed:function(){D.verbose("Setting element to fixed position"),t.addClass(J.fixed).css({position:"fixed",top:o.offset+"px",left:"auto",zIndex:"1"})},image:function(r){t.attr("src",r),o.transition?c.fn.transition!==a?t.transition(o.transition,o.duration):t.fadeIn(o.duration):t.show()}},is:{onScreen:function(){var r=D.get.elementCalculations();return r.onScreen},offScreen:function(){var r=D.get.elementCalculations();return r.offScreen},visible:function(){return D.cache&&D.cache.element?!(0===D.cache.element.width&&0===D.cache.element.offset.top):!1}},refresh:function(){D.debug("Refreshing constants (width/height)"),"fixed"==o.type&&(D.remove.fixed(),D.remove.occurred()),D.reset(),D.save.position(),D.checkVisibility(),o.onRefresh.call(B)},reset:function(){D.verbose("Reseting all cached values"),c.isPlainObject(D.cache)&&(D.cache.screen={},D.cache.element={})},checkVisibility:function(r){D.verbose("Checking visibility of element",D.cache.element),D.is.visible()&&(D.save.scroll(r),D.save.calculations(),D.passed(),D.passingReverse(),D.topVisibleReverse(),D.bottomVisibleReverse(),D.topPassedReverse(),D.bottomPassedReverse(),D.onScreen(),D.offScreen(),D.passing(),D.topVisible(),D.bottomVisible(),D.topPassed(),D.bottomPassed(),o.onUpdate&&o.onUpdate.call(B,D.get.elementCalculations()))},passed:function(r,w){var v=D.get.elementCalculations();if(r&&w){o.onPassed[r]=w}else{if(r!==a){return D.get.pixelsPassed(r)>v.pixelsPassed}v.passing&&c.each(o.onPassed,function(y,x){v.bottomVisible||v.pixelsPassed>D.get.pixelsPassed(y)?D.execute(x,y):o.once||D.remove.occurred(x)})}},onScreen:function(v){var r=D.get.elementCalculations(),x=v||o.onOnScreen,w="onScreen";return v&&(D.debug("Adding callback for onScreen",v),o.onOnScreen=v),r.onScreen?D.execute(x,w):o.once||D.remove.occurred(w),v!==a?r.onOnScreen:void 0},offScreen:function(v){var r=D.get.elementCalculations(),x=v||o.onOffScreen,w="offScreen";return v&&(D.debug("Adding callback for offScreen",v),o.onOffScreen=v),r.offScreen?D.execute(x,w):o.once||D.remove.occurred(w),v!==a?r.onOffScreen:void 0},passing:function(v){var r=D.get.elementCalculations(),x=v||o.onPassing,w="passing";return v&&(D.debug("Adding callback for passing",v),o.onPassing=v),r.passing?D.execute(x,w):o.once||D.remove.occurred(w),v!==a?r.passing:void 0},topVisible:function(v){var r=D.get.elementCalculations(),x=v||o.onTopVisible,w="topVisible";return v&&(D.debug("Adding callback for top visible",v),o.onTopVisible=v),r.topVisible?D.execute(x,w):o.once||D.remove.occurred(w),v===a?r.topVisible:void 0},bottomVisible:function(v){var r=D.get.elementCalculations(),x=v||o.onBottomVisible,w="bottomVisible";return v&&(D.debug("Adding callback for bottom visible",v),o.onBottomVisible=v),r.bottomVisible?D.execute(x,w):o.once||D.remove.occurred(w),v===a?r.bottomVisible:void 0},topPassed:function(v){var r=D.get.elementCalculations(),x=v||o.onTopPassed,w="topPassed";return v&&(D.debug("Adding callback for top passed",v),o.onTopPassed=v),r.topPassed?D.execute(x,w):o.once||D.remove.occurred(w),v===a?r.topPassed:void 0},bottomPassed:function(v){var r=D.get.elementCalculations(),x=v||o.onBottomPassed,w="bottomPassed";return v&&(D.debug("Adding callback for bottom passed",v),o.onBottomPassed=v),r.bottomPassed?D.execute(x,w):o.once||D.remove.occurred(w),v===a?r.bottomPassed:void 0},passingReverse:function(v){var r=D.get.elementCalculations(),x=v||o.onPassingReverse,w="passingReverse";return v&&(D.debug("Adding callback for passing reverse",v),o.onPassingReverse=v),r.passing?o.once||D.remove.occurred(w):D.get.occurred("passing")&&D.execute(x,w),v!==a?!r.passing:void 0},topVisibleReverse:function(v){var r=D.get.elementCalculations(),x=v||o.onTopVisibleReverse,w="topVisibleReverse";return v&&(D.debug("Adding callback for top visible reverse",v),o.onTopVisibleReverse=v),r.topVisible?o.once||D.remove.occurred(w):D.get.occurred("topVisible")&&D.execute(x,w),v===a?!r.topVisible:void 0},bottomVisibleReverse:function(v){var r=D.get.elementCalculations(),x=v||o.onBottomVisibleReverse,w="bottomVisibleReverse";return v&&(D.debug("Adding callback for bottom visible reverse",v),o.onBottomVisibleReverse=v),r.bottomVisible?o.once||D.remove.occurred(w):D.get.occurred("bottomVisible")&&D.execute(x,w),v===a?!r.bottomVisible:void 0},topPassedReverse:function(v){var r=D.get.elementCalculations(),x=v||o.onTopPassedReverse,w="topPassedReverse";return v&&(D.debug("Adding callback for top passed reverse",v),o.onTopPassedReverse=v),r.topPassed?o.once||D.remove.occurred(w):D.get.occurred("topPassed")&&D.execute(x,w),v===a?!r.onTopPassed:void 0},bottomPassedReverse:function(v){var r=D.get.elementCalculations(),x=v||o.onBottomPassedReverse,w="bottomPassedReverse";return v&&(D.debug("Adding callback for bottom passed reverse",v),o.onBottomPassedReverse=v),r.bottomPassed?o.once||D.remove.occurred(w):D.get.occurred("bottomPassed")&&D.execute(x,w),v===a?!r.bottomPassed:void 0},execute:function(w,v){var x=D.get.elementCalculations(),r=D.get.screenCalculations();w=w||!1,w&&(o.continuous?(D.debug("Callback being called continuously",v,x),w.call(B,x,r)):D.get.occurred(v)||(D.debug("Conditions met",v,x),w.call(B,x,r))),D.save.occurred(v)},remove:{fixed:function(){D.debug("Removing fixed position"),t.removeClass(J.fixed).css({position:"",top:"",left:"",zIndex:""})},occurred:function(v){if(v){var r=D.cache.occurred;r[v]!==a&&r[v]===!0&&(D.debug("Callback can now be called again",v),D.cache.occurred[v]=!1)}else{D.cache.occurred={}}}},save:{calculations:function(){D.verbose("Saving all calculations necessary to determine positioning"),D.save.direction(),D.save.screenCalculations(),D.save.elementCalculations()},occurred:function(r){r&&(D.cache.occurred[r]===a||D.cache.occurred[r]!==!0)&&(D.verbose("Saving callback occurred",r),D.cache.occurred[r]=!0)},scroll:function(r){r=r+o.offset||u.scrollTop()+o.offset,D.cache.scroll=r},direction:function(){var v,r=D.get.scroll(),w=D.get.lastScroll();return v=r>w&&w?"down":w>r&&w?"up":"static",D.cache.direction=v,D.cache.direction},elementPosition:function(){var v=D.cache.element,r=D.get.screenSize();return D.verbose("Saving element position"),v.fits=v.height<r.height,v.offset=t.offset(),v.width=t.outerWidth(),v.height=t.outerHeight(),D.cache.element=v,v},elementCalculations:function(){var v=D.get.screenCalculations(),r=D.get.elementPosition();return o.includeMargin?(r.margin={},r.margin.top=parseInt(t.css("margin-top"),10),r.margin.bottom=parseInt(t.css("margin-bottom"),10),r.top=r.offset.top-r.margin.top,r.bottom=r.offset.top+r.height+r.margin.bottom):(r.top=r.offset.top,r.bottom=r.offset.top+r.height),r.topVisible=v.bottom>=r.top,r.topPassed=v.top>=r.top,r.bottomVisible=v.bottom>=r.bottom,r.bottomPassed=v.top>=r.bottom,r.pixelsPassed=0,r.percentagePassed=0,r.onScreen=r.topVisible&&!r.bottomPassed,r.passing=r.topPassed&&!r.bottomPassed,r.offScreen=!r.onScreen,r.passing&&(r.pixelsPassed=v.top-r.top,r.percentagePassed=(v.top-r.top)/r.height),D.cache.element=r,D.verbose("Updated element calculations",r),r},screenCalculations:function(){var r=D.get.scroll();return D.save.direction(),D.cache.screen.top=r,D.cache.screen.bottom=r+D.cache.screen.height,D.cache.screen},screenSize:function(){D.verbose("Saving window position"),D.cache.screen={height:u.height()}},position:function(){D.save.screenSize(),D.save.elementPosition()}},get:{pixelsPassed:function(v){var r=D.get.elementCalculations();return v.search("%")>-1?r.height*(parseInt(v,10)/100):parseInt(v,10)},occurred:function(r){return D.cache.occurred!==a?D.cache.occurred[r]||!1:!1},direction:function(){return D.cache.direction===a&&D.save.direction(),D.cache.direction},elementPosition:function(){return D.cache.element===a&&D.save.elementPosition(),D.cache.element},elementCalculations:function(){return D.cache.element===a&&D.save.elementCalculations(),D.cache.element},screenCalculations:function(){return D.cache.screen===a&&D.save.screenCalculations(),D.cache.screen},screenSize:function(){return D.cache.screen===a&&D.save.screenSize(),D.cache.screen},scroll:function(){return D.cache.scroll===a&&D.save.scroll(),D.cache.scroll},lastScroll:function(){return D.cache.screen===a?(D.debug("First scroll event, no last scroll could be found"),!1):D.cache.screen.top}},setting:function(r,v){if(c.isPlainObject(r)){c.extend(!0,o,r)}else{if(v===a){return o[r]}o[r]=v}},internal:function(r,v){if(c.isPlainObject(r)){c.extend(!0,D,r)}else{if(v===a){return D[r]}D[r]=v}},debug:function(){o.debug&&(o.performance?D.performance.log(arguments):(D.debug=Function.prototype.bind.call(console.info,console,o.name+":"),D.debug.apply(console,arguments)))},verbose:function(){o.verbose&&o.debug&&(o.performance?D.performance.log(arguments):(D.verbose=Function.prototype.bind.call(console.info,console,o.name+":"),D.verbose.apply(console,arguments)))},error:function(){D.error=Function.prototype.bind.call(console.error,console,o.name+":"),D.error.apply(console,arguments)},performance:{log:function(w){var v,x,r;o.performance&&(v=(new Date).getTime(),r=j||v,x=v-r,j=v,h.push({Name:w[0],Arguments:[].slice.call(w,1)||"",Element:B,"Execution Time":x})),clearTimeout(D.performance.timer),D.performance.timer=setTimeout(D.performance.display,500)},display:function(){var r=o.name+":",v=0;j=!1,clearTimeout(D.performance.timer),c.each(h,function(x,w){v+=w["Execution Time"]}),r+=" "+v+"ms",p&&(r+=" '"+p+"'"),(console.group!==a||console.table!==a)&&h.length>0&&(console.groupCollapsed(r),console.table?console.table(h):c.each(h,function(x,w){console.log(w.Name+": "+w["Execution Time"]+"ms")}),console.groupEnd()),h=[]}},invoke:function(w,K,A){var y,x,C,v=s;return K=K||g,A=B||A,"string"==typeof w&&v!==a&&(w=w.split(/[\. ]/),y=w.length-1,c.each(w,function(M,L){var r=M!=y?L+w[M+1].charAt(0).toUpperCase()+w[M+1].slice(1):w;if(c.isPlainObject(v[r])&&M!=y){v=v[r]}else{if(v[r]!==a){return x=v[r],!1}if(!c.isPlainObject(v[L])||M==y){return v[L]!==a?(x=v[L],!1):(D.error(G.method,w),!1)}v=v[L]}})),c.isFunction(x)?C=x.apply(A,K):x!==a&&(C=x),c.isArray(k)?k.push(C):k!==a?k=[k,C]:C!==a&&(k=C),x}},i?(s===a&&D.initialize(),s.save.scroll(),s.save.calculations(),D.invoke(n)):(s!==a&&s.invoke("destroy"),D.initialize())}),k!==a?k:this},c.fn.visibility.settings={name:"Visibility",namespace:"visibility",debug:!1,verbose:!1,performance:!0,observeChanges:!0,refreshOnLoad:!0,once:!0,continuous:!1,offset:0,includeMargin:!1,context:b,initialCheck:!0,throttle:!1,type:!1,transition:"fade in",duration:1000,onPassed:{},onOnScreen:!1,onOffScreen:!1,onPassing:!1,onTopVisible:!1,onBottomVisible:!1,onTopPassed:!1,onBottomPassed:!1,onPassingReverse:!1,onTopVisibleReverse:!1,onBottomVisibleReverse:!1,onTopPassedReverse:!1,onBottomPassedReverse:!1,onUpdate:!1,onRefresh:function(){},metadata:{src:"src"},className:{fixed:"fixed",placeholder:"placeholder"},error:{method:"The method you called is not defined.",visible:"Element is hidden, you must call refresh after element becomes visible"}}}(jQuery,window,document);(function(){var b="addEventListener" in (new Image());var a=function(d,e){this.options={pipeline:false,auto:true,prefetch:false,onComplete:function(){}};e&&typeof e=="object"&&this.setOptions(e);this.addQueue(d);this.queue.length&&this.options.auto&&this.processQueue()};a.prototype.setOptions=function(d){var f=this.options,e;for(e in d){d.hasOwnProperty(e)&&(f[e]=d[e])}return this};a.prototype.addQueue=function(d){this.queue=d.slice();return this};a.prototype.reset=function(){this.completed=[];this.errors=[];return this};a.prototype._addEvents=function(h,j,e){var d=this,i=this.options,f=function(){if(b){this.removeEventListener("error",k);this.removeEventListener("abort",k);this.removeEventListener("load",g)}else{this.onerror=this.onabort=this.onload=null}},k=function(){f.call(this);d.errors.push(j);i.onError&&i.onError.call(d,j);c.call(d,j);i.pipeline&&d._loadNext(e)},g=function(){f.call(this);d.completed.push(j);c.call(d,j,this);i.pipeline&&d._loadNext(e)};if(b){h.addEventListener("error",k,false);h.addEventListener("abort",k,false);h.addEventListener("load",g,false)}else{h.onerror=h.onabort=k;h.onload=g}return this};a.prototype._load=function(f,d){var e=new Image;this._addEvents(e,f,d);e.src=f;return this};a.prototype._loadNext=function(d){d++;this.queue[d]&&this._load(this.queue[d],d);return this};a.prototype.processQueue=function(){var f=0,e=this.queue,d=e.length;this.reset();if(!this.options.pipeline){for(;f<d;++f){this._load(e[f],f)}}else{this._load(e[0],0)}return this};function c(g,e){var d=[],f=this.options;f.onProgress&&g&&f.onProgress.call(this,g,e,this.completed.length);if(this.completed.length+this.errors.length===this.queue.length){d.push(this.completed);this.errors.length&&d.push(this.errors);f.onComplete.apply(this,d)}return this}if(typeof define==="function"&&define.amd){define(function(){return a})}else{this.preLoader=a}}).call(this);
/* Pushy - v0.9.2 - 2014-9-13
* Pushy is a responsive off-canvas navigation menu using CSS transforms & transitions.
* https://github.com/christophery/pushy/
* by Christopher Yee */
$(function(){var e=$(".pushy"),g=$("body"),c=$("#container"),k=$(".push"),a=$(".site-overlay"),l="pushy-left pushy-open",f="pushy-active",q="container-push",n="push-push",d=$(".menu-btn, .pushy a"),j=200,h=e.width()+"px";function p(){g.toggleClass(f);e.toggleClass(l);c.toggleClass(q);k.toggleClass(n)}function m(){g.addClass(f);e.animate({left:"0px"},j);c.animate({left:h},j);k.animate({left:h},j)}function o(){g.removeClass(f);e.animate({left:"-"+h},j);c.animate({left:"0px"},j);k.animate({left:"0px"},j)}cssTransforms3d=(function i(){var v=document.createElement("p"),r=false,u={webkitTransform:"-webkit-transform",OTransform:"-o-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"};document.body.insertBefore(v,null);for(var s in u){if(v.style[s]!==undefined){v.style[s]="translate3d(1px,1px,1px)";r=window.getComputedStyle(v).getPropertyValue(u[s])}}document.body.removeChild(v);return(r!==undefined&&r.length>0&&r!=="none")})();if(cssTransforms3d){d.click(function(){p()});a.click(function(){p()})}else{e.css({left:"-"+h});c.css({"overflow-x":"hidden"});var b=true;d.click(function(){if(b){m();b=false}else{o();b=true}});a.click(function(){if(b){m();b=false}else{o();b=true}})}});
/*
 * sly 1.4.4 - 30th Mar 2015
 * https://github.com/darsain/sly
 *
 * Licensed under the MIT license.
 * http://opensource.org/licenses/MIT
 */
(function(s,x,e){var F="sly";var E="Sly";var y=F;var p=x.cancelAnimationFrame||x.cancelRequestAnimationFrame;var B=x.requestAnimationFrame;var l,r;var G=s(document);var q="touchstart."+y+" mousedown."+y;var k="mousemove."+y+" mouseup."+y;var f="touchmove."+y+" touchend."+y;var u=(document.implementation.hasFeature("Event.wheel","3.0")?"wheel.":"mousewheel.")+y;var K="click."+y;var a="mousedown."+y;var t=["INPUT","SELECT","BUTTON","TEXTAREA"];var b=[];var A;var o=Math.abs;var v=Math.sqrt;var m=Math.pow;var C=Math.round;var i=Math.max;var H=Math.min;var g=0;G.on(u,function(w){var M=w.originalEvent[y];var L=+new Date();if(!M||M.options.scrollHijack<L-g){g=L}});function D(aA,aL,az){var aq=s.extend({},D.defaults,aL);var aV=this;var aF=I(aA);var S=s(aA);var a3=S.children().eq(0);var Y=0;var a6=0;var a7={start:0,center:0,end:0,cur:0,dest:0};var aO=s(aq.scrollBar).eq(0);var W=aO.children().eq(0);var M=0;var ai=0;var aJ={start:0,end:0,cur:0};var X=s(aq.pagesBar);var a5=0;var Z=[];var at=0;var aW=[];var ax={firstItem:0,lastItem:0,centerItem:0,activeItem:null,activePage:0};var aZ=new h(S[0]);var aG=new h(a3[0]);var R=new h(aO[0]);var aw=new h(W[0]);var ag=aq.itemNav==="basic";var aX=aq.itemNav==="forceCentered";var aS=aq.itemNav==="centered"||aX;var ap=!aF&&(ag||aS||aX);var a9=aq.scrollSource?s(aq.scrollSource):S;var ae=aq.dragSource?s(aq.dragSource):S;var U=s(aq.forward);var bb=s(aq.backward);var bf=s(aq.prev);var N=s(aq.next);var am=s(aq.prevPage);var L=s(aq.nextPage);var aa={};var aC={};var bc={};var aN={};var O={released:1};var a0={last:0,delta:0,resetTime:200};var al=0;var ao=0;var be=0;var w=0;var av,au;if(!aF){aA=S[0]}aV.initialized=0;aV.frame=aA;aV.slidee=a3[0];aV.pos=a7;aV.rel=ax;aV.items=aW;aV.pages=Z;aV.isPaused=0;aV.options=aq;aV.dragging=O;function P(bm){var bh=0;var bi=Z.length;a7.old=s.extend({},a7);Y=aF?0:S[aq.horizontal?"width":"height"]();M=aO[aq.horizontal?"width":"height"]();a6=aF?aA:a3[aq.horizontal?"outerWidth":"outerHeight"]();Z.length=0;a7.start=0;a7.end=i(a6-Y,0);if(ap){bh=aW.length;at=a3.children(aq.itemSelector);aW.length=0;var bl=j(a3,aq.horizontal?"paddingLeft":"paddingTop");var bo=j(a3,aq.horizontal?"paddingRight":"paddingBottom");var bg=s(at).css("boxSizing")==="border-box";var bt=at.css("float")!=="none";var bn=0;var bp=at.length-1;var br;a6=0;at.each(function(bv,bw){var bB=s(bw);var by=bw.getBoundingClientRect();var bC=C(aq.horizontal?by.width||by.right-by.left:by.height||by.bottom-by.top);var bx=j(bB,aq.horizontal?"marginLeft":"marginTop");var bu=j(bB,aq.horizontal?"marginRight":"marginBottom");var bA=bC+bx+bu;var bz=!bx||!bu;var bD={};bD.el=bw;bD.size=bz?bC:bA;bD.half=bD.size/2;bD.start=a6+(bz?bx:0);bD.center=bD.start-C(Y/2-bD.size/2);bD.end=bD.start-Y+bD.size;if(!bv){a6+=bl}a6+=bA;if(!aq.horizontal&&!bt){if(bu&&bx&&bv>0){a6-=H(bx,bu)}}if(bv===bp){bD.end+=bo;a6+=bo;bn=bz?bu:0}aW.push(bD);br=bD});a3[0].style[aq.horizontal?"width":"height"]=(bg?a6:a6-bl-bo)+"px";a6-=bn;if(aW.length){a7.start=aW[0][aX?"center":"start"];a7.end=aX?br.center:Y<a6?br.end:a7.start}else{a7.start=a7.end=0}}a7.center=C(a7.end/2+a7.start/2);ah();if(W.length&&M>0){if(aq.dynamicHandle){ai=a7.start===a7.end?M:C(M*Y/a6);ai=z(ai,aq.minHandleSize,M);W[0].style[aq.horizontal?"width":"height"]=ai+"px"}else{ai=W[aq.horizontal?"outerWidth":"outerHeight"]()}aJ.end=M-ai;if(!al){ar()}}if(!aF&&Y>0){var bs=a7.start;var bq="";if(ap){s.each(aW,function(bu,bv){if(aX){Z.push(bv.center)}else{if(bv.start+bv.size>bs&&bs<=a7.end){bs=bv.start;Z.push(bs);bs+=Y;if(bs>a7.end&&bs<a7.end+Y){Z.push(a7.end)}}}})}else{while(bs-Y<a7.end){Z.push(bs);bs+=Y}}if(X[0]&&bi!==Z.length){for(var bk=0;bk<Z.length;bk++){bq+=aq.pageBuilder.call(aV,bk)}a5=X.html(bq).children();a5.eq(ax.activePage).addClass(aq.activeClass)}}ax.slideeSize=a6;ax.frameSize=Y;ax.sbSize=M;ax.handleSize=ai;if(ap){if(bm&&aq.startAt!=null){aH(aq.startAt);aV[aS?"toCenter":"toStart"](aq.startAt)}var bj=aW[ax.activeItem];aQ(aS&&bj?bj.center:z(a7.dest,a7.start,a7.end))}else{if(bm){if(aq.startAt!=null){aQ(aq.startAt,1)}}else{aQ(z(a7.dest,a7.start,a7.end))}}aT("load")}aV.reload=function(){P()};function aQ(bk,bh,bi){if(ap&&O.released&&!bi){var bj=aE(bk);var bg=bk>a7.start&&bk<a7.end;if(aS){if(bg){bk=aW[bj.centerItem].center}if(aX&&aq.activateMiddle){aH(bj.centerItem)}}else{if(bg){bk=aW[bj.firstItem].start}}}if(O.init&&O.slidee&&aq.elasticBounds){if(bk>a7.end){bk=a7.end+(bk-a7.end)/6}else{if(bk<a7.start){bk=a7.start+(bk-a7.start)/6}}}else{bk=z(bk,a7.start,a7.end)}bc.start=+new Date();bc.time=0;bc.from=a7.cur;bc.to=bk;bc.delta=bk-a7.cur;bc.tweesing=O.tweese||O.init&&!O.slidee;bc.immediate=!bc.tweesing&&(bh||O.init&&O.slidee||!aq.speed);O.tweese=0;if(bk!==a7.dest){a7.dest=bk;aT("change");if(!al){aB()}}aP();ah();af();aD()}function aB(){if(!aV.initialized){return}if(!al){al=B(aB);if(O.released){aT("moveStart")}return}if(bc.immediate){a7.cur=bc.to}else{if(bc.tweesing){bc.tweeseDelta=bc.to-a7.cur;if(o(bc.tweeseDelta)<0.1){a7.cur=bc.to}else{a7.cur+=bc.tweeseDelta*(O.released?aq.swingSpeed:aq.syncSpeed)}}else{bc.time=H(+new Date()-bc.start,aq.speed);a7.cur=bc.from+bc.delta*s.easing[aq.easing](bc.time/aq.speed,bc.time,0,1,aq.speed)}}if(bc.to===a7.cur){a7.cur=bc.to;O.tweese=al=0}else{al=B(aB)}aT("move");if(!aF){if(l){a3[0].style[l]=r+(aq.horizontal?"translateX":"translateY")+"("+(-a7.cur)+"px)"}else{a3[0].style[aq.horizontal?"left":"top"]=-C(a7.cur)+"px"}}if(!al&&O.released){aT("moveEnd")}ar()}function ar(){if(W.length){aJ.cur=a7.start===a7.end?0:(((O.init&&!O.slidee)?a7.dest:a7.cur)-a7.start)/(a7.end-a7.start)*aJ.end;aJ.cur=z(C(aJ.cur),aJ.start,aJ.end);if(aC.hPos!==aJ.cur){aC.hPos=aJ.cur;if(l){W[0].style[l]=r+(aq.horizontal?"translateX":"translateY")+"("+aJ.cur+"px)"}else{W[0].style[aq.horizontal?"left":"top"]=aJ.cur+"px"}}}}function aD(){if(a5[0]&&aC.page!==ax.activePage){aC.page=ax.activePage;a5.removeClass(aq.activeClass).eq(ax.activePage).addClass(aq.activeClass);aT("activePage",aC.page)}}aV.getPos=function(bj){if(ap){var bh=T(bj);return bh!==-1?aW[bh]:false}else{var bg=a3.find(bj).eq(0);if(bg[0]){var bk=aq.horizontal?bg.offset().left-a3.offset().left:bg.offset().top-a3.offset().top;var bi=bg[aq.horizontal?"outerWidth":"outerHeight"]();return{start:bk,center:bk-Y/2+bi/2,end:bk-Y+bi,size:bi}}else{return false}}};aV.moveBy=function(bg){aN.speed=bg;if(O.init||!aN.speed||a7.cur===(aN.speed>0?a7.end:a7.start)){return}aN.lastTime=+new Date();aN.startPos=a7.cur;aR("button");O.init=1;aT("moveStart");p(w);ak()};function ak(){if(!aN.speed||a7.cur===(aN.speed>0?a7.end:a7.start)){aV.stop()}w=O.init?B(ak):0;aN.now=+new Date();aN.pos=a7.cur+(aN.now-aN.lastTime)/1000*aN.speed;aQ(O.init?aN.pos:C(aN.pos));if(!O.init&&a7.cur===a7.dest){aT("moveEnd")}aN.lastTime=aN.now}aV.stop=function(){if(O.source==="button"){O.init=0;O.released=1}};aV.prev=function(){aV.activate(ax.activeItem==null?0:ax.activeItem-1)};aV.next=function(){aV.activate(ax.activeItem==null?0:ax.activeItem+1)};aV.prevPage=function(){aV.activatePage(ax.activePage-1)};aV.nextPage=function(){aV.activatePage(ax.activePage+1)};aV.slideBy=function(bh,bg){if(!bh){return}if(ap){aV[aS?"toCenter":"toStart"](z((aS?ax.centerItem:ax.firstItem)+aq.scrollBy*bh,0,aW.length))}else{aQ(a7.dest+bh,bg)}};aV.slideTo=function(bh,bg){aQ(bh,bg)};function aK(bg,bj,bh){if(J(bj)==="boolean"){bh=bj;bj=e}if(bj===e){aQ(a7[bg],bh)}else{if(aS&&bg!=="center"){return}var bi=aV.getPos(bj);if(bi){aQ(bi[bg],bh,!aS)}}}aV.toStart=function(bh,bg){aK("start",bh,bg)};aV.toEnd=function(bh,bg){aK("end",bh,bg)};aV.toCenter=function(bh,bg){aK("center",bh,bg)};function T(bg){return bg!=null?I(bg)?bg>=0&&bg<aW.length?bg:-1:at.index(bg):-1}aV.getIndex=T;function bd(bg){return T(I(bg)&&bg<0?bg+aW.length:bg)}function aH(bh,bi){var bg=T(bh);if(!ap||bg<0){return false}if(aC.active!==bg||bi){at.eq(ax.activeItem).removeClass(aq.activeClass);at.eq(bg).addClass(aq.activeClass);aC.active=ax.activeItem=bg;af();aT("active",bg)}return bg}aV.activate=function(bi,bg){var bh=aH(bi);if(aq.smart&&bh!==false){if(aS){aV.toCenter(bh,bg)}else{if(bh>=ax.lastItem){aV.toStart(bh,bg)}else{if(bh<=ax.firstItem){aV.toEnd(bh,bg)}else{aP()}}}}};aV.activatePage=function(bh,bg){if(I(bh)){aQ(Z[z(bh,0,Z.length-1)],bg)}};function aE(bm){bm=z(I(bm)?bm:a7.dest,a7.start,a7.end);var bk={};var bn=aX?0:Y/2;if(!aF){for(var bh=0,bi=Z.length;bh<bi;bh++){if(bm>=a7.end||bh===Z.length-1){bk.activePage=Z.length-1;break}if(bm<=Z[bh]+bn){bk.activePage=bh;break}}}if(ap){var bl=false;var bp=false;var bg=false;for(var bj=0,bo=aW.length;bj<bo;bj++){if(bl===false&&bm<=aW[bj].start+aW[bj].half){bl=bj}if(bg===false&&bm<=aW[bj].center+aW[bj].half){bg=bj}if(bj===bo-1||bm<=aW[bj].end+aW[bj].half){bp=bj;break}}bk.firstItem=I(bl)?bl:0;bk.centerItem=I(bg)?bg:bk.firstItem;bk.lastItem=I(bp)?bp:bk.centerItem}return bk}function ah(bg){s.extend(ax,aE(bg))}function af(){var bh=a7.dest<=a7.start;var bk=a7.dest>=a7.end;var bi=(bh?1:0)|(bk?2:0);if(aC.slideePosState!==bi){aC.slideePosState=bi;if(am.is("button,input")){am.prop("disabled",bh)}if(L.is("button,input")){L.prop("disabled",bk)}am.add(bb)[bh?"addClass":"removeClass"](aq.disabledClass);L.add(U)[bk?"addClass":"removeClass"](aq.disabledClass)}if(aC.fwdbwdState!==bi&&O.released){aC.fwdbwdState=bi;if(bb.is("button,input")){bb.prop("disabled",bh)}if(U.is("button,input")){U.prop("disabled",bk)}}if(ap&&ax.activeItem!=null){var bg=ax.activeItem===0;var bj=ax.activeItem>=aW.length-1;var bl=(bg?1:0)|(bj?2:0);if(aC.itemsButtonState!==bl){aC.itemsButtonState=bl;if(bf.is("button,input")){bf.prop("disabled",bg)}if(N.is("button,input")){N.prop("disabled",bj)}bf[bg?"addClass":"removeClass"](aq.disabledClass);N[bj?"addClass":"removeClass"](aq.disabledClass)}}}aV.resume=function(bg){if(!aq.cycleBy||!aq.cycleInterval||aq.cycleBy==="items"&&(!aW[0]||ax.activeItem==null)||bg<aV.isPaused){return}aV.isPaused=0;if(be){be=clearTimeout(be)}else{aT("resume")}be=setTimeout(function(){aT("cycle");switch(aq.cycleBy){case"items":aV.activate(ax.activeItem>=aW.length-1?0:ax.activeItem+1);break;case"pages":aV.activatePage(ax.activePage>=Z.length-1?0:ax.activePage+1);break}},aq.cycleInterval)};aV.pause=function(bg){if(bg<aV.isPaused){return}aV.isPaused=bg||100;if(be){be=clearTimeout(be);aT("pause")}};aV.toggle=function(){aV[be?"pause":"resume"]()};aV.set=function(bg,bh){if(s.isPlainObject(bg)){s.extend(aq,bg)}else{if(aq.hasOwnProperty(bg)){aq[bg]=bh}}};aV.add=function(bi,bh){var bg=s(bi);if(ap){if(bh==null||!aW[0]||bh>=aW.length){bg.appendTo(a3)}else{if(aW.length){bg.insertBefore(aW[bh].el)}}if(ax.activeItem!=null&&bh<=ax.activeItem){aC.active=ax.activeItem+=bg.length}}else{a3.append(bg)}P()};aV.remove=function(bh){if(ap){var bg=bd(bh);if(bg>-1){at.eq(bg).remove();var bi=bg===ax.activeItem;if(ax.activeItem!=null&&bg<ax.activeItem){aC.active=--ax.activeItem}P();if(bi){aC.active=null;aV.activate(ax.activeItem)}}}else{s(bh).remove();P()}};function aY(bi,bg,bl){bi=bd(bi);bg=bd(bg);if(bi>-1&&bg>-1&&bi!==bg&&(!bl||bg!==bi-1)&&(bl||bg!==bi+1)){at.eq(bi)[bl?"insertAfter":"insertBefore"](aW[bg].el);var bk=bi<bg?bi:(bl?bg:bg-1);var bh=bi>bg?bi:(bl?bg+1:bg);var bj=bi>bg;if(ax.activeItem!=null){if(bi===ax.activeItem){aC.active=ax.activeItem=bl?(bj?bg+1:bg):(bj?bg:bg-1)}else{if(ax.activeItem>bk&&ax.activeItem<bh){aC.active=ax.activeItem+=bj?1:-1}}}P()}}aV.moveAfter=function(bh,bg){aY(bh,bg,1)};aV.moveBefore=function(bh,bg){aY(bh,bg)};aV.on=function(bh,bj){if(J(bh)==="object"){for(var bi in bh){if(bh.hasOwnProperty(bi)){aV.on(bi,bh[bi])}}}else{if(J(bj)==="function"){var bm=bh.split(" ");for(var bn=0,bg=bm.length;bn<bg;bn++){aa[bm[bn]]=aa[bm[bn]]||[];if(Q(bm[bn],bj)===-1){aa[bm[bn]].push(bj)}}}else{if(J(bj)==="array"){for(var bl=0,bk=bj.length;bl<bk;bl++){aV.on(bh,bj[bl])}}}}};aV.one=function(bg,bi){function bh(){bi.apply(aV,arguments);aV.off(bg,bh)}aV.on(bg,bh)};aV.off=function(bi,bj){if(bj instanceof Array){for(var bl=0,bk=bj.length;bl<bk;bl++){aV.off(bi,bj[bl])}}else{var bm=bi.split(" ");for(var bn=0,bg=bm.length;bn<bg;bn++){aa[bm[bn]]=aa[bm[bn]]||[];if(bj==null){aa[bm[bn]].length=0}else{var bh=Q(bm[bn],bj);if(bh!==-1){aa[bm[bn]].splice(bh,1)}}}}};function Q(bh,bj){for(var bi=0,bg=aa[bh].length;bi<bg;bi++){if(aa[bh][bi]===bj){return bi}}return -1}function aP(){if(O.released&&!aV.isPaused){aV.resume()}}function aM(bg){return C(z(bg,aJ.start,aJ.end)/aJ.end*(a7.end-a7.start))+a7.start}function a2(){O.history[0]=O.history[1];O.history[1]=O.history[2];O.history[2]=O.history[3];O.history[3]=O.delta}function aR(bg){O.released=0;O.source=bg;O.slidee=bg==="slidee"}function a8(bi){var bg=bi.type==="touchstart";var bj=bi.data.source;var bh=bj==="slidee";if(O.init||!bg&&aI(bi.target)){return}if(bj==="handle"&&(!aq.dragHandle||aJ.start===aJ.end)){return}if(bh&&!(bg?aq.touchDragging:aq.mouseDragging&&bi.which<2)){return}if(!bg){n(bi)}aR(bj);O.init=0;O.$source=s(bi.target);O.touch=bg;O.pointer=bg?bi.originalEvent.touches[0]:bi;O.initX=O.pointer.pageX;O.initY=O.pointer.pageY;O.initPos=bh?a7.cur:aJ.cur;O.start=+new Date();O.time=0;O.path=0;O.delta=0;O.locked=0;O.history=[0,0,0,0];O.pathToLock=bh?bg?30:10:0;G.on(bg?f:k,V);aV.pause(1);(bh?a3:W).addClass(aq.draggedClass);aT("moveStart");if(bh){ao=setInterval(a2,10)}}function V(bg){O.released=bg.type==="mouseup"||bg.type==="touchend";O.pointer=O.touch?bg.originalEvent[O.released?"changedTouches":"touches"][0]:bg;O.pathX=O.pointer.pageX-O.initX;O.pathY=O.pointer.pageY-O.initY;O.path=v(m(O.pathX,2)+m(O.pathY,2));O.delta=aq.horizontal?O.pathX:O.pathY;if(!O.released&&O.path<1){return}if(!O.init){if(aq.horizontal?o(O.pathX)>o(O.pathY):o(O.pathX)<o(O.pathY)){O.init=1}else{return a4()}}n(bg);if(!O.locked&&O.path>O.pathToLock&&O.slidee){O.locked=1;O.$source.on(K,c)}if(O.released){a4();if(aq.releaseSwing&&O.slidee){O.swing=(O.delta-O.history[0])/40*300;O.delta+=O.swing;O.tweese=o(O.swing)>10}}aQ(O.slidee?C(O.initPos-O.delta):aM(O.initPos+O.delta))}function a4(){clearInterval(ao);O.released=true;G.off(O.touch?f:k,V);(O.slidee?a3:W).removeClass(aq.draggedClass);setTimeout(function(){O.$source.off(K,c)});if(a7.cur===a7.dest&&O.init){aT("moveEnd")}aV.resume(1);O.init=0}function aI(bg){return ~s.inArray(bg.nodeName,t)||s(bg).is(aq.interactive)}function ay(){aV.stop();G.off("mouseup",ay)}function ad(bg){n(bg);switch(this){case U[0]:case bb[0]:aV.moveBy(U.is(this)?aq.moveBy:-aq.moveBy);G.on("mouseup",ay);break;case bf[0]:aV.prev();break;case N[0]:aV.next();break;case am[0]:aV.prevPage();break;case L[0]:aV.nextPage();break}}function aj(bg){a0.curDelta=((aq.horizontal?bg.deltaY||bg.deltaX:bg.deltaY)||-bg.wheelDelta);a0.curDelta/=bg.deltaMode===1?3:100;if(!ap){return a0.curDelta}A=+new Date();if(a0.last<A-a0.resetTime){a0.delta=0}a0.last=A;a0.delta+=a0.curDelta;if(o(a0.delta)<1){a0.finalDelta=0}else{a0.finalDelta=C(a0.delta/1);a0.delta%=1}return a0.finalDelta}function aU(bg){bg.originalEvent[y]=aV;var bh=+new Date();if(g+aq.scrollHijack>bh){g=bh;return}if(!aq.scrollBy||a7.start===a7.end){return}var bi=aj(bg.originalEvent);if(aq.scrollTrap||bi>0&&a7.dest<a7.end||bi<0&&a7.dest>a7.start){n(bg,1)}aV.slideBy(aq.scrollBy*bi)}function ba(bg){if(aq.clickBar&&bg.target===aO[0]){n(bg);aQ(aM((aq.horizontal?bg.pageX-aO.offset().left:bg.pageY-aO.offset().top)-ai/2))}}function ac(bg){if(!aq.keyboardNavBy){return}switch(bg.which){case aq.horizontal?37:38:n(bg);aV[aq.keyboardNavBy==="pages"?"prevPage":"prev"]();break;case aq.horizontal?39:40:n(bg);aV[aq.keyboardNavBy==="pages"?"nextPage":"next"]();break}}function ab(bg){if(aI(this)){bg.originalEvent[y+"ignore"]=true;return}if(this.parentNode!==a3[0]||bg.originalEvent[y+"ignore"]){return}aV.activate(this)}function a1(){if(this.parentNode===X[0]){aV.activatePage(a5.index(this))}}function an(bg){if(aq.pauseOnHover){aV[bg.type==="mouseenter"?"pause":"resume"](2)}}function aT(bh,bg){if(aa[bh]){au=aa[bh].length;b.length=0;for(av=0;av<au;av++){b.push(aa[bh][av])}for(av=0;av<au;av++){b[av].call(aV,bh,bg)}}}aV.destroy=function(){a9.add(W).add(aO).add(X).add(U).add(bb).add(bf).add(N).add(am).add(L).off("."+y);G.off("keydown",ac);bf.add(N).add(am).add(L).removeClass(aq.disabledClass);if(at&&ax.activeItem!=null){at.eq(ax.activeItem).removeClass(aq.activeClass)}X.empty();if(!aF){S.off("."+y);aZ.restore();aG.restore();R.restore();aw.restore();s.removeData(aA,y)}aW.length=Z.length=0;aC={};aV.initialized=0;return aV};aV.init=function(){if(aV.initialized){return}aV.on(az);var bg=["overflow","position"];var bh=["position","webkitTransform","msTransform","transform","left","top","width","height"];aZ.save.apply(aZ,bg);R.save.apply(R,bg);aG.save.apply(aG,bh);aw.save.apply(aw,bh);var bi=W;if(!aF){bi=bi.add(a3);S.css("overflow","hidden");if(!l&&S.css("position")==="static"){S.css("position","relative")}}if(l){if(r){bi.css(l,r)}}else{if(aO.css("position")==="static"){aO.css("position","relative")}bi.css({position:"absolute"})}if(aq.forward){U.on(a,ad)}if(aq.backward){bb.on(a,ad)}if(aq.prev){bf.on(K,ad)}if(aq.next){N.on(K,ad)}if(aq.prevPage){am.on(K,ad)}if(aq.nextPage){L.on(K,ad)}a9.on(u,aU);if(aO[0]){aO.on(K,ba)}if(ap&&aq.activateOn){S.on(aq.activateOn+"."+y,"*",ab)}if(X[0]&&aq.activatePageOn){X.on(aq.activatePageOn+"."+y,"*",a1)}ae.on(q,{source:"slidee"},a8);if(W){W.on(q,{source:"handle"},a8)}G.on("keydown",ac);if(!aF){S.on("mouseenter."+y+" mouseleave."+y,an);S.on("scroll."+y,d)}aV.initialized=1;P(true);if(aq.cycleBy&&!aF){aV[aq.startPaused?"pause":"resume"]()}return aV}}function J(w){if(w==null){return String(w)}if(typeof w==="object"||typeof w==="function"){return Object.prototype.toString.call(w).match(/\s([a-z]+)/i)[1].toLowerCase()||"object"}return typeof w}function n(L,w){L.preventDefault();if(w){L.stopPropagation()}}function c(w){n(w,1);s(this).off(w.type,c)}function d(){this.scrollLeft=0;this.scrollTop=0}function I(w){return !isNaN(parseFloat(w))&&isFinite(w)}function j(w,L){return 0|C(String(w.css(L)).replace(/[^\-0-9.]/g,""))}function z(M,L,w){return M<L?L:M>w?w:M}function h(L){var w={};w.style={};w.save=function(){if(!L){return}for(var M=0;M<arguments.length;M++){w.style[arguments[M]]=L.style[arguments[M]]}return w};w.restore=function(){if(!L){return}for(var M in w.style){if(w.style.hasOwnProperty(M)){L.style[M]=w.style[M]}}return w};return w}(function(L){B=L.requestAnimationFrame||L.webkitRequestAnimationFrame||O;var N=new Date().getTime();function O(P){var R=new Date().getTime();var w=Math.max(0,16-(R-N));var Q=setTimeout(P,w);N=R;return Q}var M=L.cancelAnimationFrame||L.webkitCancelAnimationFrame||L.clearTimeout;p=function(w){M.call(L,w)}}(window));(function(){var M=["","webkit","moz","ms","o"];var w=document.createElement("div");function L(Q){for(var P=0,O=M.length;P<O;P++){var N=M[P]?M[P]+Q.charAt(0).toUpperCase()+Q.slice(1):Q;if(w.style[N]!=null){return N}}}l=L("transform");r=L("perspective")?"translateZ(0) ":""}());x[E]=D;s.fn[F]=function(L,M){var N,w;if(!s.isPlainObject(L)){if(J(L)==="string"||L===false){N=L===false?"destroy":L;w=Array.prototype.slice.call(arguments,1)}L={}}return this.each(function(P,O){var Q=s.data(O,y);if(!Q&&!N){Q=s.data(O,y,new D(O,L,M).init())}else{if(Q&&N){if(Q[N]){Q[N].apply(Q,w)}}}})};D.defaults={horizontal:false,itemNav:null,itemSelector:null,smart:false,activateOn:null,activateMiddle:false,scrollSource:null,scrollBy:0,scrollHijack:300,scrollTrap:false,dragSource:null,mouseDragging:false,touchDragging:false,releaseSwing:false,swingSpeed:0.2,elasticBounds:false,interactive:null,scrollBar:null,dragHandle:false,dynamicHandle:false,minHandleSize:50,clickBar:false,syncSpeed:0.5,pagesBar:null,activatePageOn:null,pageBuilder:function(w){return"<li>"+(w+1)+"</li>"},forward:null,backward:null,prev:null,next:null,prevPage:null,nextPage:null,cycleBy:null,cycleInterval:5000,pauseOnHover:false,startPaused:false,moveBy:300,speed:0,easing:"swing",startAt:null,keyboardNavBy:null,draggedClass:"dragged",activeClass:"active",disabledClass:"disabled"}}(jQuery,window));(function(h){var b=-1,g=-1;var e=function(i){return parseFloat(i)||0};var f=function(m){var i=1,k=h(m),j=null,l=[];k.each(function(){var n=h(this),p=n.offset().top-e(n.css("margin-top")),o=l.length>0?l[l.length-1]:null;if(o===null){l.push(n)}else{if(Math.floor(Math.abs(j-p))<=i){l[l.length-1]=o.add(n)}else{l.push(n)}}j=p});return l};var d=function(i){var j={byRow:true,property:"height",target:null,remove:false};if(typeof i==="object"){return h.extend(j,i)}if(typeof i==="boolean"){j.byRow=i}else{if(i==="remove"){j.remove=true}}return j};var a=h.fn.matchHeight=function(i){var k=d(i);if(k.remove){var j=this;this.css(k.property,"");h.each(a._groups,function(l,m){m.elements=m.elements.not(j)});return this}if(this.length<=1&&!k.target){return this}a._groups.push({elements:this,options:k});a._apply(this,k);return this};a._groups=[];a._throttle=80;a._maintainScroll=false;a._beforeUpdate=null;a._afterUpdate=null;a._apply=function(o,k){var m=d(k),l=h(o),n=[l];var p=h(window).scrollTop(),j=h("html").outerHeight(true);var i=l.parents().filter(":hidden");i.each(function(){var q=h(this);q.data("style-cache",q.attr("style"))});i.css("display","block");if(m.byRow&&!m.target){l.each(function(){var q=h(this),r=q.css("display")==="inline-block"?"inline-block":"block";q.data("style-cache",q.attr("style"));q.css({display:r,"padding-top":"0","padding-bottom":"0","margin-top":"0","margin-bottom":"0","border-top-width":"0","border-bottom-width":"0",height:"100px"})});n=f(l);l.each(function(){var q=h(this);q.attr("style",q.data("style-cache")||"")})}h.each(n,function(s,t){var r=h(t),q=0;if(!m.target){if(m.byRow&&r.length<=1){r.css(m.property,"");return}r.each(function(){var u=h(this),w=u.css("display")==="inline-block"?"inline-block":"block";var v={display:w};v[m.property]="";u.css(v);if(u.outerHeight(false)>q){q=u.outerHeight(false)}u.css("display","")})}else{q=m.target.outerHeight(false)}r.each(function(){var v=h(this),u=0;if(m.target&&v.is(m.target)){return}if(v.css("box-sizing")!=="border-box"){u+=e(v.css("border-top-width"))+e(v.css("border-bottom-width"));u+=e(v.css("padding-top"))+e(v.css("padding-bottom"))}v.css(m.property,q-u)})});i.each(function(){var q=h(this);q.attr("style",q.data("style-cache")||null)});if(a._maintainScroll){h(window).scrollTop((p/j)*h("html").outerHeight(true))}return this};a._applyDataApi=function(){var i={};h("[data-match-height], [data-mh]").each(function(){var k=h(this),j=k.attr("data-mh")||k.attr("data-match-height");if(j in i){i[j]=i[j].add(k)}else{i[j]=k}});h.each(i,function(){this.matchHeight(true)})};var c=function(i){if(a._beforeUpdate){a._beforeUpdate(i,a._groups)}h.each(a._groups,function(){a._apply(this.elements,this.options)});if(a._afterUpdate){a._afterUpdate(i,a._groups)}};a._update=function(k,j){if(j&&j.type==="resize"){var i=h(window).width();if(i===b){return}b=i}if(!k){c(j)}else{if(g===-1){g=setTimeout(function(){c(j);g=-1},a._throttle)}}};h(a._applyDataApi);h(window).bind("load",function(i){a._update(false,i)});h(window).bind("resize orientationchange",function(i){a._update(true,i)})})(jQuery);(function(){var a,c,b,h,e,g,d,f;if(!String.format){String.prototype.format=function(){var l,j,k;l=this;j=0;while(j<arguments.length){k=new RegExp("\\{"+j+"\\}","gi");l=l.replace(k,arguments[j]);j++}return l}}this.share_facebook=function(k,j,l){var i;i="http://www.facebook.com/sharer.php?s=100&p[title]={0}&p[summary]={1}&p[url]={2}&p[images[0]]={3}".format(encodeURIComponent(k),encodeURIComponent(j),encodeURIComponent(document.URL),encodeURIComponent(l));return window.open(i,"Facebook","width=700,height=380")};window.log_visitor=function(i){return $.get("/log_screencast_visitor/"+i)};window.subscribe=function(i,k,j){if(j){j.preventDefault()}return $.get("/subscribe/?entity="+i+"&pk="+k,function(l){if(l.success){return location.reload(true)}})};window.unsubscribe=function(i,k,j){if(j){j.preventDefault()}return $.get("/unsubscribe/?entity="+i+"&pk="+k,function(l){if(l.success){return location.reload(true)}})};this.share_twitter=function(j,i){i="https://twitter.com/intent/tweet?url={0}&text={1}".format(encodeURIComponent(i),encodeURIComponent(j));return window.open(i,"Twitter","width=500,height=320")};this.share_gplus=function(){var i;i="https://plus.google.com/share?url={0}".format(encodeURIComponent(document.URL));return window.open(i,"Google+","width=700,height=380")};this.upvote=function(){$.get(screencast_meta.upvote_url);$("#screencast-voting-btns").hide();return $("#screencast-voting-msg").show()};this.downvote=function(){$.get(screencast_meta.downvote_url);$("#screencast-voting-btns").hide();return $("#screencast-voting-msg").show()};this.taggify=function(i){return $(".taggified").tagEditor({placeholder:"Please tag your screencast",onChange:function(l,k,j){return $.each(j,function(m,n){if(window.tags.indexOf(n)===-1){return $(".taggified").tagEditor("removeTag",n)}})},autocomplete:{source:function(l,j){var k;k=$.ui.autocomplete.filter(window.tags,l.term);return j(k.slice(0,20))},minLength:3,delay:0}})};this.setup_books_slider=function(i){return $("#books-recommendations-container").load("/tag_recommended_books/"+i,function(){var l,j,k;l=$("#book-recommendations");j=l.children("ul").eq(0);k=l.parent();l.sly({horizontal:1,itemNav:"basic",smart:1,mouseDragging:1,touchDragging:1,releaseSwing:1,startAt:0,scrollBar:k.find(".scrollbar"),scrollBy:1,pagesBar:k.find(".pages"),activatePageOn:"click",speed:300,elasticBounds:1,easing:"easeOutExpo",dragHandle:1,dynamicHandle:1,clickBar:1,forward:k.find(".forward"),backward:k.find(".backward"),prev:k.find(".prev"),next:k.find(".next"),prevPage:k.find(".prevPage"),nextPage:k.find(".nextPage")});$(window).resize(function(){return l.sly("reload")});return l.sly("reload")})};a=function(i){$("#tag-more").addClass("tertiary");$("#tag-more").find("i").removeClass("up");return $("#subheader-content").hide()};d=function(i){$("#tag-more").removeClass("tertiary");$("#tag-more").find("i").addClass("up");$("#subheader-content").show();$("#book-recommendations").sly("reload");return $(".ui.embed").embed()};c=function(){var i;i=new Array();$.each($("img.inject-thumb"),function(j,k){return i.push($(k).attr("data-thumb"))});if(typeof preLoader!=="undefined"){return new preLoader(i,{onProgress:function(l,k,j){if(k){return $("img.inject-thumb[data-thumb='"+l+"']").attr("src",l)}},onComplete:function(j,k){}})}};b=function(){if($("#pagination_prev").get(0)){return $("#pagination_prev").get(0).click()}};e=function(){if($("#pagination_next").get(0)){return $("#pagination_next").get(0).click()}};h=function(i){i=i||window.event;switch(i.keyCode){case 37:return b();case 39:return e()}};$(document).ready(function(){var j,i;c();$(".eq").matchHeight();$(document).keydown(function(k){return h(k)});$("#jumbotron h1 span").transition("bounce");$("#tag-more").click(function(){if($(this).find("i").hasClass("up")){return a()}else{return d()}});$(".tabular.menu .item").tab();$("#tag-definition-tabs .item").tab();$(".ui.dropdown").not(".no").dropdown({transition:"drop",duration:250});$(".ui.dropdown.user-name-dropdown").dropdown({transition:"drop",duration:250,action:"select"});$(".popup-trigger").popup({position:"top right"});$("#decline-modal-trigger").click(function(){return $("#decline-modal").modal("setting","transition","vertical flip").modal("show")});$(".message .close").on("click",function(){return $(this).closest(".message").transition("scale out")});if($("#id_price").length!==0){$("#id_price").on("change",function(){return $.get("/stripe_check_auth/",function(k){if(k.connected===false){$("#id_price").val(0);return $(".basic.stripe-not-connected.modal").modal("show")}})})}if($("#screencast").length!==0){j="devcasts";i=document.createElement("script");i.type="text/javascript";i.async=true;i.src="//"+j+".disqus.com/embed.js";document.getElementsByTagName("body")[0].appendChild(i);$("#shrfb").click(function(){return share_facebook(screencast_meta.title,screencast_meta.intro_text,screencast_meta.thumbnail_url)});$("#shrtw").click(function(){return share_twitter(screencast_meta.twitter_message,screencast_meta.short_url)});$("#shrgp").click(share_gplus)}$(".ui.form#contact-form").form({email:{identifier:"email",rules:[{type:"empty",prompt:"Email is required"},{type:"empty",prompt:"Please provide a valid email"}]},body:{identifier:"body",rules:[{type:"empty",prompt:"Your message is required"},{type:"length[50]",prompt:"Your message appears to be a little short"}]}},{inline:true,on:"blur"});if(g("unlock")==="1"){window.unlock()}return $(".ui.rating.user-rating").rating({interactive:false})});g=function(i){var k,j;i=i.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");k=new RegExp("[\\?&]"+i+"=([^&#]*)");j=k.exec(location.search);if(j===null){return""}else{return decodeURIComponent(j[1].replace(/\+/g," "))}};f=StripeCheckout.configure({key:window.STRIPE_PUBLISHABLE_KEY,image:window.STATIC_URL+"images/social_logo.png",token:function(i){return $.get("/unlock/"+screencast_meta.id+"/?token_id="+i.id,function(j){if(j.success){return location.reload(true)}else{return $(".basic.payment-declined.modal").modal("show")}})}});window.connect_stripe_account=function(){return window.open("/stripe_auth","Connect with Stripe","width=800, height=600")};window.unlock=function(){if(!screencast_meta.unlocked){return $.get("/unlock/"+screencast_meta.id+"/meta/",function(i){return f.open({name:i.checkout.title,description:i.checkout.description,amount:i.checkout.amount,panelLabel:"Unlock",email:i.user.email})})}};$(window).on("popstate",function(){return f.close()})}).call(this)}).call(this);